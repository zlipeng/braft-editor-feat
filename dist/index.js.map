{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///external \"react\"","webpack:///../node_modules/prop-types/index.js","webpack:///../node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///../node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///external \"braft-utils\"","webpack:///../node_modules/uuid/dist/index.js","webpack:///external \"draft-js\"","webpack:///../node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///../node_modules/@babel/runtime/helpers/createClass.js","webpack:///../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///../node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///../node_modules/@babel/runtime/helpers/inherits.js","webpack:///../node_modules/@babel/runtime/helpers/extends.js","webpack:///../node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///external \"immutable\"","webpack:///external \"braft-convert\"","webpack:///../node_modules/@babel/runtime/helpers/typeof.js","webpack:///external \"react-dom\"","webpack:///../node_modules/uuid/dist/bytesToUuid.js","webpack:///../node_modules/draft-js-multidecorators/index.js","webpack:///external \"braft-finder\"","webpack:///../node_modules/uuid/dist/rng-browser.js","webpack:///../node_modules/uuid/dist/v35.js","webpack:///../node_modules/draft-js/lib/CharacterMetadata.js","webpack:///../node_modules/draft-js/lib/findRangesImmutable.js","webpack:///../node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///../node_modules/@babel/runtime/helpers/objectWithoutProperties.js","webpack:///../node_modules/draft-js/lib/getFragmentFromSelection.js","webpack:///external \"draftjs-utils\"","webpack:///../node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///../node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///../node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///../node_modules/prop-types/factoryWithThrowingShims.js","webpack:///../node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack:///../node_modules/uuid/dist/v1.js","webpack:///../node_modules/uuid/dist/v3.js","webpack:///../node_modules/uuid/dist/md5-browser.js","webpack:///../node_modules/uuid/dist/v4.js","webpack:///../node_modules/uuid/dist/v5.js","webpack:///../node_modules/uuid/dist/sha1-browser.js","webpack:///../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///../node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///../node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","webpack:///../node_modules/draft-js/lib/getContentStateFragment.js","webpack:///../node_modules/draft-js/lib/randomizeBlockMapKeys.js","webpack:///../node_modules/draft-js/lib/ContentBlockNode.js","webpack:///../node_modules/draft-js/lib/generateRandomKey.js","webpack:///../node_modules/draft-js/lib/removeEntitiesAtEdges.js","webpack:///../node_modules/fbjs/lib/invariant.js","webpack:///./helpers/extension.js","webpack:///./renderers/block/blockRenderMap.js","webpack:///./configs/controls.js","webpack:///../node_modules/@maximusft/mergeclassnames/dist/mergeClassNames.js","webpack:///./components/common/Switch/index.jsx","webpack:///./renderers/atomics/Image/index.jsx","webpack:///./components/common/Modal/index.jsx","webpack:///./components/business/PlayerModal/index.jsx","webpack:///./renderers/atomics/Video/index.jsx","webpack:///./renderers/atomics/Audio/index.jsx","webpack:///./renderers/atomics/Embed/index.jsx","webpack:///./renderers/atomics/HorizontalLine/index.jsx","webpack:///./renderers/block/blockRendererFn.js","webpack:///./renderers/block/blockStyleFn.js","webpack:///./renderers/inline/inlineStyleMap.js","webpack:///./renderers/inline/inlineStyleFn.js","webpack:///./renderers/decorators/Link/index.jsx","webpack:///./renderers/decorators/index.js","webpack:///./renderers/index.js","webpack:///./languages/en.js","webpack:///./languages/zh.js","webpack:///./languages/zh-hant.js","webpack:///./languages/pl.js","webpack:///./languages/kr.js","webpack:///./languages/tr.js","webpack:///./languages/jpn.js","webpack:///./languages/ru.js","webpack:///./languages/fr.js","webpack:///./languages/pt-br.js","webpack:///./languages/vi-vn.js","webpack:///./languages/index.js","webpack:///./configs/keybindings.js","webpack:///./configs/props.js","webpack:///./configs/handlers.js","webpack:///./helpers/responsive.js","webpack:///./components/common/DropDown/index.jsx","webpack:///./components/business/ControlGroup/index.jsx","webpack:///./components/business/LinkEditor/index.jsx","webpack:///./configs/maps.js","webpack:///./components/business/Headings/index.jsx","webpack:///./components/common/ColorPicker/index.jsx","webpack:///./components/business/TextColor/index.jsx","webpack:///./components/business/FontSize/index.jsx","webpack:///./components/business/LineHeight/index.jsx","webpack:///./components/business/FontFamily/index.jsx","webpack:///./components/business/TextAlign/index.jsx","webpack:///./components/business/EmojiPicker/index.jsx","webpack:///./components/business/LetterSpacing/index.jsx","webpack:///./components/business/TextIndent/index.jsx","webpack:///./components/business/ControlBar/index.jsx","webpack:///./editor/index.jsx","webpack:///./index.jsx","webpack:///./components/common/Switch/style.scss","webpack:///./renderers/atomics/Image/style.scss","webpack:///./components/common/Modal/style.scss","webpack:///./components/business/PlayerModal/style.scss","webpack:///./renderers/atomics/Video/style.scss","webpack:///./renderers/atomics/Audio/style.scss","webpack:///./renderers/atomics/Embed/style.scss","webpack:///./renderers/atomics/HorizontalLine/style.scss","webpack:///./components/common/DropDown/style.scss","webpack:///./components/business/LinkEditor/style.scss","webpack:///./components/business/Headings/style.scss","webpack:///./components/common/ColorPicker/style.scss","webpack:///./components/business/TextColor/style.scss","webpack:///./components/business/FontSize/style.scss","webpack:///./components/business/LineHeight/style.scss","webpack:///./components/business/FontFamily/style.scss","webpack:///./components/business/EmojiPicker/style.scss","webpack:///./components/business/LetterSpacing/style.scss","webpack:///./components/business/ControlBar/style.scss","webpack:///../node_modules/draft-js/dist/Draft.css","webpack:///./assets/scss/_base.scss"],"names":["extensionControls","extensionDecorators","propInterceptors","extensionBlockRenderMaps","extensionBlockRendererFns","extensionInlineStyleMaps","extensionInlineStyleFns","extensionEntities","inlineStyleImporters","inlineStyleExporters","blockImporters","blockExporters","filterByEditorId","items","editorId","filter","item","includeEditors","map","data","excludeEditors","indexOf","getPropInterceptors","getExtensionControls","getExtensionDecorators","getExtensionBlockRenderMaps","getExtensionBlockRendererFns","getExtensionInlineStyleMap","inlineStyleMap","forEach","inlineStyleName","styleMap","getExtensionInlineStyleFns","compositeStyleImportFn","styleImportFn","nodeName","node","style","styleImporter","importer","add","compositeStyleExportFn","styleExportFn","toUpperCase","result","undefined","find","exporter","compositeEntityImportFn","entityImportFn","createEntity","source","entityItem","matched","entityType","mutability","compositeEntityExportFn","entityExportFn","entity","originalText","type","compositeBlockImportFn","blockImportFn","blockImporter","compositeBlockExportFn","blockExportFn","contentState","block","blockExporter","useExtension","extension","Array","push","control","name","key","command","styleFn","decorator","component","blockType","renderMap","rendererFn","strategy","getDecorations","interceptor","createExtensibleEditor","BraftEditor","use","props","blockRenderMap","customBlockRenderMap","Map","atomic","element","wrapper","reduce","acc","merge","DefaultDraftBlockRenderMap","error","console","warn","lang","editor","title","controls","undo","text","redo","removeStyles","hr","bold","italic","underline","strikeThrough","superScript","subScript","headings","blockQuote","code","unorderedList","orderedList","link","color","lineHeight","letterSpacing","textIndent","fontSize","fontFamily","textAlign","media","emoji","clear","state","isFullscreen","exitFullscreen","fullscreen","imageControlItems","size","remove","Switch","active","onClick","className","mergeClassNames","defaultProps","propTypes","PropTypes","any","Image","toolbarVisible","toolbarOffset","linkEditorVisible","sizeEditorVisible","tempLink","tempWidth","tempHeight","React","createRef","e","reSizeType","initialLeft","screenX","initialTop","screenY","initialHeight","initialWidth","changeSize","setState","Math","abs","imageEqualRatio","confirmImageSizeEqualRatio","confirmImageSize","document","removeEventListener","moveImage","upImage","imageRect","imageElement","getBoundingClientRect","width","height","zoom","preventDefault","addEventListener","event","stopPropagation","editorProps","readOnly","disabled","window","__BRAFT_DRAGING__IMAGE__","mediaData","unlockEditor","split","method","param","getValue","setValue","ContentUtils","removeBlock","prevState","keyCode","confirmImageLink","currentTarget","value","hookReturns","hooks","setMediaData","entityKey","setImmediate","forceRender","isNaN","newImageSize","equalWidth","equalHeight","floor","float","newFloat","setMediaPosition","alignment","newAlignment","lockEditor","calcToolbarOffset","lockOrUnlockEditor","getContainerNode","containerNode","container","viewRect","querySelector","toolbarRect","toolbarElement","right","left","linkTarget","newLinkTarget","language","imageControls","imageResizable","blockData","getData","get","url","meta","imageStyles","clearFix","renderedControlItems","uuidv4","executeCommand","render","showToolbar","hideToolbar","handleDragStart","handleDragEnd","mediaEmbederInstance","marginLeft","linkEditor","inputWithEnterPlaceHolder","handleLinkInputKeyDown","setImageLink","base","confirm","setImageLinkTarget","openInNewWindow","handleSizeInputKeyDown","setImageWidth","setImageHeight","position","display","repareChangeSize","Component","showModal","hostNode","createElement","newProps","visible","closeOnConfirm","closeOnCancel","body","appendChild","close","ReactDOM","unmountComponentAtNode","parentNode","removeChild","onConfirm","onCancel","onClose","modalInstance","destroy","update","renderComponent","Modal","rootElement","classList","contains","tagName","target","toLowerCase","closeOnBlur","onBlue","unrenderComponent","componentId","BaseUtils","UniueIndex","next","activeId","clearImmediate","children","confirmable","showFooter","showCancel","showConfirm","showClose","cancelText","confirmText","bottomText","childComponent","handleMouseDown","handleMaskClick","handleTransitionEnd","handleCancel","cancel","handleConfirm","id","playViaModal","typeIconsMap","video","audio","embed","PlayerModal","poster","onRemove","backgroundImage","Video","editorState","removeVideo","videoPlayer","Audio","removeAudio","audioPlayer","Embed","removeEmbed","embedTitle","__html","HorizontalLine","removeHorizontalLine","BlockRenderFnContext","superProps","customBlockRendererFn","blockRendererFn","getEntityAt","getEntity","mediaType","getType","mediaProps","extendAtomics","atomics","i","length","blockRenderer","RegExp","test","renderAtomicBlock","editable","blockRenderFnContext","getRenderFn","customBlockStyleFn","blockAlignment","blockIndent","blockFloat","customStyleMap","extensionInlineStyleMap","SUPERSCRIPT","top","SUBSCRIPT","bottom","getStyleValue","options","styles","output","fontFamilies","unitExportFn","customStyleFn","backgroundColor","family","viewLink","getModifierState","href","click","Link","KEY_SEPARATOR","CombineDecorators","prototype","decorations","getText","fill","decorators","offset","Immutable","List","builtinDecorators","createStrategy","callback","findEntityRanges","character","entityDecorators","strategyDecorators","classDecorators","CompositeDecorator","getBlockRenderMap","_getBlockRenderMap","getBlockRendererFn","_getBlockRendererFn","getBlockStyleFn","_getBlockStyleFn","getCustomStyleMap","_getCustomStyleMap","getCustomStyleFn","_getCustomStyleFn","getDecorators","_getDecorators","inert","textColor","tempColors","increaseIndent","decreaseIndent","alignLeft","alignCenter","alignRight","alignJustify","floatLeft","floatRight","header","normal","unlink","mediaLibirary","textInputPlaceHolder","linkInputPlaceHolder","removeLink","image","border","insert","en","zh","zhHant","pl","kr","tr","jpn","ru","fr","ptBr","viVn","customKeyBindingFn","KeyBindingUtil","hasCommandModifier","isCtrlKeyCommand","getDefaultKeyBinding","excludeControls","extendControls","componentBelowControlBar","pasteImage","imagePasteLimit","uploadFn","validateFn","onBeforeDeselect","onDeselect","onBeforeSelect","onSelect","onBeforeRemove","onFileSelect","onBeforeInsert","onInsert","onChange","accepts","externals","colors","colorPicker","colorPickerTheme","colorPickerAutoHide","codeTabIndents","textAligns","textBackgroundColor","allowInsertLinkText","defaultLinkTarget","letterSpacings","lineHeights","fontSizes","converts","emojis","stripPastedStyles","triggerChangeOnMount","controlBarClassName","controlBarStyle","contentClassName","contentStyle","draftProps","onFocus","onBlur","onTab","onDelete","onSave","fixPlaceholder","keyCommandHandlers","handleKeyCommand","allowIndent","cursorStart","getSelection","getStartOffset","cursorEnd","getEndOffset","cursorIsAtFirst","getSelectionBlockType","decreaseSelectionIndent","insertText","repeat","newEditorState","RichUtils","increaseSelectionIndent","nextEditorState","returnHandlers","handleReturn","currentBlock","getSelectionBlock","currentBlockType","getLength","toggleSelectionBlockType","which","insertSoftNewline","handleNewLine","beforeInputHandlers","chars","handleBeforeInput","compositionStartHandler","_","selectedBlocks","getSelectedBlocks","EditorState","Modifier","removeRange","getCurrentContent","dropHandlers","selectionState","dataTransfer","forceSelection","insertMedias","handleFiles","files","constructor","slice","file","braftFinder","validateResult","Promise","then","uploadImage","isLiving","droppedFilesHandlers","handleDroppedFiles","pastedFilesHandlers","handlePastedFiles","copyHandlers","blockMap","getFragmentFromSelection","toArray","tempContentState","ContentState","createFromBlockArray","tempEditorState","createWithContent","clipboardData","originalEvent","setConvertOptions","convertOptions","setData","toHTML","toText","pastedTextHandlers","html","handlePastedText","ColorUtils","detectColorsFromHTMLString","index","array","insertHTML","resizeEventHandlers","responsiveHelperInited","debouce","resolve","eventHandler","UniqueIndex","unresolve","clearTimeout","setTimeout","DropDown","handlerRect","dropDownHandlerElement","contentRect","dropDownContentElement","autoHide","hide","registerClickEvent","responsiveResolveId","ResponsiveHelper","fixDropDownPosition","caption","htmlCaption","showArrow","arrowActive","toggle","theme","ControlGroup","LinkEditor","dropDownInstance","toggleSelectionLink","textSelected","requestFocus","nextProps","getSelectionEntityData","isSelectionCollapsed","selectedText","getSelectionText","handeKeyDown","handleTnputText","handleInputLink","setTarget","handleUnlink","getHeadings","blocks","unstyled","blockquote","Headings","currentHeadingIndex","findIndex","current","isActive","defaultCaption","ColorPicker","presetColors","replace","dataset","enableBackgroundColor","TextColor","colorType","closePicker","newColor","toggleSelectionColor","toggleSelectionBackgroundColor","captionStyle","currentColor","selectionStyles","getCurrentInlineStyle","toJS","BuiltinColorPicker","switchColorType","toggleColor","toggleFontSize","toggleSelectionFontSize","FontSize","currentFontSize","selectionHasInlineStyle","instance","toggleLineHeight","toggleSelectionLineHeight","LineHeight","currentLineHeight","toggleFontFamily","fontFamilyName","toggleSelectionFontFamily","FontFamily","currentIndex","TextAlign","currentAlignment","toggleSelectionAlignment","getSelectionBlockData","textAlignmentTitles","setAlignment","insertEmoji","EmojiPicker","toggleLetterSpacing","toggleSelectionLetterSpacing","LetterSpacing","currentLetterSpacing","TextIndent","currentIndent","commandHookMap","exclusiveInlineStyles","superscript","subscript","mergeControls","commonProps","builtControls","customExtendControls","subItem","concat","ControlBar","ReactComponent","MediaLibrary","mediaLibiraryModal","closeBraftFinder","bindBraftFinderHook","hookName","medias","allControls","modal","extendedModals","getSelectionEntityType","hookCommand","exclusiveInlineStyle","toggleSelectionInlineStyle","toggleSelectionEntity","renderedControls","editorControls","getEditorControls","itemKey","controlItem","applyControl","openBraftFinder","ref","onCreate","getUndoStack","getRedoStack","getControlItemClassName","buildHooks","defaultReturns","filterColors","colors2","isControlEnabled","controlName","getConvertOptions","set","editorDecorators","draftInstance","isFocused","focus","removeSelectionInlineStyles","insertHorizontalLine","toggleSelectionIndent","onFullscreen","getEditorProps","controlBarInstance","valueInitialized","defaultValue","defaultEditorState","createEmpty","isEditorState","detectColorsFromDraftState","toRAW","BraftFinder","uploader","validator","forceUpdate","currentProps","setItems","prevProps","restProps","porpsMap","editorLocked","placeholder","languages","externalMedias","controlBarProps","blockStyleFn","keyBindingFn","getKeyBindingFn","mixedProps","isEmpty","getFirstBlock","handleDrop","setEditorContainerNode","handleCompositionStart","handleCopyContent","convertEditorStateToHTML","noStringify","convertEditorStateToRaw","JSON","stringify","getPlainText","hasText","createFrom","content","customOptions","entityMap","convertRawToEditorState","convertHTMLToEditorState","parse","toLocaleString","createEditorState"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;AClFA,gD;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAI,KAAqC,EAAE,qCAO1C;AACD;AACA;AACA,mBAAmB,mBAAO,CAAC,EAA4B;AACvD;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA;AACA;;AAEA,iC;;;;;;ACfA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,wC;;;;;;ACRA,gD;;;;;;;ACAa;;AAEb;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED,gCAAgC,mBAAO,CAAC,EAAS;;AAEjD,iCAAiC,mBAAO,CAAC,EAAS;;AAElD,iCAAiC,mBAAO,CAAC,EAAS;;AAElD,iCAAiC,mBAAO,CAAC,EAAS;;AAElD,sCAAsC,uCAAuC,gBAAgB,E;;;;;;ACtC7F,gD;;;;;;ACAA;AACA;AACA;AACA;AACA;;AAEA,iC;;;;;;ACNA;AA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CA;AACA;AACA;;AAEA;AACA,CAAC;;AAED;AACA;;AAEA;;AAEA,mC;;;;;;;AClHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA,qC;;;;;;AC1CA,qBAAqB,mBAAO,CAAC,EAAkB;;AAE/C,2BAA2B,mBAAO,CAAC,EAAwB;;AAE3D,sBAAsB,mBAAO,CAAC,EAAmB;;AAEjD;AACA;AACA;;AAEA,gC;;;;;;ACVA,mCAAmC,mBAAO,CAAC,EAAgC;;AAE3E;AACA;AACA;AACA;;AAEA;AACA;;AAEA,eAAe,6BAA6B;AAC5C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,0C;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb,8BAA8B,mBAAO,CAAC,EAA2B;;AAEjE;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,0C;;;;;;AC3BA,iD;;;;;;ACAA;AACA;AACA;;AAEA,iC;;;;;;ACJA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,6CAA6C,+BAA+B;AAC5E;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA,uC;;;;;;AC9BA;AACA;AACA;;AAEA,kC;;;;;;ACJA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iC;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb,2BAA2B,mBAAO,CAAC,EAA4B;;AAE/D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;;;;;;;AC/DA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;;AAEA;;;;;;;;ACXa;;AAEb;AACA;AACA,CAAC;AACD;;AAEA,kCAAkC,mBAAO,CAAC,EAAU;;AAEpD,0CAA0C,mBAAO,CAAC,EAAkB;;AAEpE,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AACA;;AAEA,cAAc;;;AAGd;AACA,mBAAmB;;AAEnB;AACA;AACA;AACA;AACA;AACA,+EAA+E;AAC/E;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;AAGA,iFAAiF;AACjF;;AAEA,2EAA2E;;AAE3E,6DAA6D;;AAE7D;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;;AAEA;AACA;AACA,uBAAuB;;AAEvB,0BAA0B;;AAE1B;AACA;AACA;AACA;AACA,qBAAqB;;AAErB;AACA;AACA,sBAAsB;;AAEtB,mCAAmC;;AAEnC,6BAA6B;;AAE7B,iCAAiC;;AAEjC,2BAA2B;;AAE3B,iBAAiB,OAAO;AACxB;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iC;;;;;;;AC3Ga;;AAEb;AACA;AACA,CAAC;AACD;;AAEA,gCAAgC,mBAAO,CAAC,EAAU;;AAElD,iCAAiC,mBAAO,CAAC,EAAU;;AAEnD,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA,iC;;;;;;;AChBa;;AAEb;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD;;AAElD;;AAEA,mBAAmB,gBAAgB;AACnC;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa,cAAc;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA,aAAa,mBAAmB;AAChC;AACA;;AAEA;;AAEA,aAAa,aAAa;AAC1B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iC;;;;;;;AChOa;;AAEb;AACA;AACA,CAAC;AACD;;AAEA,kCAAkC,mBAAO,CAAC,EAAU;;AAEpD,0CAA0C,mBAAO,CAAC,EAAkB;;AAEpE,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,+DAA+D;;;AAG/D;AACA,kCAAkC;;AAElC;AACA,oBAAoB,SAAS;AAC7B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iC;;;;;;;ACxCa;;AAEb;AACA;AACA,CAAC;AACD;;AAEA,gCAAgC,mBAAO,CAAC,EAAU;;AAElD,kCAAkC,mBAAO,CAAC,EAAW;;AAErD,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA,iC;;;;;;;AChBa;;AAEb;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kDAAkD;;AAElD;;AAEA,mBAAmB,gBAAgB;AACnC;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,OAAO;AACxB;;AAEA,mBAAmB,QAAQ;AAC3B;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,OAAO;AACxB;;AAEA,mBAAmB,QAAQ;;AAE3B,oBAAoB,QAAQ;AAC5B;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,QAAQ;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iC;;;;;;AC/FA;AACA;AACA,iDAAiD,gBAAgB;AACjE;AACA;;AAEA;AACA;AACA;;AAEA,oC;;;;;;ACVA;AACA;AACA;;AAEA,kC;;;;;;ACJA;AACA;AACA;;AAEA,oC;;;;;;ACJA;AACA;AACA;AACA;AACA;;AAEA,aAAa,uBAAuB;AACpC;AACA;AACA;AACA;;AAEA;AACA;;AAEA,+C;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb,4BAA4B,mBAAO,CAAC,EAAyB;AAC7D,4BAA4B,mBAAO,CAAC,EAAyB;;AAE7D;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA,GAAG;AACH;;AAEA,yC;;;;;;;AC/DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb,uBAAuB,mBAAO,CAAC,EAAoB;AACnD,gBAAgB,mBAAO,CAAC,EAAW;;AAEnC,wBAAwB,mBAAO,CAAC,EAAqB;;AAErD;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP,KAAK;AACL,GAAG;AACH;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,uC;;;;;;;AChHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e,wBAAwB,mBAAO,CAAC,EAAqB;AACrD,gBAAgB,mBAAO,CAAC,EAAW;;AAEnC,0BAA0B,mBAAO,CAAC,EAAuB;;AAEzD;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC;;AAED,kC;;;;;;;AC1JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mC;;;;;;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb,wBAAwB,mBAAO,CAAC,EAAqB;;AAErD,0BAA0B,mBAAO,CAAC,EAAuB;AACzD,gBAAgB,mBAAO,CAAC,EAAoB;;AAE5C;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,sBAAsB;AACtB;AACA,GAAG;AACH,wCAAwC,MAAqC,GAAG,SAAmE;AACnJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,uC;;;;;;;ACpGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,IAAI,KAAqC,EAAE,EAM1C;;AAED;AACA;;AAEA;AACA;AACA;AACA,qDAAqD;AACrD,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA,0BAA0B;AAC1B;AACA;AACA;;AAEA,2B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpDA;AACA;AACA;AAEA;AAEA,IAAMA,2BAAiB,G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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"braft-utils\"), require(\"draft-js\"), require(\"immutable\"), require(\"braft-convert\"), require(\"react-dom\"), require(\"braft-finder\"), require(\"draftjs-utils\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"braft-utils\", \"draft-js\", \"immutable\", \"braft-convert\", \"react-dom\", \"braft-finder\", \"draftjs-utils\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"react\"), require(\"braft-utils\"), require(\"draft-js\"), require(\"immutable\"), require(\"braft-convert\"), require(\"react-dom\"), require(\"braft-finder\"), require(\"draftjs-utils\")) : factory(root[\"react\"], root[\"braft-utils\"], root[\"draft-js\"], root[\"immutable\"], root[\"braft-convert\"], root[\"react-dom\"], root[\"braft-finder\"], root[\"draftjs-utils\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__4__, __WEBPACK_EXTERNAL_MODULE__6__, __WEBPACK_EXTERNAL_MODULE__14__, __WEBPACK_EXTERNAL_MODULE__15__, __WEBPACK_EXTERNAL_MODULE__17__, __WEBPACK_EXTERNAL_MODULE__20__, __WEBPACK_EXTERNAL_MODULE__28__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 51);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","module.exports = __WEBPACK_EXTERNAL_MODULE__4__;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"v1\", {\n  enumerable: true,\n  get: function () {\n    return _v.default;\n  }\n});\nObject.defineProperty(exports, \"v3\", {\n  enumerable: true,\n  get: function () {\n    return _v2.default;\n  }\n});\nObject.defineProperty(exports, \"v4\", {\n  enumerable: true,\n  get: function () {\n    return _v3.default;\n  }\n});\nObject.defineProperty(exports, \"v5\", {\n  enumerable: true,\n  get: function () {\n    return _v4.default;\n  }\n});\n\nvar _v = _interopRequireDefault(require(\"./v1.js\"));\n\nvar _v2 = _interopRequireDefault(require(\"./v3.js\"));\n\nvar _v3 = _interopRequireDefault(require(\"./v4.js\"));\n\nvar _v4 = _interopRequireDefault(require(\"./v5.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","module.exports = __WEBPACK_EXTERNAL_MODULE__6__;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","module.exports = __WEBPACK_EXTERNAL_MODULE__14__;","module.exports = __WEBPACK_EXTERNAL_MODULE__15__;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","module.exports = __WEBPACK_EXTERNAL_MODULE__17__;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex; // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n\n  return [bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]]].join('');\n}\n\nvar _default = bytesToUuid;\nexports.default = _default;\nmodule.exports = exports.default;","var Immutable = require('immutable');\n\nvar KEY_SEPARATOR = '-';\n\nfunction MultiDecorator(decorators) {\n    this.decorators = Immutable.List(decorators);\n}\n\n/**\n    Return list of decoration IDs per character\n\n    @param {ContentBlock}\n    @return {List<String>}\n*/\nMultiDecorator.prototype.getDecorations = function(block) {\n    var decorations = Array(block.getText().length).fill(null);\n\n    this.decorators.forEach(function(decorator, i) {\n        var _decorations = decorator.getDecorations(block);\n\n        _decorations.forEach(function(key, offset) {\n            if (!key) {\n                return;\n            }\n\n            key = i + KEY_SEPARATOR + key;\n\n            decorations[offset] = key;\n        });\n    });\n\n    return Immutable.List(decorations);\n};\n\n/**\n    Return component to render a decoration\n\n    @param {String}\n    @return {Function}\n*/\nMultiDecorator.prototype.getComponentForKey = function(key) {\n    var decorator = this.getDecoratorForKey(key);\n    return decorator.getComponentForKey(\n        this.getInnerKey(key)\n    );\n};\n\n/**\n    Return props to render a decoration\n\n    @param {String}\n    @return {Object}\n*/\nMultiDecorator.prototype.getPropsForKey = function(key) {\n    var decorator = this.getDecoratorForKey(key);\n    return decorator.getPropsForKey(\n        this.getInnerKey(key)\n    );\n};\n\n/**\n    Return a decorator for a specific key\n\n    @param {String}\n    @return {Decorator}\n*/\nMultiDecorator.prototype.getDecoratorForKey = function(key) {\n    var parts = key.split(KEY_SEPARATOR);\n    var index = Number(parts[0]);\n\n    return this.decorators.get(index);\n};\n\n/**\n    Return inner key for a decorator\n\n    @param {String}\n    @return {String}\n*/\nMultiDecorator.prototype.getInnerKey = function(key) {\n    var parts = key.split(KEY_SEPARATOR);\n    return parts.slice(1).join(KEY_SEPARATOR);\n};\n\nmodule.exports = MultiDecorator;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__20__;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = rng;\n// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n// find the complete implementation of crypto (msCrypto) on IE11.\nvar getRandomValues = typeof crypto != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto != 'undefined' && typeof msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto);\nvar rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\nfunction rng() {\n  if (!getRandomValues) {\n    throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n  }\n\n  return getRandomValues(rnds8);\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\nexports.URL = exports.DNS = void 0;\n\nvar _bytesToUuid = _interopRequireDefault(require(\"./bytesToUuid.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction uuidToBytes(uuid) {\n  // Note: We assume we're being passed a valid uuid string\n  var bytes = [];\n  uuid.replace(/[a-fA-F0-9]{2}/g, function (hex) {\n    bytes.push(parseInt(hex, 16));\n  });\n  return bytes;\n}\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  var bytes = new Array(str.length);\n\n  for (var i = 0; i < str.length; i++) {\n    bytes[i] = str.charCodeAt(i);\n  }\n\n  return bytes;\n}\n\nconst DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexports.DNS = DNS;\nconst URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexports.URL = URL;\n\nfunction _default(name, version, hashfunc) {\n  var generateUUID = function (value, namespace, buf, offset) {\n    var off = buf && offset || 0;\n    if (typeof value == 'string') value = stringToBytes(value);\n    if (typeof namespace == 'string') namespace = uuidToBytes(namespace);\n    if (!Array.isArray(value)) throw TypeError('value must be an array of bytes');\n    if (!Array.isArray(namespace) || namespace.length !== 16) throw TypeError('namespace must be uuid string or an Array of 16 byte values'); // Per 4.3\n\n    var bytes = hashfunc(namespace.concat(value));\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      for (var idx = 0; idx < 16; ++idx) {\n        buf[off + idx] = bytes[idx];\n      }\n    }\n\n    return buf || (0, _bytesToUuid.default)(bytes);\n  }; // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name;\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule CharacterMetadata\n * @format\n * \n */\n\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _require = require('immutable'),\n    Map = _require.Map,\n    OrderedSet = _require.OrderedSet,\n    Record = _require.Record;\n\n// Immutable.map is typed such that the value for every key in the map\n// must be the same type\n\n\nvar EMPTY_SET = OrderedSet();\n\nvar defaultRecord = {\n  style: EMPTY_SET,\n  entity: null\n};\n\nvar CharacterMetadataRecord = Record(defaultRecord);\n\nvar CharacterMetadata = function (_CharacterMetadataRec) {\n  _inherits(CharacterMetadata, _CharacterMetadataRec);\n\n  function CharacterMetadata() {\n    _classCallCheck(this, CharacterMetadata);\n\n    return _possibleConstructorReturn(this, _CharacterMetadataRec.apply(this, arguments));\n  }\n\n  CharacterMetadata.prototype.getStyle = function getStyle() {\n    return this.get('style');\n  };\n\n  CharacterMetadata.prototype.getEntity = function getEntity() {\n    return this.get('entity');\n  };\n\n  CharacterMetadata.prototype.hasStyle = function hasStyle(style) {\n    return this.getStyle().includes(style);\n  };\n\n  CharacterMetadata.applyStyle = function applyStyle(record, style) {\n    var withStyle = record.set('style', record.getStyle().add(style));\n    return CharacterMetadata.create(withStyle);\n  };\n\n  CharacterMetadata.removeStyle = function removeStyle(record, style) {\n    var withoutStyle = record.set('style', record.getStyle().remove(style));\n    return CharacterMetadata.create(withoutStyle);\n  };\n\n  CharacterMetadata.applyEntity = function applyEntity(record, entityKey) {\n    var withEntity = record.getEntity() === entityKey ? record : record.set('entity', entityKey);\n    return CharacterMetadata.create(withEntity);\n  };\n\n  /**\n   * Use this function instead of the `CharacterMetadata` constructor.\n   * Since most content generally uses only a very small number of\n   * style/entity permutations, we can reuse these objects as often as\n   * possible.\n   */\n\n\n  CharacterMetadata.create = function create(config) {\n    if (!config) {\n      return EMPTY;\n    }\n\n    var defaultConfig = {\n      style: EMPTY_SET,\n      entity: null\n    };\n\n    // Fill in unspecified properties, if necessary.\n    var configMap = Map(defaultConfig).merge(config);\n\n    var existing = pool.get(configMap);\n    if (existing) {\n      return existing;\n    }\n\n    var newCharacter = new CharacterMetadata(configMap);\n    pool = pool.set(configMap, newCharacter);\n    return newCharacter;\n  };\n\n  return CharacterMetadata;\n}(CharacterMetadataRecord);\n\nvar EMPTY = new CharacterMetadata();\nvar pool = Map([[Map(defaultRecord), EMPTY]]);\n\nCharacterMetadata.EMPTY = EMPTY;\n\nmodule.exports = CharacterMetadata;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule findRangesImmutable\n * @format\n * \n */\n\n'use strict';\n\n/**\n * Search through an array to find contiguous stretches of elements that\n * match a specified filter function.\n *\n * When ranges are found, execute a specified `found` function to supply\n * the values to the caller.\n */\nfunction findRangesImmutable(haystack, areEqualFn, filterFn, foundFn) {\n  if (!haystack.size) {\n    return;\n  }\n\n  var cursor = 0;\n\n  haystack.reduce(function (value, nextValue, nextIndex) {\n    if (!areEqualFn(value, nextValue)) {\n      if (filterFn(value)) {\n        foundFn(cursor, nextIndex);\n      }\n      cursor = nextIndex;\n    }\n    return nextValue;\n  });\n\n  filterFn(haystack.last()) && foundFn(cursor, haystack.count());\n}\n\nmodule.exports = findRangesImmutable;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule getFragmentFromSelection\n * @format\n * \n */\n\n'use strict';\n\nvar getContentStateFragment = require('./getContentStateFragment');\n\nfunction getFragmentFromSelection(editorState) {\n  var selectionState = editorState.getSelection();\n\n  if (selectionState.isCollapsed()) {\n    return null;\n  }\n\n  return getContentStateFragment(editorState.getCurrentContent(), selectionState);\n}\n\nmodule.exports = getFragmentFromSelection;","module.exports = __WEBPACK_EXTERNAL_MODULE__28__;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _rng = _interopRequireDefault(require(\"./rng.js\"));\n\nvar _bytesToUuid = _interopRequireDefault(require(\"./bytesToUuid.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || _rng.default)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : (0, _bytesToUuid.default)(b);\n}\n\nvar _default = v1;\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _v = _interopRequireDefault(require(\"./v35.js\"));\n\nvar _md = _interopRequireDefault(require(\"./md5.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst v3 = (0, _v.default)('v3', 0x30, _md.default);\nvar _default = v3;\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes == 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Array(msg.length);\n\n    for (var i = 0; i < msg.length; i++) bytes[i] = msg.charCodeAt(i);\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  var i;\n  var x;\n  var output = [];\n  var length32 = input.length * 32;\n  var hexTab = '0123456789abcdef';\n  var hex;\n\n  for (i = 0; i < length32; i += 8) {\n    x = input[i >> 5] >>> i % 32 & 0xff;\n    hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[(len + 64 >>> 9 << 4) + 14] = len;\n  var i;\n  var olda;\n  var oldb;\n  var oldc;\n  var oldd;\n  var a = 1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d = 271733878;\n\n  for (i = 0; i < x.length; i += 16) {\n    olda = a;\n    oldb = b;\n    oldc = c;\n    oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  var i;\n  var output = [];\n  output[(input.length >> 2) - 1] = undefined;\n\n  for (i = 0; i < output.length; i += 1) {\n    output[i] = 0;\n  }\n\n  var length8 = input.length * 8;\n\n  for (i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  var lsw = (x & 0xffff) + (y & 0xffff);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nvar _default = md5;\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _rng = _interopRequireDefault(require(\"./rng.js\"));\n\nvar _bytesToUuid = _interopRequireDefault(require(\"./bytesToUuid.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof options == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n\n  options = options || {};\n\n  var rnds = options.random || (options.rng || _rng.default)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || (0, _bytesToUuid.default)(rnds);\n}\n\nvar _default = v4;\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _v = _interopRequireDefault(require(\"./v35.js\"));\n\nvar _sha = _interopRequireDefault(require(\"./sha1.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst v5 = (0, _v.default)('v5', 0x50, _sha.default);\nvar _default = v5;\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  var K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  var H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes == 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Array(msg.length);\n\n    for (var i = 0; i < msg.length; i++) bytes[i] = msg.charCodeAt(i);\n  }\n\n  bytes.push(0x80);\n  var l = bytes.length / 4 + 2;\n  var N = Math.ceil(l / 16);\n  var M = new Array(N);\n\n  for (var i = 0; i < N; i++) {\n    M[i] = new Array(16);\n\n    for (var j = 0; j < 16; j++) {\n      M[i][j] = bytes[i * 64 + j * 4] << 24 | bytes[i * 64 + j * 4 + 1] << 16 | bytes[i * 64 + j * 4 + 2] << 8 | bytes[i * 64 + j * 4 + 3];\n    }\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (var i = 0; i < N; i++) {\n    var W = new Array(80);\n\n    for (var t = 0; t < 16; t++) W[t] = M[i][t];\n\n    for (var t = 16; t < 80; t++) {\n      W[t] = ROTL(W[t - 3] ^ W[t - 8] ^ W[t - 14] ^ W[t - 16], 1);\n    }\n\n    var a = H[0];\n    var b = H[1];\n    var c = H[2];\n    var d = H[3];\n    var e = H[4];\n\n    for (var t = 0; t < 80; t++) {\n      var s = Math.floor(t / 20);\n      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[t] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\nvar _default = sha1;\nexports.default = _default;\nmodule.exports = exports.default;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule getContentStateFragment\n * @format\n * \n */\n\n'use strict';\n\nvar randomizeBlockMapKeys = require('./randomizeBlockMapKeys');\nvar removeEntitiesAtEdges = require('./removeEntitiesAtEdges');\n\nvar getContentStateFragment = function getContentStateFragment(contentState, selectionState) {\n  var startKey = selectionState.getStartKey();\n  var startOffset = selectionState.getStartOffset();\n  var endKey = selectionState.getEndKey();\n  var endOffset = selectionState.getEndOffset();\n\n  // Edge entities should be stripped to ensure that we don't preserve\n  // invalid partial entities when the fragment is reused. We do, however,\n  // preserve entities that are entirely within the selection range.\n  var contentWithoutEdgeEntities = removeEntitiesAtEdges(contentState, selectionState);\n\n  var blockMap = contentWithoutEdgeEntities.getBlockMap();\n  var blockKeys = blockMap.keySeq();\n  var startIndex = blockKeys.indexOf(startKey);\n  var endIndex = blockKeys.indexOf(endKey) + 1;\n\n  return randomizeBlockMapKeys(blockMap.slice(startIndex, endIndex).map(function (block, blockKey) {\n    var text = block.getText();\n    var chars = block.getCharacterList();\n\n    if (startKey === endKey) {\n      return block.merge({\n        text: text.slice(startOffset, endOffset),\n        characterList: chars.slice(startOffset, endOffset)\n      });\n    }\n\n    if (blockKey === startKey) {\n      return block.merge({\n        text: text.slice(startOffset),\n        characterList: chars.slice(startOffset)\n      });\n    }\n\n    if (blockKey === endKey) {\n      return block.merge({\n        text: text.slice(0, endOffset),\n        characterList: chars.slice(0, endOffset)\n      });\n    }\n\n    return block;\n  }));\n};\n\nmodule.exports = getContentStateFragment;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule randomizeBlockMapKeys\n * @format\n * \n */\n\n'use strict';\n\nvar ContentBlockNode = require('./ContentBlockNode');\nvar Immutable = require('immutable');\n\nvar generateRandomKey = require('./generateRandomKey');\n\nvar OrderedMap = Immutable.OrderedMap;\n\n\nvar randomizeContentBlockNodeKeys = function randomizeContentBlockNodeKeys(blockMap) {\n  var newKeysRef = {};\n\n  // we keep track of root blocks in order to update subsequent sibling links\n  var lastRootBlock = void 0;\n\n  return OrderedMap(blockMap.withMutations(function (blockMapState) {\n    blockMapState.forEach(function (block, index) {\n      var oldKey = block.getKey();\n      var nextKey = block.getNextSiblingKey();\n      var prevKey = block.getPrevSiblingKey();\n      var childrenKeys = block.getChildKeys();\n      var parentKey = block.getParentKey();\n\n      // new key that we will use to build linking\n      var key = generateRandomKey();\n\n      // we will add it here to re-use it later\n      newKeysRef[oldKey] = key;\n\n      if (nextKey) {\n        var nextBlock = blockMapState.get(nextKey);\n        if (nextBlock) {\n          blockMapState.setIn([nextKey, 'prevSibling'], key);\n        } else {\n          // this can happen when generating random keys for fragments\n          blockMapState.setIn([oldKey, 'nextSibling'], null);\n        }\n      }\n\n      if (prevKey) {\n        var prevBlock = blockMapState.get(prevKey);\n        if (prevBlock) {\n          blockMapState.setIn([prevKey, 'nextSibling'], key);\n        } else {\n          // this can happen when generating random keys for fragments\n          blockMapState.setIn([oldKey, 'prevSibling'], null);\n        }\n      }\n\n      if (parentKey && blockMapState.get(parentKey)) {\n        var parentBlock = blockMapState.get(parentKey);\n        var parentChildrenList = parentBlock.getChildKeys();\n        blockMapState.setIn([parentKey, 'children'], parentChildrenList.set(parentChildrenList.indexOf(block.getKey()), key));\n      } else {\n        // blocks will then be treated as root block nodes\n        blockMapState.setIn([oldKey, 'parent'], null);\n\n        if (lastRootBlock) {\n          blockMapState.setIn([lastRootBlock.getKey(), 'nextSibling'], key);\n          blockMapState.setIn([oldKey, 'prevSibling'], newKeysRef[lastRootBlock.getKey()]);\n        }\n\n        lastRootBlock = blockMapState.get(oldKey);\n      }\n\n      childrenKeys.forEach(function (childKey) {\n        var childBlock = blockMapState.get(childKey);\n        if (childBlock) {\n          blockMapState.setIn([childKey, 'parent'], key);\n        } else {\n          blockMapState.setIn([oldKey, 'children'], block.getChildKeys().filter(function (child) {\n            return child !== childKey;\n          }));\n        }\n      });\n    });\n  }).toArray().map(function (block) {\n    return [newKeysRef[block.getKey()], block.set('key', newKeysRef[block.getKey()])];\n  }));\n};\n\nvar randomizeContentBlockKeys = function randomizeContentBlockKeys(blockMap) {\n  return OrderedMap(blockMap.toArray().map(function (block) {\n    var key = generateRandomKey();\n    return [key, block.set('key', key)];\n  }));\n};\n\nvar randomizeBlockMapKeys = function randomizeBlockMapKeys(blockMap) {\n  var isTreeBasedBlockMap = blockMap.first() instanceof ContentBlockNode;\n\n  if (!isTreeBasedBlockMap) {\n    return randomizeContentBlockKeys(blockMap);\n  }\n\n  return randomizeContentBlockNodeKeys(blockMap);\n};\n\nmodule.exports = randomizeBlockMapKeys;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ContentBlockNode\n * @format\n * \n *\n * This file is a fork of ContentBlock adding support for nesting references by\n * providing links to children, parent, prevSibling, and nextSibling.\n *\n * This is unstable and not part of the public API and should not be used by\n * production systems. This file may be update/removed without notice.\n */\n\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CharacterMetadata = require('./CharacterMetadata');\nvar Immutable = require('immutable');\n\nvar findRangesImmutable = require('./findRangesImmutable');\n\nvar List = Immutable.List,\n    Map = Immutable.Map,\n    OrderedSet = Immutable.OrderedSet,\n    Record = Immutable.Record,\n    Repeat = Immutable.Repeat;\n\n\nvar EMPTY_SET = OrderedSet();\n\nvar defaultRecord = {\n  parent: null,\n  characterList: List(),\n  data: Map(),\n  depth: 0,\n  key: '',\n  text: '',\n  type: 'unstyled',\n  children: List(),\n  prevSibling: null,\n  nextSibling: null\n};\n\nvar haveEqualStyle = function haveEqualStyle(charA, charB) {\n  return charA.getStyle() === charB.getStyle();\n};\n\nvar haveEqualEntity = function haveEqualEntity(charA, charB) {\n  return charA.getEntity() === charB.getEntity();\n};\n\nvar decorateCharacterList = function decorateCharacterList(config) {\n  if (!config) {\n    return config;\n  }\n\n  var characterList = config.characterList,\n      text = config.text;\n\n\n  if (text && !characterList) {\n    config.characterList = List(Repeat(CharacterMetadata.EMPTY, text.length));\n  }\n\n  return config;\n};\n\nvar ContentBlockNode = function (_Record) {\n  _inherits(ContentBlockNode, _Record);\n\n  function ContentBlockNode() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultRecord;\n\n    _classCallCheck(this, ContentBlockNode);\n\n    return _possibleConstructorReturn(this, _Record.call(this, decorateCharacterList(props)));\n  }\n\n  ContentBlockNode.prototype.getKey = function getKey() {\n    return this.get('key');\n  };\n\n  ContentBlockNode.prototype.getType = function getType() {\n    return this.get('type');\n  };\n\n  ContentBlockNode.prototype.getText = function getText() {\n    return this.get('text');\n  };\n\n  ContentBlockNode.prototype.getCharacterList = function getCharacterList() {\n    return this.get('characterList');\n  };\n\n  ContentBlockNode.prototype.getLength = function getLength() {\n    return this.getText().length;\n  };\n\n  ContentBlockNode.prototype.getDepth = function getDepth() {\n    return this.get('depth');\n  };\n\n  ContentBlockNode.prototype.getData = function getData() {\n    return this.get('data');\n  };\n\n  ContentBlockNode.prototype.getInlineStyleAt = function getInlineStyleAt(offset) {\n    var character = this.getCharacterList().get(offset);\n    return character ? character.getStyle() : EMPTY_SET;\n  };\n\n  ContentBlockNode.prototype.getEntityAt = function getEntityAt(offset) {\n    var character = this.getCharacterList().get(offset);\n    return character ? character.getEntity() : null;\n  };\n\n  ContentBlockNode.prototype.getChildKeys = function getChildKeys() {\n    return this.get('children');\n  };\n\n  ContentBlockNode.prototype.getParentKey = function getParentKey() {\n    return this.get('parent');\n  };\n\n  ContentBlockNode.prototype.getPrevSiblingKey = function getPrevSiblingKey() {\n    return this.get('prevSibling');\n  };\n\n  ContentBlockNode.prototype.getNextSiblingKey = function getNextSiblingKey() {\n    return this.get('nextSibling');\n  };\n\n  ContentBlockNode.prototype.findStyleRanges = function findStyleRanges(filterFn, callback) {\n    findRangesImmutable(this.getCharacterList(), haveEqualStyle, filterFn, callback);\n  };\n\n  ContentBlockNode.prototype.findEntityRanges = function findEntityRanges(filterFn, callback) {\n    findRangesImmutable(this.getCharacterList(), haveEqualEntity, filterFn, callback);\n  };\n\n  return ContentBlockNode;\n}(Record(defaultRecord));\n\nmodule.exports = ContentBlockNode;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule generateRandomKey\n * @format\n * \n */\n\n'use strict';\n\nvar seenKeys = {};\nvar MULTIPLIER = Math.pow(2, 24);\n\nfunction generateRandomKey() {\n  var key = void 0;\n  while (key === undefined || seenKeys.hasOwnProperty(key) || !isNaN(+key)) {\n    key = Math.floor(Math.random() * MULTIPLIER).toString(32);\n  }\n  seenKeys[key] = true;\n  return key;\n}\n\nmodule.exports = generateRandomKey;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule removeEntitiesAtEdges\n * @format\n * \n */\n\n'use strict';\n\nvar CharacterMetadata = require('./CharacterMetadata');\n\nvar findRangesImmutable = require('./findRangesImmutable');\nvar invariant = require('fbjs/lib/invariant');\n\nfunction removeEntitiesAtEdges(contentState, selectionState) {\n  var blockMap = contentState.getBlockMap();\n  var entityMap = contentState.getEntityMap();\n\n  var updatedBlocks = {};\n\n  var startKey = selectionState.getStartKey();\n  var startOffset = selectionState.getStartOffset();\n  var startBlock = blockMap.get(startKey);\n  var updatedStart = removeForBlock(entityMap, startBlock, startOffset);\n\n  if (updatedStart !== startBlock) {\n    updatedBlocks[startKey] = updatedStart;\n  }\n\n  var endKey = selectionState.getEndKey();\n  var endOffset = selectionState.getEndOffset();\n  var endBlock = blockMap.get(endKey);\n  if (startKey === endKey) {\n    endBlock = updatedStart;\n  }\n\n  var updatedEnd = removeForBlock(entityMap, endBlock, endOffset);\n\n  if (updatedEnd !== endBlock) {\n    updatedBlocks[endKey] = updatedEnd;\n  }\n\n  if (!Object.keys(updatedBlocks).length) {\n    return contentState.set('selectionAfter', selectionState);\n  }\n\n  return contentState.merge({\n    blockMap: blockMap.merge(updatedBlocks),\n    selectionAfter: selectionState\n  });\n}\n\nfunction getRemovalRange(characters, key, offset) {\n  var removalRange;\n  findRangesImmutable(characters, function (a, b) {\n    return a.getEntity() === b.getEntity();\n  }, function (element) {\n    return element.getEntity() === key;\n  }, function (start, end) {\n    if (start <= offset && end >= offset) {\n      removalRange = { start: start, end: end };\n    }\n  });\n  !(typeof removalRange === 'object') ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Removal range must exist within character list.') : invariant(false) : void 0;\n  return removalRange;\n}\n\nfunction removeForBlock(entityMap, block, offset) {\n  var chars = block.getCharacterList();\n  var charBefore = offset > 0 ? chars.get(offset - 1) : undefined;\n  var charAfter = offset < chars.count() ? chars.get(offset) : undefined;\n  var entityBeforeCursor = charBefore ? charBefore.getEntity() : undefined;\n  var entityAfterCursor = charAfter ? charAfter.getEntity() : undefined;\n\n  if (entityAfterCursor && entityAfterCursor === entityBeforeCursor) {\n    var entity = entityMap.__get(entityAfterCursor);\n    if (entity.getMutability() !== 'MUTABLE') {\n      var _getRemovalRange = getRemovalRange(chars, entityAfterCursor, offset),\n          start = _getRemovalRange.start,\n          end = _getRemovalRange.end;\n\n      var current;\n      while (start < end) {\n        current = chars.get(start);\n        chars = chars.set(start, CharacterMetadata.applyEntity(current, null));\n        start++;\n      }\n      return block.set('characterList', chars);\n    }\n  }\n\n  return block;\n}\n\nmodule.exports = removeEntitiesAtEdges;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar validateFormat = function validateFormat(format) {};\n\nif (process.env.NODE_ENV !== 'production') {\n  validateFormat = function validateFormat(format) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  };\n}\n\nfunction invariant(condition, format, a, b, c, d, e, f) {\n  validateFormat(format);\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\nmodule.exports = invariant;","/* eslint-disable no-param-reassign */\n// TODO\n// -extended support for block-style and atomic types\n\nimport React from 'react';\n\nconst extensionControls = [];\nconst extensionDecorators = [];\n\nconst propInterceptors = [];\n\nconst extensionBlockRenderMaps = [];\nconst extensionBlockRendererFns = [];\n\nconst extensionInlineStyleMaps = [];\nconst extensionInlineStyleFns = [];\n\nconst extensionEntities = [];\n\nconst inlineStyleImporters = [];\nconst inlineStyleExporters = [];\nconst blockImporters = [];\nconst blockExporters = [];\n\nconst filterByEditorId = (items, editorId) => {\n  if (!editorId) {\n    return items\n      .filter((item) => !item.includeEditors)\n      .map((item) => item.data);\n  }\n\n  return items\n    .map((item) => {\n      if (!item.includeEditors && !item.excludeEditors) {\n        return item.data;\n      }\n\n      if (item.includeEditors) {\n        return item.includeEditors.indexOf(editorId) !== -1 ? item.data : false;\n      }\n\n      if (item.excludeEditors) {\n        return item.excludeEditors.indexOf(editorId) !== -1 ? false : item.data;\n      }\n\n      return false;\n    })\n    .filter((item) => item);\n};\n\nexport const getPropInterceptors = (editorId) =>\n  filterByEditorId(propInterceptors, editorId);\n\nexport const getExtensionControls = (editorId) =>\n  filterByEditorId(extensionControls, editorId);\n\nexport const getExtensionDecorators = (editorId) =>\n  filterByEditorId(extensionDecorators, editorId, 'decorators');\n\nexport const getExtensionBlockRenderMaps = (editorId) =>\n  filterByEditorId(extensionBlockRenderMaps, editorId);\n\nexport const getExtensionBlockRendererFns = (editorId) =>\n  filterByEditorId(extensionBlockRendererFns, editorId);\n\nexport const getExtensionInlineStyleMap = (editorId) => {\n  const inlineStyleMap = {};\n\n  filterByEditorId(extensionInlineStyleMaps, editorId).forEach((item) => {\n    inlineStyleMap[item.inlineStyleName] = item.styleMap;\n  });\n\n  return inlineStyleMap;\n};\n\nexport const getExtensionInlineStyleFns = (editorId) =>\n  filterByEditorId(extensionInlineStyleFns, editorId);\n\nexport const compositeStyleImportFn = (styleImportFn, editorId) => (\n  nodeName,\n  node,\n  style,\n) => {\n  filterByEditorId(inlineStyleImporters, editorId).forEach((styleImporter) => {\n    if (styleImporter.importer && styleImporter.importer(nodeName, node)) {\n      style = style.add(styleImporter.inlineStyleName);\n    }\n  });\n\n  return styleImportFn ? styleImportFn(nodeName, node, style) : style;\n};\n\nexport const compositeStyleExportFn = (styleExportFn, editorId) => (style) => {\n  style = style.toUpperCase();\n  let result = styleExportFn ? styleExportFn(style) : undefined;\n\n  if (result) {\n    return result;\n  }\n\n  filterByEditorId(inlineStyleExporters, editorId).find((item) => {\n    if (item.inlineStyleName === style) {\n      result = item.exporter;\n      return true;\n    }\n    return false;\n  });\n\n  return result;\n};\n\nexport const compositeEntityImportFn = (entityImportFn, editorId) => (\n  nodeName,\n  node,\n  createEntity,\n  source,\n) => {\n  let result = entityImportFn\n    ? entityImportFn(nodeName, node, createEntity, source)\n    : null;\n\n  if (result) {\n    return result;\n  }\n\n  filterByEditorId(extensionEntities, editorId).find((entityItem) => {\n    const matched = entityItem.importer\n      ? entityItem.importer(nodeName, node, source)\n      : null;\n    if (matched) {\n      result = createEntity(\n        entityItem.entityType,\n        matched.mutability || 'MUTABLE',\n        matched.data || {},\n      );\n    }\n    return !!matched;\n  });\n\n  return result;\n};\n\nexport const compositeEntityExportFn = (entityExportFn, editorId) => (\n  entity,\n  originalText,\n) => {\n  let result = entityExportFn\n    ? entityExportFn(entity, originalText)\n    : undefined;\n\n  if (result) {\n    return result;\n  }\n\n  const entityType = entity.type.toUpperCase();\n\n  filterByEditorId(extensionEntities, editorId).find((entityItem) => {\n    if (entityItem.entityType === entityType) {\n      result = entityItem.exporter\n        ? entityItem.exporter(entity, originalText)\n        : undefined;\n      return true;\n    }\n    return false;\n  });\n\n  return result;\n};\n\nexport const compositeBlockImportFn = (blockImportFn, editorId) => (\n  nodeName,\n  node,\n  source,\n) => {\n  let result = blockImportFn ? blockImportFn(nodeName, node, source) : null;\n\n  if (result) {\n    return result;\n  }\n\n  filterByEditorId(blockImporters, editorId).find((blockImporter) => {\n    const matched = blockImporter.importer\n      ? blockImporter.importer(nodeName, node, source)\n      : undefined;\n    if (matched) {\n      result = matched;\n    }\n    return !!matched;\n  });\n\n  return result;\n};\n\nexport const compositeBlockExportFn = (blockExportFn, editorId) => (\n  contentState,\n  block,\n) => {\n  let result = blockExportFn ? blockExportFn(contentState, block) : null;\n\n  if (result) {\n    return result;\n  }\n\n  filterByEditorId(blockExporters, editorId).find((blockExporter) => {\n    const matched = blockExporter.exporter\n      ? blockExporter.exporter(contentState, block)\n      : undefined;\n    if (matched) {\n      result = matched;\n    }\n    return !!matched;\n  });\n\n  return result;\n};\n\nconst useExtension = (extension) => {\n  if (extension instanceof Array) {\n    extension.forEach(useExtension);\n    return false;\n  }\n\n  if (!extension || !extension.type || typeof extension.type !== 'string') {\n    return false;\n  }\n\n  const { includeEditors, excludeEditors } = extension;\n\n  if (extension.type === 'control') {\n    extensionControls.push({\n      includeEditors,\n      excludeEditors,\n      data: extension.control,\n    });\n  } else if (extension.type === 'inline-style') {\n    const inlineStyleName = extension.name.toUpperCase();\n\n    if (extension.control) {\n      extensionControls.push({\n        includeEditors,\n        excludeEditors,\n        data: {\n          key: inlineStyleName,\n          type: 'inline-style',\n          command: inlineStyleName,\n          ...extension.control,\n        },\n      });\n    }\n\n    if (extension.style) {\n      extensionInlineStyleMaps.push({\n        includeEditors,\n        excludeEditors,\n        data: {\n          inlineStyleName,\n          styleMap: extension.style,\n        },\n      });\n    }\n\n    if (extension.styleFn) {\n      extensionInlineStyleFns.push({\n        includeEditors,\n        excludeEditors,\n        data: {\n          inlineStyleName,\n          styleFn: extension.styleFn,\n        },\n      });\n    }\n\n    if (extension.importer) {\n      inlineStyleImporters.push({\n        includeEditors,\n        excludeEditors,\n        data: {\n          inlineStyleName,\n          importer: extension.importer,\n        },\n      });\n    }\n\n    inlineStyleExporters.push({\n      includeEditors,\n      excludeEditors,\n      data: {\n        inlineStyleName,\n        exporter: extension.exporter ? (\n          extension.exporter(extension)\n        ) : (\n          <span style={extension.style} />\n        ),\n      },\n    });\n  } else if (extension.type === 'block-style') {\n    // TODO\n  } else if (extension.type === 'entity') {\n    const entityType = extension.name.toUpperCase();\n\n    if (extension.control) {\n      extensionControls.push({\n        includeEditors,\n        excludeEditors,\n        data: {\n          ...(typeof extension.control === 'function' && {\n            key: entityType,\n            type: 'entity',\n            command: entityType,\n            data: {\n              mutability: extension.mutability || 'MUTABLE',\n              data: extension.data || {},\n            },\n            ...extension.control,\n          }),\n        },\n      });\n    }\n\n    extensionEntities.push({\n      includeEditors,\n      excludeEditors,\n      data: {\n        entityType,\n        importer: extension.importer,\n        exporter: extension.exporter,\n      },\n    });\n\n    extensionDecorators.push({\n      includeEditors,\n      excludeEditors,\n      data: {\n        type: 'entity',\n        decorator: {\n          key: entityType,\n          component: extension.component,\n        },\n      },\n    });\n  } else if (extension.type === 'block') {\n    const blockType = extension.name;\n\n    if (extension.renderMap) {\n      extensionBlockRenderMaps.push({\n        includeEditors,\n        excludeEditors,\n        data: {\n          blockType,\n          renderMap: extension.renderMap,\n        },\n      });\n    }\n\n    if (extension.rendererFn) {\n      extensionBlockRendererFns.push({\n        includeEditors,\n        excludeEditors,\n        data: {\n          blockType,\n          rendererFn: extension.rendererFn,\n        },\n      });\n    }\n\n    if (extension.importer) {\n      blockImporters.push({\n        includeEditors,\n        excludeEditors,\n        data: {\n          blockType,\n          importer: extension.importer,\n        },\n      });\n    }\n\n    if (extension.exporter) {\n      blockExporters.push({\n        includeEditors,\n        excludeEditors,\n        data: {\n          blockType,\n          exporter: extension.exporter,\n        },\n      });\n    }\n  } else if (extension.type === 'atomic') {\n    // TODO\n  } else if (extension.type === 'decorator') {\n    const { decorator } = extension;\n\n    if (decorator && decorator.strategy && decorator.component) {\n      extensionDecorators.push({\n        includeEditors,\n        excludeEditors,\n        data: {\n          type: 'strategy',\n          decorator,\n        },\n      });\n    } else if (decorator && decorator.getDecorations) {\n      extensionDecorators.push({\n        includeEditors,\n        excludeEditors,\n        data: {\n          type: 'class',\n          decorator,\n        },\n      });\n    }\n  } else if (extension.type === 'prop-interception') {\n    propInterceptors.push({\n      includeEditors,\n      excludeEditors,\n      data: extension.interceptor,\n    });\n  }\n  return true;\n};\n\nexport const createExtensibleEditor = (BraftEditor) => {\n  BraftEditor.use = useExtension;\n\n  return BraftEditor;\n};\n","import React from 'react';\nimport { Map } from 'immutable';\nimport { DefaultDraftBlockRenderMap } from 'draft-js';\n\nimport { getExtensionBlockRenderMaps } from 'helpers/extension';\n\nexport default (props, blockRenderMap) => {\n  let customBlockRenderMap = Map({\n    atomic: {\n      element: '',\n    },\n    'code-block': {\n      element: 'code',\n      wrapper: <pre className=\"braft-code-block\" />,\n    },\n  });\n\n  try {\n    const extensionBlockRenderMaps = getExtensionBlockRenderMaps(\n      props.editorId,\n    );\n\n    customBlockRenderMap = extensionBlockRenderMaps.reduce((acc, item) => {\n      return acc.merge(\n        typeof item.renderMap === 'function'\n          ? item.renderMap(props)\n          : item.renderMap,\n      );\n    }, customBlockRenderMap);\n\n    if (blockRenderMap) {\n      if (typeof blockRenderMap === 'function') {\n        customBlockRenderMap = customBlockRenderMap.merge(\n          blockRenderMap(props),\n        );\n      } else {\n        customBlockRenderMap = customBlockRenderMap.merge(blockRenderMap);\n      }\n    }\n\n    customBlockRenderMap = DefaultDraftBlockRenderMap.merge(\n      customBlockRenderMap,\n    );\n  } catch (error) {\n    console.warn(error);\n  }\n\n  return customBlockRenderMap;\n};\n","import React from 'react';\n\nexport default (lang, editor) => [\n  {\n    key: 'undo',\n    title: lang.controls.undo,\n    text: <i className=\"bfi-undo\" />,\n    type: 'editor-method',\n    command: 'undo',\n  },\n  {\n    key: 'redo',\n    title: lang.controls.redo,\n    text: <i className=\"bfi-redo\" />,\n    type: 'editor-method',\n    command: 'redo',\n  },\n  {\n    key: 'remove-styles',\n    title: lang.controls.removeStyles,\n    text: <i className=\"bfi-format_clear\" />,\n    type: 'editor-method',\n    command: 'removeSelectionInlineStyles',\n  },\n  {\n    key: 'hr',\n    title: lang.controls.hr,\n    text: <i className=\"bfi-hr\" />,\n    type: 'editor-method',\n    command: 'insertHorizontalLine',\n  },\n  {\n    key: 'bold',\n    title: lang.controls.bold,\n    text: <i className=\"bfi-bold\" />,\n    type: 'inline-style',\n    command: 'bold',\n  },\n  {\n    key: 'italic',\n    title: lang.controls.italic,\n    text: <i className=\"bfi-italic\" />,\n    type: 'inline-style',\n    command: 'italic',\n  },\n  {\n    key: 'underline',\n    title: lang.controls.underline,\n    text: <i className=\"bfi-underlined\" />,\n    type: 'inline-style',\n    command: 'underline',\n  },\n  {\n    key: 'strike-through',\n    title: lang.controls.strikeThrough,\n    text: <i className=\"bfi-strikethrough\" />,\n    type: 'inline-style',\n    command: 'strikethrough',\n  },\n  {\n    key: 'superscript',\n    title: lang.controls.superScript,\n    text: <i className=\"bfi-superscript\" />,\n    type: 'inline-style',\n    command: 'superscript',\n  },\n  {\n    key: 'subscript',\n    title: lang.controls.subScript,\n    text: <i className=\"bfi-subscript\" />,\n    type: 'inline-style',\n    command: 'subscript',\n  },\n  {\n    key: 'headings',\n    title: lang.controls.headings,\n    type: 'headings',\n  },\n  {\n    key: 'blockquote',\n    title: lang.controls.blockQuote,\n    text: <i className=\"bfi-quote\" />,\n    type: 'block-type',\n    command: 'blockquote',\n  },\n  {\n    key: 'code',\n    title: lang.controls.code,\n    text: <i className=\"bfi-code\" />,\n    type: 'block-type',\n    command: 'code-block',\n  },\n  {\n    key: 'list-ul',\n    title: lang.controls.unorderedList,\n    text: <i className=\"bfi-list\" />,\n    type: 'block-type',\n    command: 'unordered-list-item',\n  },\n  {\n    key: 'list-ol',\n    title: lang.controls.orderedList,\n    text: <i className=\"bfi-list-numbered\" />,\n    type: 'block-type',\n    command: 'ordered-list-item',\n  },\n  {\n    key: 'link',\n    title: lang.controls.link,\n    type: 'link',\n  },\n  {\n    key: 'text-color',\n    title: lang.controls.color,\n    type: 'text-color',\n  },\n  {\n    key: 'line-height',\n    title: lang.controls.lineHeight,\n    type: 'line-height',\n  },\n  {\n    key: 'letter-spacing',\n    title: lang.controls.letterSpacing,\n    type: 'letter-spacing',\n  },\n  {\n    key: 'text-indent',\n    title: lang.controls.textIndent,\n    type: 'text-indent',\n  },\n  {\n    key: 'font-size',\n    title: lang.controls.fontSize,\n    type: 'font-size',\n  },\n  {\n    key: 'font-family',\n    title: lang.controls.fontFamily,\n    type: 'font-family',\n  },\n  {\n    key: 'text-align',\n    title: lang.controls.textAlign,\n    type: 'text-align',\n  },\n  {\n    key: 'media',\n    title: lang.controls.media,\n    text: <i className=\"bfi-media\" />,\n    type: 'media',\n  },\n  {\n    key: 'emoji',\n    title: lang.controls.emoji,\n    text: <i className=\"bfi-emoji\" />,\n    type: 'emoji',\n  },\n  {\n    key: 'clear',\n    title: lang.controls.clear,\n    text: <i className=\"bfi-clear_all\" />,\n    type: 'editor-method',\n    command: 'clearEditorContent',\n  },\n  {\n    key: 'fullscreen',\n    title: editor.state.isFullscreen\n      ? lang.controls.exitFullscreen\n      : lang.controls.fullscreen,\n    text: (\n      <i\n        className={\n          editor.state.isFullscreen ? 'bfi-fullscreen-exit' : 'bfi-fullscreen'\n        }\n      />\n    ),\n    type: 'editor-method',\n    command: 'toggleFullscreen',\n  },\n  {\n    key: 'modal',\n    type: 'modal',\n  },\n  {\n    key: 'button',\n    type: 'button',\n  },\n  {\n    key: 'dropdown',\n    type: 'dropdown',\n  },\n  {\n    key: 'component',\n    type: 'component',\n  },\n];\n\nexport const imageControlItems = {\n  'float-left': {\n    text: <span data-float=\"left\">&#xe91e;</span>,\n    command: 'setImageFloat|left',\n  },\n  'float-right': {\n    text: <span data-float=\"right\">&#xe914;</span>,\n    command: 'setImageFloat|right',\n  },\n  'align-left': {\n    text: <span data-align=\"left\">&#xe027;</span>,\n    command: 'setImageAlignment|left',\n  },\n  'align-center': {\n    text: <span data-align=\"center\">&#xe028;</span>,\n    command: 'setImageAlignment|center',\n  },\n  'align-right': {\n    text: <span data-align=\"right\">&#xe029;</span>,\n    command: 'setImageAlignment|right',\n  },\n  size: {\n    text: <span>&#xe3c2;</span>,\n    command: 'toggleSizeEditor',\n  },\n  link: {\n    text: <span>&#xe91a;</span>,\n    command: 'toggleLinkEditor',\n  },\n  remove: {\n    text: <span>&#xe9ac;</span>,\n    command: 'removeImage',\n  },\n};\n","const mergeClassNames = (...classNames) => {\r\n    const flatArray = (inputArray) => inputArray.reduce((arr, item) => {\r\n        if (Array.isArray(item)) {\r\n            return arr.concat(flatArray(item));\r\n        }\r\n        if (typeof item === 'string') {\r\n            const splitItem = item.split(' ');\r\n            if (splitItem.length > 1) {\r\n                return arr.concat(splitItem);\r\n            }\r\n            return arr.concat(item);\r\n        }\r\n        return [...arr];\r\n    }, []);\r\n    const flatten = classNames.reduce((names, name) => {\r\n        if (typeof name === 'string') {\r\n            return names.concat(name);\r\n        }\r\n        if (Array.isArray(name)) {\r\n            return names.concat(flatArray(name));\r\n        }\r\n        return [...names];\r\n    }, []);\r\n    return Array.from(new Set(flatten.filter((x) => typeof x === 'string')))\r\n        .join(' ')\r\n        .trim();\r\n};\r\nexport default mergeClassNames;\r\n//# sourceMappingURL=mergeClassNames.js.map","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport mergeClassNames from '@maximusft/mergeclassnames';\r\n\r\nimport './style.scss';\r\n\r\nconst Switch = (props) => {\r\n  const { active, onClick, className } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"presentation\"\r\n      onClick={() => onClick()}\r\n      className={mergeClassNames('bf-switch', className, active && 'active')}\r\n    />\r\n  );\r\n};\r\n\r\nSwitch.defaultProps = {\r\n  onClick: () => null,\r\n};\r\n\r\nSwitch.propTypes = {\r\n  active: PropTypes.any,\r\n  onClick: PropTypes.any,\r\n  className: PropTypes.any,\r\n};\r\n\r\nexport default Switch;\r\n","/* eslint-disable jsx-a11y/label-has-associated-control */\r\n/* eslint-disable no-underscore-dangle */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { ContentUtils } from 'braft-utils';\r\n\r\nimport { imageControlItems } from 'configs/controls';\r\nimport Switch from 'components/common/Switch';\r\n\r\nimport './style.scss';\r\n\r\nclass Image extends React.Component {\r\n  state = {\r\n    toolbarVisible: false,\r\n    toolbarOffset: 0,\r\n    linkEditorVisible: false,\r\n    sizeEditorVisible: false,\r\n    tempLink: null,\r\n    tempWidth: null,\r\n    tempHeight: null,\r\n  };\r\n\r\n  imageElement = React.createRef();\r\n\r\n  mediaEmbederInstance = React.createRef();\r\n\r\n  toolbarElement = React.createRef();\r\n\r\n  initialLeft;\r\n\r\n  initialTop;\r\n\r\n  initialWidth;\r\n\r\n  initialHeight;\r\n\r\n  reSizeType;\r\n\r\n  zoom;\r\n\r\n  changeSize = (e) => {\r\n    const type = this.reSizeType;\r\n    if (!this.initialLeft) {\r\n      this.initialLeft = e.screenX;\r\n      this.initialTop = e.screenY;\r\n    }\r\n    if (type === 'rightbottom') {\r\n      this.initialHeight += e.screenY - this.initialTop;\r\n      this.initialWidth += e.screenX - this.initialLeft;\r\n    }\r\n    if (type === 'leftbottom') {\r\n      this.initialHeight += e.screenY - this.initialTop;\r\n      this.initialWidth += -e.screenX + this.initialLeft;\r\n    }\r\n\r\n    this.initialLeft = e.screenX;\r\n    this.initialTop = e.screenY;\r\n  };\r\n\r\n  moveImage = (e) => {\r\n    this.changeSize(e);\r\n    this.setState({\r\n      tempWidth: Math.abs(this.initialWidth),\r\n      tempHeight: Math.abs(this.initialHeight),\r\n    });\r\n  };\r\n\r\n  upImage = () => {\r\n    const { imageEqualRatio } = this.props;\r\n    if (imageEqualRatio) {\r\n      this.confirmImageSizeEqualRatio();\r\n    } else {\r\n      this.confirmImageSize();\r\n    }\r\n    document.removeEventListener('mousemove', this.moveImage);\r\n    document.removeEventListener('mouseup', this.upImage);\r\n  };\r\n\r\n  repareChangeSize = (type) => (e) => {\r\n    this.reSizeType = type;\r\n    const imageRect = this.imageElement.getBoundingClientRect();\r\n    this.initialTop = 0;\r\n    this.initialLeft = 0;\r\n    this.initialWidth = imageRect.width;\r\n    this.initialHeight = imageRect.height;\r\n    this.zoom = imageRect.width / imageRect.height;\r\n    e.preventDefault();\r\n    document.addEventListener('mousemove', this.moveImage);\r\n    document.addEventListener('mouseup', this.upImage);\r\n  };\r\n\r\n  lockEditor() {\r\n    this.props.editor.lockOrUnlockEditor(true);\r\n  }\r\n\r\n  unlockEditor() {\r\n    this.props.editor.lockOrUnlockEditor(false);\r\n  }\r\n\r\n  calcToolbarOffset() {\r\n    const { getContainerNode, containerNode } = this.props;\r\n    const container = getContainerNode ? getContainerNode() : containerNode;\r\n\r\n    if (!container) {\r\n      return 0;\r\n    }\r\n\r\n    const viewRect = container\r\n      .querySelector('.bf-content')\r\n      .getBoundingClientRect();\r\n    const toolbarRect = this.toolbarElement.getBoundingClientRect();\r\n    const imageRect = this.imageElement.getBoundingClientRect();\r\n\r\n    const right =\r\n      viewRect.right -\r\n      (imageRect.right - imageRect.width / 2 + toolbarRect.width / 2);\r\n    const left =\r\n      imageRect.left +\r\n      imageRect.width / 2 -\r\n      toolbarRect.width / 2 -\r\n      viewRect.left;\r\n\r\n    if (right < 10) {\r\n      return right - 10;\r\n    } else if (left < 10) {\r\n      return left * -1 + 10;\r\n    } else {\r\n      return 0;\r\n    }\r\n  }\r\n\r\n  preventDragEvent = (event) => {\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n  };\r\n\r\n  handleDragStart = () => {\r\n    if (\r\n      this.props.editor.editorProps.readOnly ||\r\n      this.props.editor.editorProps.disabled\r\n    ) {\r\n      return false;\r\n    }\r\n\r\n    window.__BRAFT_DRAGING__IMAGE__ = {\r\n      block: this.props.block,\r\n      mediaData: {\r\n        type: 'IMAGE',\r\n        ...this.props.mediaData,\r\n      },\r\n    };\r\n\r\n    this.setState(\r\n      {\r\n        toolbarVisible: false,\r\n      },\r\n      () => {\r\n        this.unlockEditor();\r\n      },\r\n    );\r\n\r\n    return true;\r\n  };\r\n\r\n  handleDragEnd = () => {\r\n    window.__BRAFT_DRAGING__IMAGE__ = null;\r\n    return false;\r\n  };\r\n\r\n  executeCommand = (command) => {\r\n    if (typeof command === 'string') {\r\n      const [method, param] = command.split('|');\r\n      if (this[method]) {\r\n        this[method](param);\r\n      }\r\n    } else if (typeof command === 'function') {\r\n      command(\r\n        this.props.block,\r\n        this.props.mediaData,\r\n        this.props.editor.getValue(),\r\n      );\r\n    }\r\n  };\r\n\r\n  removeImage = () => {\r\n    this.props.editor.setValue(\r\n      ContentUtils.removeBlock(this.props.editor.getValue(), this.props.block),\r\n    );\r\n    this.unlockEditor();\r\n  };\r\n\r\n  toggleLinkEditor = () => {\r\n    this.setState((prevState) => ({\r\n      linkEditorVisible: !prevState.linkEditorVisible,\r\n      sizeEditorVisible: false,\r\n    }));\r\n  };\r\n\r\n  toggleSizeEditor = () => {\r\n    this.setState((prevState) => ({\r\n      linkEditorVisible: false,\r\n      sizeEditorVisible: !prevState.sizeEditorVisible,\r\n    }));\r\n  };\r\n\r\n  handleLinkInputKeyDown = (e) => {\r\n    if (e.keyCode === 13) {\r\n      this.confirmImageLink();\r\n    }\r\n  };\r\n\r\n  setImageLink = (e) => {\r\n    this.setState({ tempLink: e.currentTarget.value });\r\n  };\r\n\r\n  setImageLinkTarget(linkTarget) {\r\n    let newLinkTarget;\r\n    const hookReturns = this.props.hooks(\r\n      'set-image-link-target',\r\n      linkTarget,\r\n    )(linkTarget);\r\n\r\n    if (hookReturns === false) {\r\n      return false;\r\n    }\r\n\r\n    if (typeof hookReturns === 'string') {\r\n      newLinkTarget = hookReturns;\r\n    }\r\n\r\n    newLinkTarget = newLinkTarget === '_blank' ? '' : '_blank';\r\n    this.props.editor.setValue(\r\n      ContentUtils.setMediaData(\r\n        this.props.editor.getValue(),\r\n        this.props.entityKey,\r\n        { newLinkTarget },\r\n      ),\r\n    );\r\n    window.setImmediate(this.props.editor.forceRender);\r\n    return true;\r\n  }\r\n\r\n  confirmImageLink = () => {\r\n    let { tempLink: link } = this.state;\r\n    const hookReturns = this.props.hooks('set-image-link', link)(link);\r\n\r\n    if (hookReturns === false) {\r\n      return false;\r\n    }\r\n\r\n    if (typeof hookReturns === 'string') {\r\n      link = hookReturns;\r\n    }\r\n\r\n    if (link !== null) {\r\n      this.props.editor.setValue(\r\n        ContentUtils.setMediaData(\r\n          this.props.editor.getValue(),\r\n          this.props.entityKey,\r\n          { link },\r\n        ),\r\n      );\r\n      window.setImmediate(this.props.editor.forceRender);\r\n    }\r\n    return true;\r\n  };\r\n\r\n  handleSizeInputKeyDown = (e) => {\r\n    if (e.keyCode === 13) {\r\n      this.confirmImageSize();\r\n    }\r\n  };\r\n\r\n  setImageWidth = ({ currentTarget }) => {\r\n    let { value } = currentTarget;\r\n\r\n    if (value && !isNaN(value)) {\r\n      value += 'px';\r\n    }\r\n\r\n    this.setState({\r\n      tempWidth: value,\r\n    });\r\n  };\r\n\r\n  setImageHeight = ({ currentTarget }) => {\r\n    let { value } = currentTarget;\r\n\r\n    if (value && !isNaN(value)) {\r\n      value += 'px';\r\n    }\r\n\r\n    this.setState({\r\n      tempHeight: value,\r\n    });\r\n  };\r\n\r\n  confirmImageSize = () => {\r\n    const { tempWidth: width, tempHeight: height } = this.state;\r\n    let newImageSize = {};\r\n\r\n    if (width !== null) {\r\n      newImageSize.width = width;\r\n    }\r\n    if (height !== null) {\r\n      newImageSize.height = height;\r\n    }\r\n\r\n    const hookReturns = this.props.hooks(\r\n      'set-image-size',\r\n      newImageSize,\r\n    )(newImageSize);\r\n\r\n    if (hookReturns === false) {\r\n      return false;\r\n    }\r\n\r\n    if (hookReturns && (hookReturns.width || hookReturns.height)) {\r\n      newImageSize = hookReturns;\r\n    }\r\n\r\n    this.props.editor.setValue(\r\n      ContentUtils.setMediaData(\r\n        this.props.editor.getValue(),\r\n        this.props.entityKey,\r\n        newImageSize,\r\n      ),\r\n    );\r\n    window.setImmediate(this.props.editor.forceRender);\r\n    return true;\r\n  };\r\n\r\n  confirmImageSizeEqualRatio = () => {\r\n    const { tempWidth: width, tempHeight: height } = this.state;\r\n    let equalWidth;\r\n    let equalHeight;\r\n    let newImageSize = {};\r\n    // 宽度过大 图片等比缩放\r\n    if (width / height > this.zoom) {\r\n      equalWidth = Math.floor(height * this.zoom);\r\n      this.setState({\r\n        tempWidth: equalWidth,\r\n      });\r\n      equalHeight = height;\r\n    } else if (width / height < this.zoom) {\r\n      equalHeight = Math.floor(width / this.zoom);\r\n      this.setState({\r\n        tempHeight: equalHeight,\r\n      });\r\n      equalWidth = width;\r\n    }\r\n    if (equalWidth !== null) {\r\n      newImageSize.width = equalWidth;\r\n    }\r\n    if (equalHeight !== null) {\r\n      newImageSize.height = equalHeight;\r\n    }\r\n\r\n    const hookReturns = this.props.hooks(\r\n      'set-image-size',\r\n      newImageSize,\r\n    )(newImageSize);\r\n\r\n    if (hookReturns === false) {\r\n      return false;\r\n    }\r\n\r\n    if (hookReturns && (hookReturns.width || hookReturns.height)) {\r\n      newImageSize = hookReturns;\r\n    }\r\n\r\n    this.props.editor.setValue(\r\n      ContentUtils.setMediaData(\r\n        this.props.editor.getValue(),\r\n        this.props.entityKey,\r\n        newImageSize,\r\n      ),\r\n    );\r\n    window.setImmediate(this.props.editor.forceRender);\r\n    return true;\r\n  };\r\n\r\n  setImageFloat = (float) => {\r\n    let newFloat = float;\r\n    const hookReturns = this.props.hooks('set-image-float', newFloat)(newFloat);\r\n\r\n    if (hookReturns === false) {\r\n      return false;\r\n    }\r\n\r\n    if (typeof hookReturns === 'string') {\r\n      newFloat = hookReturns;\r\n    }\r\n\r\n    this.props.editor.setValue(\r\n      ContentUtils.setMediaPosition(\r\n        this.props.editor.getValue(),\r\n        this.props.block,\r\n        { newFloat },\r\n      ),\r\n    );\r\n    this.unlockEditor();\r\n    return true;\r\n  };\r\n\r\n  setImageAlignment = (alignment) => {\r\n    let newAlignment = alignment;\r\n    const hookReturns = this.props.hooks(\r\n      'set-image-alignment',\r\n      newAlignment,\r\n    )(newAlignment);\r\n\r\n    if (hookReturns === false) {\r\n      return false;\r\n    }\r\n\r\n    if (typeof hookReturns === 'string') {\r\n      newAlignment = hookReturns;\r\n    }\r\n\r\n    this.props.editor.setValue(\r\n      ContentUtils.setMediaPosition(\r\n        this.props.editor.getValue(),\r\n        this.props.block,\r\n        { newAlignment },\r\n      ),\r\n    );\r\n    this.unlockEditor();\r\n    return true;\r\n  };\r\n\r\n  showToolbar = (event) => {\r\n    if (\r\n      this.props.editor.editorProps.readOnly ||\r\n      this.props.editor.editorProps.disabled\r\n    ) {\r\n      return false;\r\n    }\r\n\r\n    event.preventDefault();\r\n\r\n    if (!this.state.toolbarVisible) {\r\n      this.setState(\r\n        {\r\n          toolbarVisible: true,\r\n        },\r\n        () => {\r\n          this.lockEditor();\r\n          this.setState({ toolbarOffset: this.calcToolbarOffset() });\r\n        },\r\n      );\r\n    }\r\n    return true;\r\n  };\r\n\r\n  hideToolbar = (event) => {\r\n    event.preventDefault();\r\n\r\n    this.setState(\r\n      {\r\n        toolbarVisible: false,\r\n      },\r\n      () => {\r\n        this.unlockEditor();\r\n        // this.props.editor.requestFocus()\r\n      },\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { mediaData, language, imageControls, imageResizable } = this.props;\r\n    const {\r\n      toolbarVisible,\r\n      toolbarOffset,\r\n      linkEditorVisible,\r\n      sizeEditorVisible,\r\n      tempWidth,\r\n      tempHeight,\r\n    } = this.state;\r\n    const blockData = this.props.block.getData();\r\n\r\n    const float = blockData.get('float');\r\n    let alignment = blockData.get('alignment');\r\n    const { url, link, linkTarget, width, height, meta } = mediaData;\r\n    const imageStyles = {};\r\n    let clearFix = false;\r\n\r\n    if (float) {\r\n      alignment = null;\r\n    } else if (alignment === 'left') {\r\n      imageStyles.float = 'left';\r\n      clearFix = true;\r\n    } else if (alignment === 'right') {\r\n      imageStyles.float = 'right';\r\n      clearFix = true;\r\n    } else if (alignment === 'center') {\r\n      imageStyles.textAlign = 'center';\r\n    } else {\r\n      imageStyles.float = 'left';\r\n      clearFix = true;\r\n    }\r\n\r\n    const renderedControlItems = imageControls.map((item) => {\r\n      if (typeof item === 'string' && imageControlItems[item]) {\r\n        return (\r\n          <a\r\n            className={item === 'link' && link ? 'active' : ''}\r\n            role=\"presentation\"\r\n            key={uuidv4()}\r\n            onClick={() => this.executeCommand(imageControlItems[item].command)}\r\n          >\r\n            {imageControlItems[item].text}\r\n          </a>\r\n        );\r\n      } else if (item && (item.render || item.text)) {\r\n        return item.render ? (\r\n          item.render(mediaData, this.props.block)\r\n        ) : (\r\n          <a\r\n            key={uuidv4()}\r\n            role=\"presentation\"\r\n            onClick={() => item.onClick && this.executeCommand(item.onClick)}\r\n          >\r\n            {item.text}\r\n          </a>\r\n        );\r\n      } else {\r\n        return null;\r\n      }\r\n    });\r\n\r\n    return (\r\n      <div className=\"bf-media\">\r\n        <div\r\n          style={imageStyles}\r\n          draggable\r\n          onMouseEnter={this.showToolbar}\r\n          onMouseMove={this.showToolbar}\r\n          onMouseLeave={this.hideToolbar}\r\n          onDragStart={this.handleDragStart}\r\n          onDragEnd={this.handleDragEnd}\r\n          ref={this.mediaEmbederInstance}\r\n          className=\"bf-image\"\r\n        >\r\n          {toolbarVisible ? (\r\n            <div\r\n              style={{ marginLeft: toolbarOffset }}\r\n              ref={this.toolbarElement}\r\n              data-float={float}\r\n              data-align={alignment}\r\n              className=\"bf-media-toolbar\"\r\n            >\r\n              {linkEditorVisible ? (\r\n                <div className=\"bf-image-link-editor\">\r\n                  <div className=\"editor-input-group\">\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder={\r\n                        language.linkEditor.inputWithEnterPlaceHolder\r\n                      }\r\n                      onKeyDown={this.handleLinkInputKeyDown}\r\n                      onChange={this.setImageLink}\r\n                      defaultValue={link}\r\n                    />\r\n                    <button type=\"button\" onClick={this.confirmImageLink}>\r\n                      {language.base.confirm}\r\n                    </button>\r\n                  </div>\r\n                  <div className=\"switch-group\">\r\n                    <Switch\r\n                      active={linkTarget === '_blank'}\r\n                      onClick={() => this.setImageLinkTarget(linkTarget)}\r\n                    />\r\n                    <label>{language.linkEditor.openInNewWindow}</label>\r\n                  </div>\r\n                </div>\r\n              ) : null}\r\n              {sizeEditorVisible ? (\r\n                <div className=\"bf-image-size-editor\">\r\n                  <div className=\"editor-input-group\">\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder={language.base.width}\r\n                      onKeyDown={this.handleSizeInputKeyDown}\r\n                      onChange={this.setImageWidth}\r\n                      defaultValue={width}\r\n                    />\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder={language.base.height}\r\n                      onKeyDown={this.handleSizeInputKeyDown}\r\n                      onChange={this.setImageHeight}\r\n                      defaultValue={height}\r\n                    />\r\n                    <button type=\"button\" onClick={this.confirmImageSize}>\r\n                      {language.base.confirm}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ) : null}\r\n              {renderedControlItems}\r\n              <i\r\n                style={{ marginLeft: toolbarOffset * -1 }}\r\n                className=\"bf-media-toolbar-arrow\"\r\n              />\r\n            </div>\r\n          ) : null}\r\n          <div\r\n            style={{\r\n              position: 'relative',\r\n              width: `${width}px`,\r\n              height: `${height}px`,\r\n              display: 'inline-block',\r\n            }}\r\n          >\r\n            <img\r\n              ref={this.imageElement}\r\n              src={url}\r\n              alt=\"Alt\"\r\n              width={width}\r\n              height={height}\r\n              {...meta}\r\n            />\r\n            {toolbarVisible && imageResizable ? (\r\n              <div\r\n                role=\"presentation\"\r\n                className=\"bf-csize-icon right-bottom\"\r\n                onMouseDown={this.repareChangeSize('rightbottom')}\r\n              />\r\n            ) : null}\r\n            {toolbarVisible && imageResizable ? (\r\n              <div\r\n                role=\"presentation\"\r\n                className=\"bf-csize-icon left-bottom\"\r\n                onMouseDown={this.repareChangeSize('leftbottom')}\r\n              />\r\n            ) : null}\r\n            <div\r\n              className={`bf-pre-csize ${this.reSizeType}`}\r\n              style={{ width: `${tempWidth}px`, height: `${tempHeight}px` }}\r\n            />\r\n          </div>\r\n        </div>\r\n        {clearFix && (\r\n          <div\r\n            className=\"clearfix\"\r\n            style={{ clear: 'both', height: 0, lineHeight: 0, float: 'none' }}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nImage.propTypes = {\r\n  hooks: PropTypes.any,\r\n  entityKey: PropTypes.any,\r\n  block: PropTypes.any,\r\n  mediaData: PropTypes.any,\r\n  imageEqualRatio: PropTypes.any,\r\n  editor: PropTypes.any,\r\n  getContainerNode: PropTypes.any,\r\n  containerNode: PropTypes.any,\r\n  language: PropTypes.any,\r\n  imageControls: PropTypes.any,\r\n  imageResizable: PropTypes.any,\r\n};\r\n\r\nexport default Image;\r\n","/* eslint-disable react/no-render-return-value */\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { BaseUtils } from 'braft-utils';\r\nimport mergeClassNames from '@maximusft/mergeclassnames';\r\n\r\nimport './style.scss';\r\n\r\nexport const showModal = (props) => {\r\n  const hostNode = document.createElement('div');\r\n  const newProps = {\r\n    visible: true,\r\n    closeOnConfirm: true,\r\n    closeOnCancel: true,\r\n    ...props,\r\n  };\r\n\r\n  hostNode.style.display = 'none';\r\n  document.body.appendChild(hostNode);\r\n\r\n  const close = () => {\r\n    if (ReactDOM.unmountComponentAtNode(hostNode)) {\r\n      hostNode.parentNode.removeChild(hostNode);\r\n    }\r\n  };\r\n\r\n  const onConfirm = () => {\r\n    if (newProps.onConfirm) {\r\n      newProps.onConfirm();\r\n    }\r\n  };\r\n\r\n  const onCancel = () => {\r\n    if (newProps.onCancel) {\r\n      newProps.onCancel();\r\n    }\r\n  };\r\n\r\n  const onClose = () => {\r\n    close();\r\n    if (newProps.onClose) {\r\n      newProps.onClose();\r\n    }\r\n  };\r\n\r\n  const modalInstance = ReactDOM.render(\r\n    <Modal\r\n      {...newProps}\r\n      onConfirm={onConfirm}\r\n      onCancel={onCancel}\r\n      onClose={onClose}\r\n    />,\r\n    hostNode,\r\n  );\r\n  modalInstance.destroy = close;\r\n  modalInstance.update = modalInstance.renderComponent;\r\n\r\n  return modalInstance;\r\n};\r\n\r\nclass Modal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.active = false;\r\n    // eslint-disable-next-line new-cap\r\n    this.componentId = `BRAFT-MODAL-${BaseUtils.UniueIndex()}`;\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.visible) {\r\n      this.active = true;\r\n      this.renderComponent(this.props);\r\n    }\r\n  }\r\n\r\n  // eslint-disable-next-line camelcase\r\n  UNSAFE_componentWillReceiveProps(next) {\r\n    if (this.props.visible && !next.visible) {\r\n      this.unrenderComponent();\r\n    } else if (this.props.visible || next.visible) {\r\n      this.active = true;\r\n      this.renderComponent(next);\r\n    }\r\n  }\r\n\r\n  handleTransitionEnd = () => {\r\n    if (!this.rootElement || !this.rootElement.classList) {\r\n      return false;\r\n    }\r\n\r\n    if (!this.rootElement.classList.contains('active')) {\r\n      if (ReactDOM.unmountComponentAtNode(this.rootElement)) {\r\n        this.rootElement.parentNode.removeChild(this.rootElement);\r\n      }\r\n    }\r\n    return true;\r\n  };\r\n\r\n  handleMouseDown = (event) => {\r\n    const tagName = event.target.tagName.toLowerCase();\r\n\r\n    if (tagName === 'input' || tagName === 'textarea') {\r\n      return false;\r\n    }\r\n\r\n    event.preventDefault();\r\n    return true;\r\n  };\r\n\r\n  handleCancel = () => {\r\n    if (this.props.closeOnCancel) {\r\n      this.close();\r\n    }\r\n    if (this.props.onCancel) {\r\n      this.props.onCancel();\r\n    }\r\n  };\r\n\r\n  handleConfirm = () => {\r\n    if (this.props.closeOnConfirm) {\r\n      this.close();\r\n    }\r\n    if (this.props.onConfirm) {\r\n      this.props.onConfirm();\r\n    }\r\n  };\r\n\r\n  handleMaskClick = () => {\r\n    if (this.props.closeOnBlur) {\r\n      this.close();\r\n    }\r\n    if (this.props.onBlue) {\r\n      this.props.onBlue();\r\n    }\r\n  };\r\n\r\n  close = () => {\r\n    this.unrenderComponent();\r\n    if (this.props.onClose) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  unrenderComponent() {\r\n    this.active = false;\r\n    if (this.activeId) {\r\n      window.clearImmediate(this.activeId);\r\n    }\r\n    if (this.rootElement && this.rootElement.classList) {\r\n      this.rootElement.classList.remove('active');\r\n    }\r\n  }\r\n\r\n  renderComponent(props) {\r\n    if (!this.active) {\r\n      return false;\r\n    }\r\n\r\n    const {\r\n      title,\r\n      className,\r\n      width,\r\n      height,\r\n      children,\r\n      component,\r\n      confirmable,\r\n      showFooter,\r\n      showCancel,\r\n      showConfirm,\r\n      showClose,\r\n      cancelText,\r\n      confirmText,\r\n      bottomText,\r\n      language,\r\n    } = props;\r\n\r\n    const childComponent = (\r\n      <div\r\n        role=\"presentation\"\r\n        onMouseDown={this.handleMouseDown}\r\n        className={`bf-modal ${className || ''}`}\r\n      >\r\n        <div\r\n          role=\"presentation\"\r\n          className=\"bf-modal-mask\"\r\n          onClick={this.handleMaskClick}\r\n        />\r\n        <div\r\n          onTransitionEnd={this.handleTransitionEnd}\r\n          style={{ width, height }}\r\n          className=\"bf-modal-content\"\r\n        >\r\n          <div className=\"bf-modal-header\">\r\n            <h3 className=\"bf-modal-caption\">{title}</h3>\r\n            {showClose && (\r\n              <button\r\n                type=\"button\"\r\n                onClick={this.close}\r\n                className=\"bf-modal-close-button\"\r\n              >\r\n                <i className=\"bfi-close\" />\r\n              </button>\r\n            )}\r\n          </div>\r\n          <div className=\"bf-modal-body\">{children || component}</div>\r\n          {showFooter ? (\r\n            <div className=\"bf-modal-footer\">\r\n              <div className=\"bf-modal-addon-text\">{bottomText}</div>\r\n              <div className=\"bf-modal-buttons\">\r\n                {showCancel && (\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={this.handleCancel}\r\n                    className=\"bf-modal-cancel\"\r\n                  >\r\n                    {cancelText || language.base.cancel}\r\n                  </button>\r\n                )}\r\n                {showConfirm && (\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={this.handleConfirm}\r\n                    className={mergeClassNames(\r\n                      'bf-modal-confirm',\r\n                      !confirmable && 'disabled',\r\n                    )}\r\n                  >\r\n                    {confirmText || language.base.confirm}\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n    this.rootElement = document.querySelector(`#${this.componentId}`);\r\n\r\n    if (!this.rootElement) {\r\n      this.rootElement = document.createElement('div');\r\n      this.rootElement.id = this.componentId;\r\n      this.rootElement.className = 'bf-modal-root';\r\n      document.body.appendChild(this.rootElement);\r\n    }\r\n\r\n    ReactDOM.render(childComponent, this.rootElement);\r\n\r\n    this.activeId = window.setImmediate(() => {\r\n      this.rootElement.classList.add('active');\r\n    });\r\n    return true;\r\n  }\r\n\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\n\r\nModal.defaultProps = {\r\n  closeOnBlur: true,\r\n  showCancel: true,\r\n  showClose: true,\r\n  showConfirm: true,\r\n  showFooter: true,\r\n};\r\n\r\nModal.propTypes = {\r\n  visible: PropTypes.any,\r\n  closeOnCancel: PropTypes.any,\r\n  onCancel: PropTypes.any,\r\n  closeOnConfirm: PropTypes.any,\r\n  onConfirm: PropTypes.any,\r\n  closeOnBlur: PropTypes.any,\r\n  onBlue: PropTypes.any,\r\n  onClose: PropTypes.any,\r\n  showCancel: PropTypes.any,\r\n  showClose: PropTypes.any,\r\n  showConfirm: PropTypes.any,\r\n  showFooter: PropTypes.any,\r\n};\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { showModal } from 'components/common/Modal';\r\n\r\nimport './style.scss';\r\n\r\nconst playViaModal = (title, component, language) =>\r\n  showModal({\r\n    title,\r\n    component,\r\n    language,\r\n    showFooter: false,\r\n  });\r\n\r\nconst typeIconsMap = {\r\n  video: 'bfi-film',\r\n  audio: 'bfi-music',\r\n  embed: 'bfi-code',\r\n};\r\n\r\nconst PlayerModal = ({\r\n  title,\r\n  type,\r\n  language,\r\n  name,\r\n  url,\r\n  poster,\r\n  children,\r\n  onRemove,\r\n}) => {\r\n  return (\r\n    <div className={`bf-player-holder ${type}`}>\r\n      <div className=\"icon-badge\">\r\n        <i className={typeIconsMap[type]} />\r\n        <span className=\"text\">{language.media[type]}</span>\r\n      </div>\r\n      <button onMouseDown={onRemove} className=\"button-remove\">\r\n        <i className=\"bfi-close\" />\r\n      </button>\r\n      <button\r\n        onMouseDown={() =>\r\n          playViaModal(name ? `${title}:${name}` : title, children, language)\r\n        }\r\n        className=\"button-play\"\r\n      >\r\n        <i className=\"bfi-play_arrow\" />\r\n      </button>\r\n      {name ? <h5 className=\"bf-name\">{name}</h5> : null}\r\n      <h6 className=\"bf-url\">{url}</h6>\r\n      {poster ? (\r\n        <div\r\n          className=\"bf-poster\"\r\n          style={{ backgroundImage: `url(${poster})` }}\r\n        />\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nPlayerModal.propTypes = {\r\n  title: PropTypes.any,\r\n  type: PropTypes.any,\r\n  language: PropTypes.any,\r\n  name: PropTypes.any,\r\n  url: PropTypes.any,\r\n  poster: PropTypes.any,\r\n  children: PropTypes.any,\r\n  onRemove: PropTypes.any,\r\n};\r\n\r\nexport default PlayerModal;\r\n","/* eslint-disable jsx-a11y/media-has-caption */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ContentUtils } from 'braft-utils';\r\n\r\nimport PlayerModal from 'components/business/PlayerModal';\r\n\r\nimport './style.scss';\r\n\r\nconst Video = ({ mediaData, language, editor, editorState, block }) => {\r\n  const { url, name, meta } = mediaData;\r\n  const { poster = '' } = meta;\r\n\r\n  const removeVideo = () => {\r\n    editor.setValue(ContentUtils.removeBlock(editorState, block));\r\n  };\r\n\r\n  return (\r\n    <div className=\"bf-video-wrap\">\r\n      <PlayerModal\r\n        type=\"video\"\r\n        onRemove={removeVideo}\r\n        poster={poster}\r\n        language={language}\r\n        url={url}\r\n        name={name}\r\n        title={language.videoPlayer.title}\r\n      >\r\n        <div className=\"bf-video-player\">\r\n          <video controls poster={poster}>\r\n            <source src={url} />\r\n          </video>\r\n        </div>\r\n      </PlayerModal>\r\n    </div>\r\n  );\r\n};\r\n\r\nVideo.propTypes = {\r\n  mediaData: PropTypes.any,\r\n  language: PropTypes.any,\r\n  editor: PropTypes.any,\r\n  editorState: PropTypes.any,\r\n  block: PropTypes.any,\r\n};\r\n\r\nexport default Video;\r\n","/* eslint-disable jsx-a11y/media-has-caption */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ContentUtils } from 'braft-utils';\r\n\r\nimport PlayerModal from 'components/business/PlayerModal';\r\n\r\nimport './style.scss';\r\n\r\nconst Audio = ({ mediaData, language, editor, editorState, block }) => {\r\n  const { url, name, meta } = mediaData;\r\n  const removeAudio = () => {\r\n    editor.setValue(ContentUtils.removeBlock(editorState, block));\r\n  };\r\n\r\n  return (\r\n    <div className=\"bf-audio-wrap\">\r\n      <PlayerModal\r\n        type=\"audio\"\r\n        onRemove={removeAudio}\r\n        poster={meta ? meta.poster || '' : ''}\r\n        language={language}\r\n        url={url}\r\n        name={name}\r\n        title={language.audioPlayer.title}\r\n      >\r\n        <div className=\"bf-audio-player\">\r\n          <audio controls src={url} />\r\n        </div>\r\n      </PlayerModal>\r\n    </div>\r\n  );\r\n};\r\n\r\nAudio.propTypes = {\r\n  mediaData: PropTypes.any,\r\n  language: PropTypes.any,\r\n  editor: PropTypes.any,\r\n  editorState: PropTypes.any,\r\n  block: PropTypes.any,\r\n};\r\n\r\nexport default Audio;\r\n","/* eslint-disable react/no-danger */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ContentUtils } from 'braft-utils';\r\n\r\nimport PlayerModal from 'components/business/PlayerModal';\r\n\r\nimport './style.scss';\r\n\r\nconst Embed = ({ mediaData, language, editor, editorState, block }) => {\r\n  const { name, url, meta } = mediaData;\r\n\r\n  const removeEmbed = () => {\r\n    editor.setValue(ContentUtils.removeBlock(editorState, block));\r\n  };\r\n  return (\r\n    <div className=\"bf-embed-wrap\">\r\n      <PlayerModal\r\n        type=\"embed\"\r\n        onRemove={removeEmbed}\r\n        poster={meta ? meta.poster || '' : ''}\r\n        language={language}\r\n        url={url}\r\n        name={name}\r\n        title={language.videoPlayer.embedTitle}\r\n      >\r\n        <div\r\n          className=\"bf-embed-player\"\r\n          dangerouslySetInnerHTML={{ __html: url }}\r\n        />\r\n      </PlayerModal>\r\n    </div>\r\n  );\r\n};\r\n\r\nEmbed.propTypes = {\r\n  mediaData: PropTypes.any,\r\n  language: PropTypes.any,\r\n  editor: PropTypes.any,\r\n  editorState: PropTypes.any,\r\n  block: PropTypes.any,\r\n};\r\n\r\nexport default Embed;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ContentUtils } from 'braft-utils';\r\n\r\nimport './style.scss';\r\n\r\nconst HorizontalLine = ({ editorState, block, editor }) => {\r\n  const removeHorizontalLine = () => {\r\n    editor.setValue(ContentUtils.removeBlock(editorState, block));\r\n  };\r\n\r\n  return (\r\n    <div className=\"bf-hr\">\r\n      <div className=\"bf-media-toolbar\">\r\n        <a role=\"presentation\" onClick={removeHorizontalLine}>\r\n          &#xe9ac;\r\n        </a>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nHorizontalLine.propTypes = {\r\n  editor: PropTypes.any,\r\n  editorState: PropTypes.any,\r\n  block: PropTypes.any,\r\n};\r\n\r\nexport default HorizontalLine;\r\n","import React from 'react';\n\nimport Image from 'renderers/atomics/Image';\nimport Video from 'renderers/atomics/Video';\nimport Audio from 'renderers/atomics/Audio';\nimport Embed from 'renderers/atomics/Embed';\nimport HorizontalLine from 'renderers/atomics/HorizontalLine';\nimport { getExtensionBlockRendererFns } from 'helpers/extension';\n\nclass BlockRenderFnContext {\n  superProps;\n\n  customBlockRendererFn;\n\n  getRenderFn = (superProps, customBlockRendererFn) => {\n    this.superProps = superProps;\n    this.customBlockRendererFn = customBlockRendererFn;\n\n    return this.blockRendererFn;\n  };\n\n  renderAtomicBlock = (props) => {\n    const { superProps } = this;\n\n    const entityKey = props.block.getEntityAt(0);\n\n    if (!entityKey) {\n      return null;\n    }\n\n    const entity = props.contentState.getEntity(entityKey);\n    const mediaData = entity.getData();\n    const mediaType = entity.getType();\n    const mediaProps = {\n      ...superProps,\n      block: props.block,\n      mediaData,\n      entityKey,\n    };\n\n    if (mediaType === 'IMAGE') {\n      return <Image {...mediaProps} />;\n    }\n    if (mediaType === 'AUDIO') {\n      return <Audio {...mediaProps} />;\n    }\n    if (mediaType === 'VIDEO') {\n      return <Video {...mediaProps} />;\n    }\n    if (mediaType === 'EMBED') {\n      return <Embed {...mediaProps} />;\n    }\n    if (mediaType === 'HR') {\n      return <HorizontalLine {...mediaProps} />;\n    }\n\n    if (superProps.extendAtomics) {\n      const atomics = superProps.extendAtomics;\n      for (let i = 0; i < atomics.length; i++) {\n        if (mediaType === atomics[i].type) {\n          const Component = atomics[i].component;\n          return <Component {...mediaProps} />;\n        }\n      }\n    }\n\n    return null;\n  };\n\n  blockRendererFn = (block) => {\n    const { customBlockRendererFn, superProps } = this;\n\n    const blockType = block.getType();\n    let blockRenderer = null;\n\n    if (customBlockRendererFn) {\n      blockRenderer = customBlockRendererFn(block, superProps) || null;\n    }\n\n    if (blockRenderer) {\n      return blockRenderer;\n    }\n\n    const extensionBlockRendererFns = getExtensionBlockRendererFns(\n      superProps.editorId,\n    );\n\n    extensionBlockRendererFns.find((item) => {\n      if (\n        item.blockType === blockType ||\n        (item.blockType instanceof RegExp && item.blockType.test(blockType))\n      ) {\n        blockRenderer = item.rendererFn ? item.rendererFn(superProps) : null;\n        return true;\n      }\n      return false;\n    });\n\n    if (blockRenderer) {\n      return blockRenderer;\n    }\n\n    if (blockType === 'atomic') {\n      blockRenderer = {\n        component: this.renderAtomicBlock,\n        editable: false,\n      };\n    }\n\n    return blockRenderer;\n  };\n}\n\nconst blockRenderFnContext = new BlockRenderFnContext();\nexport default blockRenderFnContext.getRenderFn;\n","export default (customBlockStyleFn) => (block) => {\n  const blockAlignment = block.getData() && block.getData().get('textAlign');\n  const blockIndent = block.getData() && block.getData().get('textIndent');\n  const blockFloat = block.getData() && block.getData().get('float');\n\n  let result = '';\n\n  if (blockAlignment) {\n    result = `bfa-${blockAlignment}`;\n  }\n\n  if (blockIndent && blockIndent !== 0) {\n    result += ` bftd-${blockIndent}`;\n  }\n\n  if (blockFloat) {\n    result += ` bff-${blockFloat}`;\n  }\n\n  if (customBlockStyleFn) {\n    result += customBlockStyleFn(block) || '';\n  }\n\n  return result;\n};\n","import { getExtensionInlineStyleMap } from 'helpers/extension';\n\nexport default (props, customStyleMap = {}) => {\n  const extensionInlineStyleMap = getExtensionInlineStyleMap(props.editorId);\n\n  return {\n    SUPERSCRIPT: {\n      position: 'relative',\n      top: '-8px',\n      fontSize: '11px',\n    },\n    SUBSCRIPT: {\n      position: 'relative',\n      bottom: '-8px',\n      fontSize: '11px',\n    },\n    ...extensionInlineStyleMap,\n    ...customStyleMap,\n  };\n};\n","import { getExtensionInlineStyleFns } from 'helpers/extension';\n\nconst getStyleValue = (style) => style.split('-')[1];\n\nexport default (props, options) => (styles, block) => {\n  let output = {};\n  const { fontFamilies, unitExportFn, customStyleFn } = options;\n\n  const extensionInlineStyleFns = getExtensionInlineStyleFns(props.editorId);\n\n  extensionInlineStyleFns.forEach((item) => {\n    output = item.styleFn ? item.styleFn(styles, block, output) : output;\n  });\n\n  output = customStyleFn ? customStyleFn(styles, block, output) : {};\n\n  styles.forEach((style) => {\n    if (style.indexOf('COLOR-') === 0) {\n      output.color = `#${getStyleValue(style)}`;\n    } else if (style.indexOf('BGCOLOR-') === 0) {\n      output.backgroundColor = `#${getStyleValue(style)}`;\n    } else if (style.indexOf('FONTSIZE-') === 0) {\n      output.fontSize = unitExportFn(\n        getStyleValue(style),\n        'font-size',\n        'editor',\n      );\n    } else if (style.indexOf('LINEHEIGHT-') === 0) {\n      output.lineHeight = unitExportFn(\n        getStyleValue(style),\n        'line-height',\n        'editor',\n      );\n    } else if (style.indexOf('LETTERSPACING-') === 0) {\n      output.letterSpacing = unitExportFn(\n        getStyleValue(style),\n        'letter-spacing',\n        'editor',\n      );\n    } else if (style.indexOf('TEXTINDENT-') === 0) {\n      output.textIndent = unitExportFn(\n        getStyleValue(style),\n        'text-indent',\n        'editor',\n      );\n    } else if (style.indexOf('FONTFAMILY-') === 0) {\n      output.fontFamily =\n        (\n          fontFamilies.find(\n            (item) => item.name.toUpperCase() === getStyleValue(style),\n          ) || {}\n        ).family || '';\n    }\n  });\n\n  return output;\n};\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst viewLink = (event, link) => {\r\n  // When pressing the Ctrl / command key, click to open the url in the link text\r\n  if (event.getModifierState('Control') || event.getModifierState('Meta')) {\r\n    const tempLink = document.createElement('a');\r\n    tempLink.href = link;\r\n    tempLink.target = event.currentTarget.target;\r\n    tempLink.click();\r\n  }\r\n};\r\n\r\nconst Link = (props) => {\r\n  const { children, entityKey, contentState } = props;\r\n  const { href, target } = contentState.getEntity(entityKey).getData();\r\n\r\n  return (\r\n    <span className=\"bf-link-wrap\">\r\n      <a\r\n        onClick={(event) => viewLink(event, href)}\r\n        className=\"bf-link\"\r\n        href={href}\r\n        target={target}\r\n      >\r\n        {children}\r\n      </a>\r\n    </span>\r\n  );\r\n};\r\n\r\nLink.propTypes = {\r\n  children: PropTypes.any,\r\n  entityKey: PropTypes.any,\r\n  contentState: PropTypes.any,\r\n};\r\n\r\nexport default Link;\r\n","import { CompositeDecorator } from 'draft-js';\nimport CombineDecorators from 'draft-js-multidecorators';\nimport Immutable from 'immutable';\n\nimport { getExtensionDecorators } from 'helpers/extension';\nimport Link from './Link';\n\nconst KEY_SEPARATOR = '-';\n\nCombineDecorators.prototype.getDecorations = function getDecorations(\n  block,\n  contentState,\n) {\n  const decorations = Array(block.getText().length).fill(null);\n\n  this.decorators.forEach((decorator, i) => {\n    decorator.getDecorations(block, contentState).forEach((key, offset) => {\n      if (!key) {\n        return;\n      }\n      decorations[offset] = i + KEY_SEPARATOR + key;\n    });\n  });\n\n  return Immutable.List(decorations);\n};\n\nconst builtinDecorators = [\n  {\n    type: 'entity',\n    decorator: {\n      key: 'LINK',\n      component: Link,\n    },\n  },\n];\n\nconst createStrategy = (type) => (block, callback, contentState) => {\n  block.findEntityRanges((character) => {\n    const entityKey = character.getEntity();\n    return (\n      entityKey !== null && contentState.getEntity(entityKey).getType() === type\n    );\n  }, callback);\n};\n\nexport default (editorId) => {\n  const extensionDecorators = getExtensionDecorators(editorId);\n\n  const entityDecorators = [\n    ...builtinDecorators,\n    ...extensionDecorators.filter((item) => item.type === 'entity'),\n  ];\n\n  const strategyDecorators = extensionDecorators.filter(\n    (item) => item.type === 'strategy',\n  );\n  const classDecorators = extensionDecorators.filter(\n    (item) => item.type === 'class',\n  );\n\n  return new CombineDecorators([\n    // combine decorator classes\n    ...classDecorators.map((item) => item.decorator),\n    // combine decorators created with strategy\n    new CompositeDecorator(strategyDecorators.map((item) => item.decorator)),\n    // combine decorators for entities\n    new CompositeDecorator(\n      entityDecorators.map((item) => ({\n        strategy: createStrategy(item.decorator.key),\n        component: item.decorator.component,\n      })),\n    ),\n  ]);\n};\n","import _getBlockRenderMap from './block/blockRenderMap';\nimport _getBlockRendererFn from './block/blockRendererFn';\nimport _getBlockStyleFn from './block/blockStyleFn';\nimport _getCustomStyleMap from './inline/inlineStyleMap';\nimport _getCustomStyleFn from './inline/inlineStyleFn';\nimport _getDecorators from './decorators';\n\nexport const getBlockRenderMap = _getBlockRenderMap;\nexport const getBlockRendererFn = _getBlockRendererFn;\nexport const getBlockStyleFn = _getBlockStyleFn;\nexport const getCustomStyleMap = _getCustomStyleMap;\nexport const getCustomStyleFn = _getCustomStyleFn;\nexport const getDecorators = _getDecorators;\n","export default {\n  base: {\n    remove: 'Remove',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n    inert: 'Insert',\n    width: 'Width',\n    height: 'Height',\n  },\n  controls: {\n    clear: 'Clear',\n    undo: 'Undo',\n    redo: 'Redo',\n    fontSize: 'Font Size',\n    color: 'Color',\n    textColor: 'Text',\n    tempColors: 'Temp Colors',\n    backgroundColor: 'Background',\n    bold: 'Bold',\n    lineHeight: 'Line Height',\n    letterSpacing: 'Letter Spacing',\n    textIndent: 'Text Indent',\n    increaseIndent: 'Increase Indent',\n    decreaseIndent: 'Decrease Indent',\n    italic: 'Italic',\n    underline: 'Underline',\n    strikeThrough: 'Strike Through',\n    fontFamily: 'Font Family',\n    textAlign: 'Text Alignment',\n    alignLeft: 'Left Alignment',\n    alignCenter: 'Center Alignment',\n    alignRight: 'Right Alignment',\n    alignJustify: 'Justify Alignment',\n    floatLeft: 'Left Float',\n    floatRight: 'Right Float',\n    superScript: 'Super Script',\n    subScript: 'Sub Script',\n    removeStyles: 'Remove Styles',\n    headings: 'Headings',\n    header: 'Header',\n    normal: 'Normal',\n    orderedList: 'Ordered List',\n    unorderedList: 'Unordered List',\n    blockQuote: 'Quote',\n    code: 'Code',\n    link: 'Link',\n    unlink: 'Unlink',\n    hr: 'Horizontal Line',\n    media: 'Media',\n    mediaLibirary: 'Media Library',\n    emoji: 'Emoji',\n    fullscreen: 'Fullscreen',\n    exitFullscreen: 'Exit Fullscreen',\n  },\n  linkEditor: {\n    textInputPlaceHolder: 'Input link text',\n    linkInputPlaceHolder: 'Input link URL',\n    inputWithEnterPlaceHolder: 'Input link URL and press Enter',\n    openInNewWindow: 'Open in new window',\n    removeLink: 'Remove Link',\n  },\n  audioPlayer: {\n    title: 'Play Audio',\n  },\n  videoPlayer: {\n    title: 'Play Video',\n    embedTitle: 'Embed Media',\n  },\n  media: {\n    image: 'Image',\n    video: 'Video',\n    audio: 'Audio',\n    embed: 'Embed',\n  },\n};\n","export default {\n  base: {\n    remove: '删除',\n    cancel: '取消',\n    confirm: '确定',\n    inert: '插入',\n    width: '宽度',\n    height: '高度',\n  },\n  controls: {\n    clear: '清除内容',\n    undo: '撤销',\n    redo: '重做',\n    fontSize: '字号',\n    lineHeight: '行高',\n    letterSpacing: '字间距',\n    textIndent: '段落缩进',\n    increaseIndent: '增加缩进',\n    decreaseIndent: '减少缩进',\n    border: '边框',\n    color: '颜色',\n    textColor: '文字颜色',\n    backgroundColor: '背景颜色',\n    tempColors: '临时颜色',\n    bold: '加粗',\n    italic: '斜体',\n    underline: '下划线',\n    strikeThrough: '删除线',\n    fontFamily: '字体',\n    textAlign: '文本对齐',\n    alignLeft: '居左',\n    alignCenter: '居中',\n    alignRight: '居右',\n    alignJustify: '两端',\n    floatLeft: '左浮动',\n    floatRight: '右浮动',\n    superScript: '上标',\n    subScript: '下标',\n    removeStyles: '清除样式',\n    headings: '标题',\n    header: '标题',\n    normal: '常规',\n    orderedList: '有序列表',\n    unorderedList: '无序列表',\n    blockQuote: '引用',\n    code: '代码',\n    link: '链接',\n    unlink: '清除链接',\n    hr: '水平线',\n    media: '媒体',\n    mediaLibirary: '媒体库',\n    emoji: '小表情',\n    fullscreen: '全屏',\n    exitFullscreen: '退出全屏',\n  },\n  linkEditor: {\n    textInputPlaceHolder: '输入链接文字',\n    linkInputPlaceHolder: '输入链接地址',\n    inputWithEnterPlaceHolder: '输入链接地址并回车',\n    openInNewWindow: '在新窗口打开',\n    removeLink: '移除链接',\n  },\n  audioPlayer: {\n    title: '播放音频文件',\n  },\n  videoPlayer: {\n    title: '播放视频文件',\n    embedTitle: '嵌入式媒体',\n  },\n  media: {\n    image: '图像',\n    video: '视频',\n    audio: '音频',\n    embed: '嵌入式媒体',\n  },\n};\n","export default {\n  base: {\n    remove: '刪除',\n    cancel: '取消',\n    confirm: '確定',\n    inert: '插入',\n    width: '宽度',\n    height: '高度',\n  },\n  controls: {\n    clear: '清除内容',\n    undo: '撤銷',\n    redo: '重做',\n    fontSize: '字號',\n    color: '顏色',\n    textColor: '文字顏色',\n    backgroundColor: '背景顏色',\n    tempColors: '臨時顏色',\n    bold: '加粗',\n    lineHeight: '行高',\n    letterSpacing: '字間距',\n    textIndent: '段落縮進',\n    increaseIndent: '增加縮進',\n    decreaseIndent: '减少縮進',\n    border: '邊框',\n    italic: '斜體',\n    underline: '下劃線',\n    strikeThrough: '刪除線',\n    fontFamily: '字體',\n    textAlign: '文本對齊',\n    alignLeft: '居左',\n    alignCenter: '居中',\n    alignRight: '居右',\n    alignJustify: '兩端對齊',\n    floatLeft: '左浮動',\n    floatRight: '右浮動',\n    superScript: '上標',\n    subScript: '下標',\n    removeStyles: '清除样式',\n    headings: '標題',\n    header: '標題',\n    normal: '常規',\n    orderedList: '有序列表',\n    unorderedList: '無序列表',\n    blockQuote: '引用',\n    code: '代碼',\n    link: '鏈接',\n    unlink: '清除鏈接',\n    hr: '水平线',\n    media: '媒體',\n    mediaLibirary: '媒體库',\n    emoji: '小表情',\n    fullscreen: '全熒幕',\n    exitFullscreen: '退出全熒幕',\n  },\n  linkEditor: {\n    textInputPlaceHolder: '輸入鏈接文字',\n    linkInputPlaceHolder: '輸入鏈接地址',\n    inputWithEnterPlaceHolder: '輸入鏈接地址並回車',\n    openInNewWindow: '在新窗口打開',\n    removeLink: '移除鏈接',\n  },\n  audioPlayer: {\n    title: '播放音頻文件',\n  },\n  videoPlayer: {\n    title: '播放視頻文件',\n    embedTitle: '嵌入式媒體',\n  },\n  media: {\n    image: '圖像',\n    video: '視頻',\n    audio: '音頻',\n    embed: '嵌入式媒體',\n  },\n};\n","export default {\n  base: {\n    remove: 'Usuń',\n    cancel: 'Anuluj',\n    confirm: 'Potwierdź',\n    inert: 'Wstaw',\n    width: 'Szerokość',\n    height: 'Wysokość',\n  },\n  controls: {\n    clear: 'Wyczyść',\n    undo: 'Cofnij',\n    redo: 'Przywróć',\n    fontSize: 'Wielkość',\n    color: 'Kolor',\n    textColor: 'Kolor tekstu',\n    tempColors: 'Kolory',\n    backgroundColor: 'Tło',\n    bold: 'Pogrubienie',\n    lineHeight: 'Wysokość linii',\n    letterSpacing: 'Odstęp znaków',\n    textIndent: 'Wcięcie tekstu',\n    increaseIndent: 'Zwiększ wcięcie',\n    decreaseIndent: 'Zmniejsz wcięcie',\n    italic: 'Italiki',\n    underline: 'Podkreślenie',\n    strikeThrough: 'Przekreślenie',\n    fontFamily: 'Czcionka',\n    textAlign: 'Wyrównanie tekstu',\n    alignLeft: 'Do lewej',\n    alignCenter: 'Wycentruj',\n    alignRight: 'Do prawej',\n    alignJustify: 'Wyjustuj',\n    floatLeft: 'Do lewej',\n    floatRight: 'Do prawej',\n    superScript: 'Superskrypt',\n    subScript: 'Subskrypt',\n    removeStyles: 'Usuń stylowanie',\n    headings: 'Nagłówki',\n    header: 'Nagłówek',\n    normal: 'Normalny',\n    orderedList: 'Lista uporządkowana',\n    unorderedList: 'Lista nieuporządkowana',\n    blockQuote: 'Cytat',\n    code: 'Kod',\n    link: 'Link',\n    unlink: 'Usuń link',\n    hr: 'Linia pozioma',\n    media: 'Media',\n    mediaLibirary: 'Biblioteka mediów',\n    emoji: 'Emoji',\n  },\n  linkEditor: {\n    textInputPlaceHolder: 'Wpisz tekst linku',\n    linkInputPlaceHolder: 'Wpisz Adres URL',\n    inputWithEnterPlaceHolder: 'Wpisz adres URL i naciśnij Enter',\n    openInNewWindow: 'Otwórz w nowym oknie',\n    removeLink: 'Usuń link',\n  },\n  audioPlayer: {\n    title: 'Odtwórz audio',\n  },\n  videoPlayer: {\n    title: 'Odtwórz wideo',\n    embedTitle: 'Tytuł',\n  },\n  media: {\n    image: 'Obraz',\n    video: 'Wideo',\n    audio: 'Audio',\n    embed: 'Obiekt osadzony',\n  },\n};\n","export default {\n  base: {\n    remove: '삭제',\n    cancel: '취소',\n    confirm: '결정',\n    inert: '삽입',\n    width: '너비',\n    height: '높이',\n  },\n  controls: {\n    clear: '콘텐츠지우기',\n    undo: '취소',\n    redo: '다시하기',\n    fontSize: '글자크기',\n    lineHeight: '행높이',\n    letterSpacing: '단어간격',\n    textIndent: '단락들여쓰기',\n    increaseIndent: '들여쓰기늘리기',\n    decreaseIndent: '들여쓰기줄이기',\n    border: '국경',\n    color: '색상',\n    textColor: '텍스트색상',\n    backgroundColor: '배경색상',\n    tempColors: '임시색',\n    bold: '굵게',\n    italic: '기울임꼴',\n    underline: '밑줄',\n    strikeThrough: '취소선',\n    fontFamily: '글꼴',\n    textAlign: '텍스트정렬',\n    alignLeft: '왼쪽',\n    alignCenter: '중심',\n    alignRight: '오른쪽',\n    alignJustify: '양쪽끝',\n    floatLeft: '떠다니기',\n    floatRight: '오른쪽부동',\n    superScript: '위첨자',\n    subScript: '첨자',\n    removeStyles: '스타일지우기',\n    headings: '제목',\n    header: '제목',\n    normal: '재래식',\n    orderedList: '순서가지정된목록',\n    unorderedList: '정렬되지않은목록',\n    blockQuote: '참고문헌',\n    code: '코드',\n    link: '링크',\n    unlink: '링크삭제',\n    hr: '수평선',\n    media: '미디어',\n    mediaLibirary: '미디어라이브러리',\n    emoji: '작은표현',\n    fullscreen: '전체화면',\n    exitFullscreen: '전체화면종료',\n  },\n  linkEditor: {\n    textInputPlaceHolder: '링크텍스트입력',\n    linkInputPlaceHolder: '링크주소입력',\n    inputWithEnterPlaceHolder: '링크주소입력.',\n    openInNewWindow: '새창열기',\n    removeLink: '링크삭제',\n  },\n  audioPlayer: {\n    title: '오디오파일재생',\n  },\n  videoPlayer: {\n    title: '비디오파일재생',\n    embedTitle: '임베디드미디어',\n  },\n  media: {\n    image: '이미지',\n    video: '비디오',\n    audio: '오디오',\n    embed: '임베디드미디어',\n  },\n};\n","export default {\n  base: {\n    remove: 'Kaldır',\n    cancel: 'İptal',\n    confirm: 'Onayla',\n    inert: 'Ekle',\n    width: 'Genişlik',\n    height: 'Yükseklik',\n  },\n  controls: {\n    clear: 'Temizle',\n    undo: 'Geri al',\n    redo: 'İleri al',\n    fontSize: 'Yazı boyutu',\n    color: 'Renk',\n    textColor: 'Yazı rengi',\n    tempColors: 'Geçici renkler',\n    backgroundColor: 'Arkaplan',\n    bold: 'Kalın',\n    lineHeight: 'Satır yüksekliği',\n    letterSpacing: 'Harf aralığı',\n    textIndent: 'Çentik aralığı',\n    increaseIndent: 'Çentiği genişlet',\n    decreaseIndent: 'Çentiği daralt',\n    italic: 'Eğik',\n    underline: 'Altı çizili',\n    strikeThrough: 'Üstü çizili',\n    fontFamily: 'Yazı tipi',\n    textAlign: 'Metin Hizalama',\n    alignLeft: 'Sola hizala',\n    alignCenter: 'Ortaya hizala',\n    alignRight: 'Sağa hizala',\n    alignJustify: 'Her iki tarafa hizala',\n    floatLeft: 'Sola yatır',\n    floatRight: 'Sağa yatır',\n    superScript: 'Ana kod',\n    subScript: 'Alt kod',\n    removeStyles: 'Stilleri kaldır',\n    headings: 'Başlıklar',\n    header: 'Başlık',\n    normal: 'Normal',\n    orderedList: 'Sıralı liste',\n    unorderedList: 'Sırasız liste',\n    blockQuote: 'Alıntı',\n    code: 'Kod',\n    link: 'Bağlantı',\n    unlink: 'Bağlantıyı kaldır',\n    hr: 'Yatay çizgi',\n    media: 'Medya',\n    mediaLibirary: 'Kütüphane',\n    emoji: 'İfade',\n    fullscreen: 'Tam ekran',\n    exitFullscreen: 'Tam ekrandan çık',\n  },\n  linkEditor: {\n    textInputPlaceHolder: 'Bağlantı metnini girin',\n    linkInputPlaceHolder: \"Bağlantı URL' si girin\",\n    inputWithEnterPlaceHolder: \"Bağlantı URL'si girin ve Enter' a basın\",\n    openInNewWindow: 'Yeni pencerede aç',\n    removeLink: 'Bağlantıyı kaldır',\n  },\n  audioPlayer: {\n    title: 'Ses çal',\n  },\n  videoPlayer: {\n    title: 'Görüntü oynat',\n    embedTitle: 'Görüntüyü göm',\n  },\n  media: {\n    image: 'Resim',\n    video: 'Görüntü',\n    audio: 'Ses',\n    embed: 'Gömülü nesne',\n  },\n};\n","export default {\n  base: {\n    remove: '削除',\n    cancel: 'キャンセル',\n    confirm: '決定',\n    inert: '挿入',\n    width: '幅',\n    height: '高さ',\n  },\n  controls: {\n    clear: 'クリアコンテンツ',\n    undo: 'キャンセル',\n    redo: 'キャンセル',\n    fontSize: 'フォントサイズ',\n    lineHeight: 'フォントサイズ',\n    letterSpacing: 'ワード間隔',\n    textIndent: '段落のインデント',\n    increaseIndent: 'インデントを増やす',\n    decreaseIndent: 'インデントを減らす',\n    border: '国境',\n    color: '色',\n    textColor: 'テキストの色',\n    backgroundColor: '背景色',\n    tempColors: '仮色',\n    bold: '太字',\n    italic: 'イタリック体',\n    underline: '下線',\n    strikeThrough: '取り消し線',\n    fontFamily: 'フォント',\n    textAlign: 'テキストの配置',\n    alignLeft: '左',\n    alignCenter: '中央揃え',\n    alignRight: '右に立つ',\n    alignJustify: '両端',\n    floatLeft: '左フローティング',\n    floatRight: '右フローティング',\n    superScript: '上付き',\n    subScript: '下付き文字',\n    removeStyles: 'クリアスタイル',\n    headings: '役職',\n    header: '役職',\n    normal: '従来の',\n    orderedList: '順序付きリスト',\n    unorderedList: '番号なしリスト',\n    blockQuote: '参照',\n    code: 'コード',\n    link: 'リンク',\n    unlink: 'リンクを解除',\n    hr: '横線',\n    media: 'メディア',\n    mediaLibirary: 'メディアライブラリー',\n    emoji: '小さな表現',\n    fullscreen: '全画面',\n    exitFullscreen: '全画面を退く',\n  },\n  linkEditor: {\n    textInputPlaceHolder: 'リンクテキストを入力',\n    linkInputPlaceHolder: 'リンクアドレスを入力',\n    inputWithEnterPlaceHolder: 'リンクアドレスを入力して戻ります',\n    openInNewWindow: '新しいウィンドウで開く',\n    removeLink: '新しいウィンドウで開く',\n  },\n  audioPlayer: {\n    title: 'オーディオファイルを再生する',\n  },\n  videoPlayer: {\n    title: 'ビデオファイルを再生する',\n    embedTitle: '埋め込みメディア',\n  },\n  media: {\n    image: '画像',\n    video: 'ビデオ',\n    audio: '音声',\n    embed: '埋め込みメディア',\n  },\n};\n","export default {\n  base: {\n    remove: 'Удалить',\n    cancel: 'Отмена',\n    confirm: 'Подтвердить',\n    insert: 'Вставить',\n    width: 'Ширина',\n    height: 'Высота',\n  },\n  controls: {\n    clear: 'Очистить',\n    undo: 'Отменить',\n    redo: 'Повторить',\n    fontSize: 'Размер шрифта',\n    color: 'Цвет',\n    textColor: 'Цвет текста',\n    tempColors: 'Temp Colors',\n    backgroundColor: 'Цвет фона',\n    bold: 'Жирный',\n    lineHeight: 'Межстрочный интервал',\n    letterSpacing: 'Межбуквенный интервал',\n    textIndent: 'Отступ',\n    increaseIndent: 'Увеличить отступ',\n    decreaseIndent: 'Уменьшить отступ',\n    italic: 'Курсив',\n    underline: 'Подчеркнутый',\n    strikeThrough: 'Перечеркнутый',\n    fontFamily: 'Шрифт',\n    textAlign: 'Расположение текста',\n    alignLeft: 'По левому краю',\n    alignCenter: 'По центру',\n    alignRight: 'По правому краю',\n    alignJustify: 'По ширине',\n    floatLeft: 'Обтекание слева',\n    floatRight: 'Обтекание справа',\n    superScript: 'Надстрочный индекс',\n    subScript: 'Подстрочный индекс',\n    removeStyles: 'Убрать стили',\n    headings: 'Заголовки',\n    header: 'Заголовок',\n    normal: 'Обычный',\n    orderedList: 'Упорядоченный список',\n    unorderedList: 'Неупорядоченный список',\n    blockQuote: 'Цитата',\n    code: 'Код',\n    link: 'Вставить ссылку',\n    unlink: 'Убрать ссылку',\n    hr: 'Горизонтальная линия',\n    media: 'Медиа',\n    mediaLibirary: 'Медиа библиотека',\n    emoji: 'Emoji',\n    fullscreen: 'Полноэкранный режим',\n    exitFullscreen: 'Выйти из полноэкранного режима',\n  },\n  linkEditor: {\n    textInputPlaceHolder: 'Введите текст ссылки',\n    linkInputPlaceHolder: 'Вставить ссылку',\n    inputWithEnterPlaceHolder: 'Вставить ссылку и нажать Enter',\n    openInNewWindow: 'Открыть в новом окне',\n    removeLink: 'Убрать ссылку',\n  },\n  audioPlayer: {\n    title: 'Воспроизвести аудиофайл',\n  },\n  videoPlayer: {\n    title: 'Воспроизвести видеофайл',\n    embedTitle: 'Embed Media',\n  },\n  media: {\n    image: 'Картинка',\n    video: 'Видео',\n    audio: 'Аудио',\n    embed: 'Встроенное',\n  },\n};\n","export default {\n  base: {\n    remove: 'Supprimer',\n    cancel: 'Annuler',\n    confirm: 'Confirmer',\n    inert: 'Insérer',\n    width: 'Largeur',\n    height: 'Hauteur',\n  },\n  controls: {\n    clear: 'Effacer',\n    undo: 'Annuler',\n    redo: 'Refaire',\n    fontSize: 'Taille de police',\n    color: 'Couleur',\n    textColor: 'Texte',\n    tempColors: 'Couleurs temporaire',\n    backgroundColor: \"Couleur d'arrière plan\",\n    bold: 'Gras',\n    lineHeight: 'Hauteur de ligne',\n    letterSpacing: 'Espacement des lettres',\n    textIndent: 'Indentation du texte',\n    increaseIndent: \"Augmenter l'indentation\",\n    decreaseIndent: \"Réduire l'indentation\",\n    italic: 'Italique',\n    underline: 'Souligner',\n    strikeThrough: 'Barrer',\n    fontFamily: \"Police d'écriture\",\n    textAlign: 'Alignement du texte',\n    alignLeft: 'Aligner à gauche',\n    alignCenter: 'Aligner au centre',\n    alignRight: 'Aligner à droite',\n    alignJustify: 'Justifier',\n    floatLeft: 'Déplacer à gauche',\n    floatRight: 'Déplacer à droite',\n    superScript: 'Super-script',\n    subScript: 'Sous-script',\n    removeStyles: 'Supprimer les styles',\n    headings: 'Titres',\n    header: 'Entêtes',\n    normal: 'Normal',\n    orderedList: 'Liste ordonnée',\n    unorderedList: 'Liste non-ordonnée',\n    blockQuote: 'Citation',\n    code: 'Code',\n    link: 'Insérer un lien',\n    unlink: 'Supprimer le lien',\n    hr: 'Ligne horizontale',\n    media: 'Média',\n    mediaLibirary: 'Bibliothêque',\n    emoji: 'Emoji',\n    fullscreen: 'Plein écran',\n    exitFullscreen: 'Quitter le plein écran',\n  },\n  linkEditor: {\n    textInputPlaceHolder: 'Insérer le texte à afficher',\n    linkInputPlaceHolder: 'Insérer le lien URL',\n    inputWithEnterPlaceHolder: 'Insérer le lien URL puis appuyer sur Entrée',\n    openInNewWindow: 'Ouvrir dans une nouvelle fenêtre',\n    removeLink: 'Supprimer le lien',\n  },\n  audioPlayer: {\n    title: 'Lancer le son audio',\n  },\n  videoPlayer: {\n    title: 'Lancer la video',\n    embedTitle: 'Intégrer média',\n  },\n  media: {\n    image: 'Image',\n    video: 'Vidéo',\n    audio: 'Audio',\n    embed: 'Intégré',\n  },\n};\n","export default {\n  base: {\n    remove: 'Remover',\n    cancel: 'Cancelar',\n    confirm: 'Confirmar',\n    inert: 'Inserir',\n    width: 'Largura',\n    height: 'Altura',\n  },\n  controls: {\n    clear: 'Limpar',\n    undo: 'Desfazer',\n    redo: 'Refazer',\n    fontSize: 'Tamanho da Fonte',\n    color: 'Cor',\n    textColor: 'Texto',\n    tempColors: 'Temp Colors',\n    backgroundColor: 'Cor de Fundo',\n    bold: 'Negrito',\n    lineHeight: 'Altura da LinhaLine Height',\n    letterSpacing: 'Espaçamento entre Letras',\n    textIndent: 'Identação de Texto',\n    increaseIndent: 'Aumentar Identação',\n    decreaseIndent: 'Diminuir Identção',\n    italic: 'Itálico',\n    underline: 'Sublinhado',\n    strikeThrough: 'Riscado',\n    fontFamily: 'Família da Fonte',\n    textAlign: 'Alinhamento de Texto',\n    alignLeft: 'Alinhamento à Esquerda',\n    alignCenter: 'Alinhamento Centralizado',\n    alignRight: 'Alinhamento à Direita',\n    alignJustify: 'Alinhamento Justificado',\n    floatLeft: 'Flutuação à Esquerda',\n    floatRight: 'Flutuação à Direita',\n    superScript: 'Sobrescrito',\n    subScript: 'Subscrito',\n    removeStyles: 'Remover Estilos',\n    headings: 'Cabeçalhos',\n    header: 'Cabeçalho',\n    normal: 'Normal',\n    orderedList: 'Lista Ordenada',\n    unorderedList: 'Lista Não Ordenada',\n    blockQuote: 'Citação',\n    code: 'Código',\n    link: 'Link',\n    unlink: 'Remover Link',\n    hr: 'Linha Horizontal',\n    media: 'Mídia',\n    mediaLibirary: 'Biblioteca de Mídia',\n    emoji: 'Emoji',\n    fullscreen: 'Tela Cheia',\n    exitFullscreen: 'Sair de Tela Cheia',\n  },\n  linkEditor: {\n    textInputPlaceHolder: 'Insira o texto do link',\n    linkInputPlaceHolder: 'Insira a URL do link',\n    inputWithEnterPlaceHolder: 'Insira a URL do link e aperte Enter',\n    openInNewWindow: 'Abrir em nova janela',\n    removeLink: 'Remover Link',\n  },\n  audioPlayer: {\n    title: 'Tocar Áudio',\n  },\n  videoPlayer: {\n    title: 'Tocar Vídeo',\n    embedTitle: 'Mídia Embutida',\n  },\n  media: {\n    image: 'Imagem',\n    video: 'Vídeo',\n    audio: 'Áudio',\n    embed: 'Embutido',\n  },\n};\n","export default {\n  base: {\n    remove: 'Xóa bỏ',\n    cancel: 'Hủy bỏ',\n    confirm: 'Xác nhận',\n    inert: 'Chèn vào',\n    width: 'Độ rộng',\n    height: 'Độ cao',\n  },\n  controls: {\n    clear: 'Xóa toàn bộ nội dung',\n    undo: 'Hủy bỏ',\n    redo: 'Làm lại',\n    fontSize: 'Size chữ',\n    lineHeight: 'Độ cao hàng',\n    letterSpacing: 'Khoảng cách chữ',\n    textIndent: 'Khoảng cách đoạn văn',\n    increaseIndent: 'Tăng khoảng cách',\n    decreaseIndent: 'Giảm khoảng cách',\n    border: 'Đường viền',\n    color: 'Màu sắc',\n    textColor: 'Màu chữ',\n    backgroundColor: 'Màu nền',\n    tempColors: 'Màu tạm thời',\n    bold: 'Tô đậm',\n    italic: 'In nghiêng',\n    underline: 'Gạch dưới',\n    strikeThrough: 'Xóa gạch dưới',\n    fontFamily: 'Font chữ',\n    textAlign: 'Căn chỉnh văn bản',\n    alignLeft: 'Căn trái',\n    alignCenter: 'Căn giữa',\n    alignRight: 'Căn phải',\n    alignJustify: 'Hai lề',\n    floatLeft: 'Float left',\n    floatRight: 'Float right',\n    superScript: 'Chỉ số trên',\n    subScript: 'Chỉ số dưới',\n    removeStyles: 'Xóa style',\n    headings: 'Tiêu đề',\n    header: 'Tiêu đề',\n    normal: 'Quy tắc thông thường',\n    orderedList: 'Kiểu sắp xếp',\n    unorderedList: 'Kiểu không sắp xếp',\n    blockQuote: 'Trích dẫn',\n    code: 'Code',\n    link: 'Liên kết',\n    unlink: 'Gỡ liên kết',\n    hr: 'Horizontal line',\n    media: 'Media',\n    mediaLibirary: 'Kho media',\n    emoji: 'Biểu tượng cảm xúc',\n    fullscreen: 'Toàn màn hình',\n    exitFullscreen: 'Thoát khỏi chế độ toàn màn hình',\n  },\n  linkEditor: {\n    textInputPlaceHolder: 'Nhập văn bản liên kết',\n    linkInputPlaceHolder: 'Nhập địa chỉ liên kết',\n    inputWithEnterPlaceHolder: 'Nhập địa chỉ liên kết và Enter',\n    openInNewWindow: 'Mở trong tab mới',\n    removeLink: 'Gỡ liên kết',\n  },\n  audioPlayer: {\n    title: 'Phát tệp âm thanh',\n  },\n  videoPlayer: {\n    title: 'Phát tệp video',\n    embedTitle: 'Media nhúng',\n  },\n  media: {\n    image: 'Hình ảnh',\n    video: 'Video',\n    audio: 'Âm thanh',\n    embed: 'Media nhúng',\n  },\n};\n","import en from './en';\nimport zh from './zh';\nimport zhHant from './zh-hant';\nimport pl from './pl';\nimport kr from './kr';\nimport tr from './tr';\nimport jpn from './jpn';\nimport ru from './ru';\nimport fr from './fr';\nimport ptBr from './pt-br';\nimport viVn from './vi-vn';\n\nexport default {\n  en,\n  zh,\n  'zh-hant': zhHant,\n  pl,\n  kr,\n  tr,\n  jpn,\n  ru,\n  fr,\n  'pt-br': ptBr,\n  'vi-vn': viVn,\n};\n","import { getDefaultKeyBinding, KeyBindingUtil } from 'draft-js';\n\n// TODO\n// Allow custom shortcut settings\n\nexport default (customKeyBindingFn) => (event) => {\n  if (\n    event.keyCode === 83 &&\n    (KeyBindingUtil.hasCommandModifier(event) ||\n      KeyBindingUtil.isCtrlKeyCommand(event))\n  ) {\n    return 'braft-save';\n  }\n\n  if (customKeyBindingFn) {\n    return customKeyBindingFn(event) || getDefaultKeyBinding(event);\n  }\n\n  return getDefaultKeyBinding(event);\n};\n","export default {\n  language: 'en',\n  controls: [\n    'undo',\n    'redo',\n    'separator',\n    'font-size',\n    'line-height',\n    'letter-spacing',\n    'separator',\n    'text-color',\n    'bold',\n    'italic',\n    'underline',\n    'strike-through',\n    'separator',\n    'superscript',\n    'subscript',\n    'remove-styles',\n    'emoji',\n    'separator',\n    'text-indent',\n    'text-align',\n    'separator',\n    'headings',\n    'list-ul',\n    'list-ol',\n    'blockquote',\n    'code',\n    'separator',\n    'media',\n    'link',\n    'table',\n    'split',\n    'hr',\n    'separator',\n    'clear',\n    'separator',\n    'fullscreen',\n  ],\n  excludeControls: [],\n  extendControls: [],\n  extendAtomics: [],\n  componentBelowControlBar: null,\n  media: {\n    pasteImage: true,\n    imagePasteLimit: 5,\n    image: true,\n    video: true,\n    audio: true,\n    uploadFn: null,\n    validateFn: null,\n    onBeforeDeselect: null,\n    onDeselect: null,\n    onBeforeSelect: null,\n    onSelect: null,\n    onBeforeRemove: null,\n    onRemove: null,\n    onCancel: null,\n    onFileSelect: null,\n    onBeforeInsert: null,\n    onInsert: null,\n    onChange: null,\n    accepts: {\n      image: 'image/png,image/jpeg,image/gif,image/webp,image/apng,image/svg',\n      video: 'video/mp4',\n      audio: 'audio/mp3',\n    },\n    externals: {\n      audio: true,\n      video: true,\n      image: true,\n      embed: true,\n    },\n  },\n  imageControls: [\n    'float-left',\n    'float-right',\n    'align-left',\n    'align-center',\n    'align-right',\n    'link',\n    'size',\n    'remove',\n  ],\n  imageResizable: true,\n  imageEqualRatio: true,\n  colors: [\n    '#000000',\n    '#333333',\n    '#666666',\n    '#999999',\n    '#cccccc',\n    '#ffffff',\n    '#61a951',\n    '#16a085',\n    '#07a9fe',\n    '#003ba5',\n    '#8e44ad',\n    '#f32784',\n    '#c0392b',\n    '#d35400',\n    '#f39c12',\n    '#fdda00',\n  ],\n  colorPicker: null,\n  colorPickerTheme: 'dark',\n  colorPickerAutoHide: true,\n  codeTabIndents: 2,\n  headings: [\n    'header-one',\n    'header-two',\n    'header-three',\n    'header-four',\n    'header-five',\n    'header-six',\n    'unstyled',\n  ],\n  textAligns: ['left', 'center', 'right', 'justify'],\n  textBackgroundColor: true,\n  allowInsertLinkText: false,\n  defaultLinkTarget: '',\n  letterSpacings: [0, 1, 2, 3, 4, 5, 6],\n  lineHeights: [1, 1.2, 1.5, 1.75, 2, 2.5, 3, 4],\n  fontSizes: [\n    12,\n    14,\n    16,\n    18,\n    20,\n    24,\n    28,\n    30,\n    32,\n    36,\n    40,\n    48,\n    56,\n    64,\n    72,\n    96,\n    120,\n    144,\n  ],\n  fontFamilies: [\n    {\n      name: 'Araial',\n      family: 'Arial, Helvetica, sans-serif',\n    },\n    {\n      name: 'Georgia',\n      family: 'Georgia, serif',\n    },\n    {\n      name: 'Impact',\n      family: 'Impact, serif',\n    },\n    {\n      name: 'Monospace',\n      family: '\"Courier New\", Courier, monospace',\n    },\n    {\n      name: 'Tahoma',\n      family: 'tahoma, arial, \"Hiragino Sans GB\", 宋体, sans-serif',\n    },\n  ],\n  converts: {\n    unitExportFn: (value, type) =>\n      type === 'line-height' ? value : `${value}px`,\n  },\n  emojis: [\n    '🤣',\n    '🙌',\n    '💚',\n    '💛',\n    '👏',\n    '😉',\n    '💯',\n    '💕',\n    '💞',\n    '💘',\n    '💙',\n    '💝',\n    '🖤',\n    '💜',\n    '❤️',\n    '😍',\n    '😻',\n    '💓',\n    '💗',\n    '😋',\n    '😇',\n    '😂',\n    '😹',\n    '😘',\n    '💖',\n    '😁',\n    '😀',\n    '🤞',\n    '😲',\n    '😄',\n    '😊',\n    '👍',\n    '😌',\n    '😃',\n    '😅',\n    '✌️',\n    '🤗',\n    '💋',\n    '😗',\n    '😽',\n    '😚',\n    '🤠',\n    '😙',\n    '😺',\n    '👄',\n    '😸',\n    '😏',\n    '😼',\n    '👌',\n    '😎',\n    '😆',\n    '😛',\n    '🙏',\n    '🤝',\n    '🙂',\n    '🤑',\n    '😝',\n    '😐',\n    '😑',\n    '🤤',\n    '😤',\n    '🙃',\n    '🤡',\n    '😶',\n    '😪',\n    '😴',\n    '😵',\n    '😓',\n    '👊',\n    '😦',\n    '😷',\n    '🤐',\n    '😜',\n    '🤓',\n    '👻',\n    '😥',\n    '🙄',\n    '🤔',\n    '🤒',\n    '🙁',\n    '😔',\n    '😯',\n    '☹️',\n    '☠️',\n    '😰',\n    '😩',\n    '😖',\n    '😕',\n    '😒',\n    '😣',\n    '😢',\n    '😮',\n    '😿',\n    '🤧',\n    '😫',\n    '🤥',\n    '😞',\n    '😬',\n    '👎',\n    '💀',\n    '😳',\n    '😨',\n    '🤕',\n    '🤢',\n    '😱',\n    '😭',\n    '😠',\n    '😈',\n    '😧',\n    '💔',\n    '😟',\n    '🙀',\n    '💩',\n    '👿',\n    '😡',\n    '😾',\n    '🖕',\n  ],\n  stripPastedStyles: false,\n  triggerChangeOnMount: true,\n  className: '',\n  style: {},\n  controlBarClassName: '',\n  controlBarStyle: {},\n  contentClassName: '',\n  contentStyle: {},\n  draftProps: {},\n  hooks: {},\n  onChange: null,\n  onFocus: null,\n  onBlur: null,\n  onTab: null,\n  onDelete: null,\n  onSave: null,\n  fixPlaceholder: false,\n};\n","/* eslint-disable no-underscore-dangle */\nimport { ContentUtils, ColorUtils } from 'braft-utils';\nimport { RichUtils, Modifier, EditorState, ContentState } from 'draft-js';\nimport getFragmentFromSelection from 'draft-js/lib/getFragmentFromSelection';\nimport { handleNewLine } from 'draftjs-utils';\n\nexport const keyCommandHandlers = (command, editorState, editor) => {\n  if (\n    editor.editorProps.handleKeyCommand &&\n    editor.editorProps.handleKeyCommand(command, editorState, editor) ===\n      'handled'\n  ) {\n    return 'handled';\n  }\n\n  if (command === 'braft-save') {\n    if (editor.editorProps.onSave) {\n      editor.editorProps.onSave(editorState);\n    }\n    return 'handled';\n  }\n\n  const { controls, excludeControls } = editor.editorProps;\n  const allowIndent =\n    (controls.indexOf('text-indent') !== 0 ||\n      controls.find((item) => item.key === 'text-indent')) &&\n    excludeControls.indexOf('text-indent') === -1;\n  const cursorStart = editorState.getSelection().getStartOffset();\n  const cursorEnd = editorState.getSelection().getEndOffset();\n  const cursorIsAtFirst = cursorStart === 0 && cursorEnd === 0;\n\n  if (command === 'backspace') {\n    if (\n      editor.editorProps.onDelete &&\n      editor.editorProps.onDelete(editorState) === false\n    ) {\n      return 'handled';\n    }\n\n    const blockType = ContentUtils.getSelectionBlockType(editorState);\n\n    if (allowIndent && cursorIsAtFirst && blockType !== 'code-block') {\n      editor.setValue(ContentUtils.decreaseSelectionIndent(editorState));\n    }\n  }\n\n  if (command === 'tab') {\n    const blockType = ContentUtils.getSelectionBlockType(editorState);\n\n    if (blockType === 'code-block') {\n      editor.setValue(\n        ContentUtils.insertText(\n          editorState,\n          ' '.repeat(editor.editorProps.codeTabIndents),\n        ),\n      );\n      return 'handled';\n    }\n    if (\n      blockType === 'ordered-list-item' ||\n      blockType === 'unordered-list-item'\n    ) {\n      const newEditorState = RichUtils.onTab(event, editorState, 4);\n      if (newEditorState !== editorState) {\n        editor.setValue(newEditorState);\n      }\n      return 'handled';\n    }\n    if (blockType !== 'atomic' && allowIndent && cursorIsAtFirst) {\n      editor.setValue(ContentUtils.increaseSelectionIndent(editorState));\n      return 'handled';\n    }\n  }\n\n  const nextEditorState = ContentUtils.handleKeyCommand(editorState, command);\n\n  if (nextEditorState) {\n    editor.setValue(nextEditorState);\n    return 'handled';\n  }\n\n  return 'not-handled';\n};\n\nexport const returnHandlers = (event, editorState, editor) => {\n  if (\n    editor.editorProps.handleReturn &&\n    editor.editorProps.handleReturn(event, editorState, editor) === 'handled'\n  ) {\n    return 'handled';\n  }\n\n  const currentBlock = ContentUtils.getSelectionBlock(editorState);\n  const currentBlockType = currentBlock.getType();\n\n  if (\n    currentBlockType === 'unordered-list-item' ||\n    currentBlockType === 'ordered-list-item'\n  ) {\n    if (currentBlock.getLength() === 0) {\n      editor.setValue(\n        ContentUtils.toggleSelectionBlockType(editorState, 'unstyled'),\n      );\n      return 'handled';\n    }\n\n    return 'not-handled';\n  }\n  if (currentBlockType === 'code-block') {\n    if (\n      event.which === 13 &&\n      (event.getModifierState('Shift') ||\n        event.getModifierState('Alt') ||\n        event.getModifierState('Control'))\n    ) {\n      editor.setValue(\n        ContentUtils.toggleSelectionBlockType(editorState, 'unstyled'),\n      );\n      return 'handled';\n    }\n\n    return 'not-handled';\n  }\n  if (currentBlockType === 'blockquote') {\n    if (event.which === 13) {\n      if (\n        event.getModifierState('Shift') ||\n        event.getModifierState('Alt') ||\n        event.getModifierState('Control')\n      ) {\n        // eslint-disable-next-line no-param-reassign\n        event.which = 0;\n      } else {\n        editor.setValue(RichUtils.insertSoftNewline(editorState));\n        return 'handled';\n      }\n    }\n  }\n\n  const nextEditorState = handleNewLine(editorState, event);\n\n  if (nextEditorState) {\n    editor.setValue(nextEditorState);\n    return 'handled';\n  }\n\n  return 'not-handled';\n};\n\nexport const beforeInputHandlers = (chars, editorState, editor) => {\n  if (\n    editor.editorProps.handleBeforeInput &&\n    editor.editorProps.handleBeforeInput(chars, editorState, editor) ===\n      'handled'\n  ) {\n    return 'handled';\n  }\n\n  return 'not-handled';\n};\n\nexport const compositionStartHandler = (_, editor) => {\n  const { editorState } = editor.state;\n  const selectedBlocks = ContentUtils.getSelectedBlocks(editorState);\n\n  if (selectedBlocks && selectedBlocks.length > 1) {\n    const nextEditorState = EditorState.push(\n      editorState,\n      Modifier.removeRange(\n        editorState.getCurrentContent(),\n        editorState.getSelection(),\n        'backward',\n      ),\n      'remove-range',\n    );\n\n    editor.setValue(nextEditorState);\n  }\n};\n\nexport const dropHandlers = (selectionState, dataTransfer, editor) => {\n  if (editor.editorProps.readOnly || editor.editorProps.disabled) {\n    return 'handled';\n  }\n\n  if (window && window.__BRAFT_DRAGING__IMAGE__) {\n    let nextEditorState = EditorState.forceSelection(\n      editor.state.editorState,\n      selectionState,\n    );\n    nextEditorState = ContentUtils.insertMedias(nextEditorState, [\n      window.__BRAFT_DRAGING__IMAGE__.mediaData,\n    ]);\n    nextEditorState = ContentUtils.removeBlock(\n      nextEditorState,\n      window.__BRAFT_DRAGING__IMAGE__.block,\n      nextEditorState.getSelection(),\n    );\n\n    window.__BRAFT_DRAGING__IMAGE__ = null;\n\n    editor.lockOrUnlockEditor(true);\n    editor.setValue(nextEditorState);\n\n    return 'handled';\n  }\n  if (!dataTransfer || !dataTransfer.getText()) {\n    return 'handled';\n  }\n\n  return 'not-handled';\n};\n\nexport const handleFiles = (files, editor) => {\n  const { pasteImage, validateFn, imagePasteLimit } = {\n    ...editor.constructor.defaultProps.media,\n    ...editor.editorProps.media,\n  };\n\n  if (pasteImage) {\n    files.slice(0, imagePasteLimit).forEach((file) => {\n      if (file && file.type.indexOf('image') > -1 && editor.braftFinder) {\n        const validateResult = validateFn ? validateFn(file) : true;\n        if (validateResult instanceof Promise) {\n          validateResult.then(() => {\n            editor.braftFinder.uploadImage(file, (image) => {\n              if (editor.isLiving) {\n                editor.setValue(\n                  ContentUtils.insertMedias(editor.state.editorState, [image]),\n                );\n              }\n            });\n          });\n        } else if (validateResult) {\n          editor.braftFinder.uploadImage(file, (image) => {\n            if (editor.isLiving) {\n              editor.setValue(\n                ContentUtils.insertMedias(editor.state.editorState, [image]),\n              );\n            }\n          });\n        }\n      }\n    });\n  }\n\n  if (files[0] && files[0].type.indexOf('image') > -1 && pasteImage) {\n    return 'handled';\n  }\n\n  return 'not-handled';\n};\n\nexport const droppedFilesHandlers = (selectionState, files, editor) => {\n  if (\n    editor.editorProps.handleDroppedFiles &&\n    editor.editorProps.handleDroppedFiles(selectionState, files, editor) ===\n      'handled'\n  ) {\n    return 'handled';\n  }\n\n  return handleFiles(files, editor);\n};\n\nexport const pastedFilesHandlers = (files, editor) => {\n  if (\n    editor.editorProps.handlePastedFiles &&\n    editor.editorProps.handlePastedFiles(files, editor) === 'handled'\n  ) {\n    return 'handled';\n  }\n\n  return handleFiles(files, editor);\n};\n\nexport const copyHandlers = (event, editor) => {\n  const blockMap = getFragmentFromSelection(editor.state.editorState);\n\n  if (blockMap && blockMap.toArray) {\n    try {\n      const tempContentState = ContentState.createFromBlockArray(\n        blockMap.toArray(),\n      );\n      const tempEditorState = EditorState.createWithContent(tempContentState);\n      const clipboardData =\n        event.clipboardData ||\n        window.clipboardData ||\n        event.originalEvent.clipboardData;\n\n      tempEditorState.setConvertOptions(\n        editor.state.editorState.convertOptions,\n      );\n\n      clipboardData.setData('text/html', tempEditorState.toHTML());\n      clipboardData.setData('text/plain', tempEditorState.toText());\n\n      event.preventDefault();\n    } catch (error) {\n      console.warn(error);\n    }\n  }\n};\n\nexport const pastedTextHandlers = (text, html, editorState, editor) => {\n  if (\n    editor.editorProps.handlePastedText &&\n    editor.editorProps.handlePastedText(text, html, editorState, editor) ===\n      'handled'\n  ) {\n    return 'handled';\n  }\n\n  if (!html || editor.editorProps.stripPastedStyles) {\n    return false;\n  }\n\n  const tempColors = ColorUtils.detectColorsFromHTMLString(html);\n\n  editor.setState(\n    {\n      tempColors: [...editor.state.tempColors, ...tempColors]\n        .filter((item) => editor.editorProps.colors.indexOf(item) === -1)\n        .filter((item, index, array) => array.indexOf(item) === index),\n    },\n    () => {\n      editor.setValue(ContentUtils.insertHTML(editorState, html, 'paste'));\n    },\n  );\n\n  return 'handled';\n};\n","/* eslint-disable new-cap */\nimport { BaseUtils } from 'braft-utils';\n\nlet resizeEventHandlers = [];\nlet responsiveHelperInited = false;\nlet debouce = false;\n\nexport default {\n  resolve(eventHandler) {\n    const id = BaseUtils.UniqueIndex();\n    resizeEventHandlers.push({ id, eventHandler });\n    return id;\n  },\n\n  unresolve(id) {\n    resizeEventHandlers = resizeEventHandlers.filter((item) => item.id !== id);\n  },\n};\n\nif (!responsiveHelperInited && typeof window === 'object') {\n  window.addEventListener('resize', (event) => {\n    clearTimeout(debouce);\n    debouce = setTimeout(() => {\n      resizeEventHandlers.map((item) => {\n        if (typeof item.eventHandler === 'function') {\n          item.eventHandler(event);\n          return true;\n        }\n        return false;\n      });\n      debouce = false;\n    }, 100);\n  });\n\n  responsiveHelperInited = true;\n}\n","/* eslint-disable react/no-danger */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport mergeClassNames from '@maximusft/mergeclassnames';\r\n\r\nimport ResponsiveHelper from 'helpers/responsive';\r\n\r\nimport './style.scss';\r\n\r\nclass DropDown extends React.Component {\r\n  state = {\r\n    active: false,\r\n    offset: 0,\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (document) {\r\n      document.body.addEventListener('click', this.registerClickEvent);\r\n      this.responsiveResolveId = ResponsiveHelper.resolve(\r\n        this.fixDropDownPosition,\r\n      );\r\n    }\r\n  }\r\n\r\n  // eslint-disable-next-line camelcase\r\n  UNSAFE_componentWillReceiveProps(next) {\r\n    if (!this.props.disabled && next.disabled) {\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevState) {\r\n    if (!prevState.active && this.state.active) {\r\n      this.fixDropDownPosition();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (document) {\r\n      document.body.removeEventListener('click', this.registerClickEvent);\r\n      ResponsiveHelper.unresolve(this.responsiveResolveId);\r\n    }\r\n  }\r\n\r\n  responsiveResolveId = React.createRef();\r\n\r\n  dropDownHandlerElement = React.createRef();\r\n\r\n  dropDownContentElement = React.createRef();\r\n\r\n  fixDropDownPosition = () => {\r\n    const viewRect = this.props.getContainerNode().getBoundingClientRect();\r\n    const handlerRect = this.dropDownHandlerElement.getBoundingClientRect();\r\n    const contentRect = this.dropDownContentElement.getBoundingClientRect();\r\n\r\n    let offset = 0;\r\n    let right =\r\n      handlerRect.right - handlerRect.width / 2 + contentRect.width / 2;\r\n    let left = handlerRect.left + handlerRect.width / 2 - contentRect.width / 2;\r\n\r\n    right = viewRect.right - right;\r\n    left -= viewRect.left;\r\n\r\n    if (right < 10) {\r\n      offset = right - 10;\r\n    } else if (left < 10) {\r\n      offset = left * -1 + 10;\r\n    }\r\n\r\n    if (offset !== this.state.offset) {\r\n      this.setState({ offset });\r\n    }\r\n  };\r\n\r\n  registerClickEvent = (event) => {\r\n    const { autoHide } = this.props;\r\n    const { active } = this.state;\r\n\r\n    if (\r\n      this.dropDownContentElement.contains(event.target) ||\r\n      this.dropDownHandlerElement.contains(event.target)\r\n    ) {\r\n      return false;\r\n    }\r\n\r\n    if (autoHide && active) {\r\n      this.hide();\r\n    }\r\n    return true;\r\n  };\r\n\r\n  toggle = () => {\r\n    this.setState((prevState) => ({\r\n      active: !prevState.active,\r\n    }));\r\n  };\r\n\r\n  show = () => {\r\n    this.setState({ active: true });\r\n  };\r\n\r\n  hide = () => {\r\n    this.setState({ active: false });\r\n  };\r\n\r\n  render() {\r\n    const { active, offset } = this.state;\r\n    const {\r\n      caption,\r\n      htmlCaption,\r\n      title,\r\n      disabled,\r\n      showArrow,\r\n      arrowActive,\r\n      className,\r\n      children,\r\n    } = this.props;\r\n\r\n    return (\r\n      <div\r\n        className={mergeClassNames(\r\n          'bf-dropdown',\r\n          !disabled && active && 'active',\r\n          disabled && 'disabled',\r\n          className,\r\n        )}\r\n      >\r\n        {htmlCaption ? (\r\n          <button\r\n            type=\"button\"\r\n            className=\"dropdown-handler\"\r\n            data-title={title}\r\n            aria-label=\"Button\"\r\n            onClick={this.toggle}\r\n            dangerouslySetInnerHTML={\r\n              htmlCaption ? { __html: htmlCaption } : null\r\n            }\r\n            ref={this.dropDownHandlerElement}\r\n          />\r\n        ) : (\r\n          <button\r\n            type=\"button\"\r\n            className=\"dropdown-handler\"\r\n            data-title={title}\r\n            onClick={this.toggle}\r\n            ref={this.dropDownHandlerElement}\r\n          >\r\n            <span>{caption}</span>\r\n            {showArrow !== false ? <i className=\"bfi-drop-down\" /> : null}\r\n          </button>\r\n        )}\r\n        <div\r\n          className=\"dropdown-content\"\r\n          style={{ marginLeft: offset }}\r\n          ref={this.dropDownContentElement}\r\n        >\r\n          <i\r\n            style={{ marginLeft: offset * -1 }}\r\n            className={mergeClassNames(\r\n              'dropdown-arrow',\r\n              arrowActive && 'active',\r\n            )}\r\n          />\r\n          <div className=\"dropdown-content-inner\">{children}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nDropDown.propTypes = {\r\n  autoHide: PropTypes.any,\r\n  onChange: PropTypes.any,\r\n  getContainerNode: PropTypes.any,\r\n  caption: PropTypes.any,\r\n  htmlCaption: PropTypes.any,\r\n  title: PropTypes.any,\r\n  disabled: PropTypes.any,\r\n  showArrow: PropTypes.any,\r\n  arrowActive: PropTypes.any,\r\n  className: PropTypes.any,\r\n  children: PropTypes.any,\r\n  theme: PropTypes.any,\r\n};\r\n\r\nexport default DropDown;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ControlGroup = ({ children }) => (\r\n  <div className=\"control-item-group\">{children}</div>\r\n);\r\n\r\nControlGroup.propTypes = {\r\n  children: PropTypes.any,\r\n};\r\n\r\nexport default ControlGroup;\r\n","/* eslint-disable camelcase */\r\n/* eslint-disable jsx-a11y/label-has-associated-control */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ContentUtils } from 'braft-utils';\r\n\r\nimport Switch from 'components/common/Switch';\r\nimport DropDown from 'components/common/DropDown';\r\nimport ControlGroup from 'components/business/ControlGroup';\r\n\r\nimport './style.scss';\r\n\r\nclass LinkEditor extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      text: '',\r\n      href: '',\r\n      target: props.defaultLinkTarget || '',\r\n      textSelected: false,\r\n    };\r\n  }\r\n\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    const { href, target } = ContentUtils.getSelectionEntityData(\r\n      nextProps.editorState,\r\n      'LINK',\r\n    );\r\n    const textSelected =\r\n      !ContentUtils.isSelectionCollapsed(this.props.editorState) &&\r\n      ContentUtils.getSelectionBlockType(this.props.editorState) !== 'atomic';\r\n\r\n    let selectedText = '';\r\n\r\n    if (textSelected) {\r\n      selectedText = ContentUtils.getSelectionText(this.props.editorState);\r\n    }\r\n\r\n    this.setState({\r\n      textSelected,\r\n      text: selectedText,\r\n      href: href || '',\r\n      target:\r\n        typeof target === 'undefined'\r\n          ? nextProps.defaultLinkTarget || ''\r\n          : target || '',\r\n    });\r\n  }\r\n\r\n  dropDownInstance = React.createRef();\r\n\r\n  handeKeyDown = (e) => {\r\n    if (e.keyCode === 13) {\r\n      this.handleConfirm();\r\n      e.preventDefault();\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  handleTnputText = (e) => {\r\n    this.setState({\r\n      text: e.currentTarget.value,\r\n    });\r\n  };\r\n\r\n  handleInputLink = (e) => {\r\n    this.setState({\r\n      href: e.currentTarget.value,\r\n    });\r\n  };\r\n\r\n  setTarget = () => {\r\n    this.setState((prevState) => ({\r\n      target: prevState.target === '_blank' ? '' : '_blank',\r\n    }));\r\n  };\r\n\r\n  handleCancel = () => {\r\n    this.dropDownInstance.hide();\r\n  };\r\n\r\n  handleUnlink = () => {\r\n    this.dropDownInstance.hide();\r\n    this.props.editor.setValue(\r\n      ContentUtils.toggleSelectionLink(this.props.editorState, false),\r\n    );\r\n  };\r\n\r\n  handleConfirm = () => {\r\n    let { href, target } = this.state;\r\n    const { text, textSelected } = this.state;\r\n    const hookReturns = this.props.hooks('toggle-link', { href, target })({\r\n      href,\r\n      target,\r\n    });\r\n\r\n    this.dropDownInstance.hide();\r\n    this.props.editor.requestFocus();\r\n\r\n    if (hookReturns === false) {\r\n      return false;\r\n    }\r\n\r\n    if (hookReturns) {\r\n      if (typeof hookReturns.href === 'string') {\r\n        href = hookReturns.href;\r\n      }\r\n      if (typeof hookReturns.target === 'string') {\r\n        target = hookReturns.target;\r\n      }\r\n    }\r\n\r\n    if (textSelected) {\r\n      if (href) {\r\n        this.props.editor.setValue(\r\n          ContentUtils.toggleSelectionLink(\r\n            this.props.editorState,\r\n            href,\r\n            target,\r\n          ),\r\n        );\r\n      } else {\r\n        this.props.editor.setValue(\r\n          ContentUtils.toggleSelectionLink(this.props.editorState, false),\r\n        );\r\n      }\r\n    } else {\r\n      this.props.editor.setValue(\r\n        ContentUtils.insertText(this.props.editorState, text || href, null, {\r\n          type: 'LINK',\r\n          data: { href, target },\r\n        }),\r\n      );\r\n    }\r\n    return true;\r\n  };\r\n\r\n  render() {\r\n    const { allowInsertLinkText } = this.props;\r\n    const { text, href, target, textSelected } = this.state;\r\n    const caption = <i className=\"bfi-link\" />;\r\n\r\n    return (\r\n      <ControlGroup>\r\n        <DropDown\r\n          key={0}\r\n          caption={caption}\r\n          title={this.props.language.controls.link}\r\n          autoHide\r\n          getContainerNode={this.props.getContainerNode}\r\n          showArrow={false}\r\n          ref={this.dropDownInstance}\r\n          className=\"control-item dropdown link-editor-dropdown\"\r\n        >\r\n          <div className=\"bf-link-editor\">\r\n            {allowInsertLinkText ? (\r\n              <div className=\"input-group\">\r\n                <input\r\n                  type=\"text\"\r\n                  value={text}\r\n                  spellCheck={false}\r\n                  disabled={textSelected}\r\n                  placeholder={\r\n                    this.props.language.linkEditor.textInputPlaceHolder\r\n                  }\r\n                  onKeyDown={this.handeKeyDown}\r\n                  onChange={this.handleTnputText}\r\n                />\r\n              </div>\r\n            ) : null}\r\n            <div className=\"input-group\">\r\n              <input\r\n                type=\"text\"\r\n                value={href}\r\n                spellCheck={false}\r\n                placeholder={\r\n                  this.props.language.linkEditor.linkInputPlaceHolder\r\n                }\r\n                onKeyDown={this.handeKeyDown}\r\n                onChange={this.handleInputLink}\r\n              />\r\n            </div>\r\n            <div className=\"switch-group\">\r\n              <Switch active={target === '_blank'} onClick={this.setTarget} />\r\n              <label>{this.props.language.linkEditor.openInNewWindow}</label>\r\n            </div>\r\n            <div className=\"buttons\">\r\n              <a\r\n                onClick={this.handleUnlink}\r\n                role=\"presentation\"\r\n                className=\"primary button-remove-link pull-left\"\r\n              >\r\n                <i className=\"bfi-close\" />\r\n                <span>{this.props.language.linkEditor.removeLink}</span>\r\n              </a>\r\n              <button\r\n                type=\"button\"\r\n                onClick={this.handleConfirm}\r\n                className=\"primary pull-right\"\r\n              >\r\n                {this.props.language.base.confirm}\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                onClick={this.handleCancel}\r\n                className=\"default pull-right\"\r\n              >\r\n                {this.props.language.base.cancel}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </DropDown>\r\n        <button\r\n          key={1}\r\n          type=\"button\"\r\n          data-title={this.props.language.controls.unlink}\r\n          className=\"control-item button\"\r\n          onClick={this.handleUnlink}\r\n          disabled={!textSelected || !href}\r\n        >\r\n          <i className=\"bfi-link-off\" />\r\n        </button>\r\n      </ControlGroup>\r\n    );\r\n  }\r\n}\r\n\r\nLinkEditor.propTypes = {\r\n  defaultLinkTarget: PropTypes.any,\r\n  language: PropTypes.any,\r\n  getContainerNode: PropTypes.any,\r\n  editorState: PropTypes.any,\r\n  editor: PropTypes.any,\r\n  allowInsertLinkText: PropTypes.any,\r\n  hooks: PropTypes.any,\r\n};\r\n\r\nexport default LinkEditor;\r\n","import React from 'react';\n\nexport const getHeadings = (lang) => [\n  {\n    key: 'header-one',\n    title: `${lang.controls.header} 1`,\n    text: <h1>{lang.controls.header} 1</h1>,\n    type: 'block-type',\n    command: 'header-one',\n  },\n  {\n    key: 'header-two',\n    title: `${lang.controls.header} 2`,\n    text: <h2>{lang.controls.header} 2</h2>,\n    type: 'block-type',\n    command: 'header-two',\n  },\n  {\n    key: 'header-three',\n    title: `${lang.controls.header} 3`,\n    text: <h3>{lang.controls.header} 3</h3>,\n    type: 'block-type',\n    command: 'header-three',\n  },\n  {\n    key: 'header-four',\n    title: `${lang.controls.header} 4`,\n    text: <h4>{lang.controls.header} 4</h4>,\n    type: 'block-type',\n    command: 'header-four',\n  },\n  {\n    key: 'header-five',\n    title: `${lang.controls.header} 5`,\n    text: <h5>{lang.controls.header} 5</h5>,\n    type: 'block-type',\n    command: 'header-five',\n  },\n  {\n    key: 'header-six',\n    title: `${lang.controls.header} 6`,\n    text: <h6>{lang.controls.header} 6</h6>,\n    type: 'block-type',\n    command: 'header-six',\n  },\n  {\n    key: 'unstyled',\n    title: lang.controls.normal,\n    text: lang.controls.normal,\n    type: 'block-type',\n    command: 'unstyled',\n  },\n];\n\nexport const blocks = {\n  'header-one': 'h1',\n  'header-two': 'h2',\n  'header-three': 'h3',\n  'header-four': 'h4',\n  'header-fiv': 'h5',\n  'header-six': 'h6',\n  unstyled: 'p',\n  blockquote: 'blockquote',\n};\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nimport { getHeadings } from 'configs/maps';\r\nimport DropDown from 'components/common/DropDown';\r\n\r\nimport './style.scss';\r\n\r\nconst Headings = (props) => {\r\n  const dropDownInstance = React.createRef();\r\n\r\n  const headings = getHeadings(props.language).filter(\r\n    (item) => props.headings.indexOf(item.key) !== -1,\r\n  );\r\n  const currentHeadingIndex = headings.findIndex(\r\n    (item) => item.command === props.current,\r\n  );\r\n  const caption = headings[currentHeadingIndex]\r\n    ? headings[currentHeadingIndex].title\r\n    : props.language.controls.normal;\r\n\r\n  return (\r\n    <DropDown\r\n      caption={caption}\r\n      autoHide\r\n      getContainerNode={props.getContainerNode}\r\n      title={props.language.controls.headings}\r\n      arrowActive={currentHeadingIndex === 0}\r\n      ref={dropDownInstance}\r\n      className=\"control-item dropdown headings-dropdown\"\r\n    >\r\n      <ul className=\"menu\">\r\n        {headings.map((item) => {\r\n          const isActive = props.current === item.command;\r\n          return (\r\n            <li\r\n              key={uuidv4()}\r\n              role=\"presentation\"\r\n              className={`menu-item${isActive ? ' active' : ''}`}\r\n              onClick={() => {\r\n                props.onChange(item.command, item.type);\r\n                dropDownInstance.hide();\r\n              }}\r\n            >\r\n              {item.text}\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    </DropDown>\r\n  );\r\n};\r\n\r\nHeadings.propTypes = {\r\n  headings: PropTypes.any,\r\n  current: PropTypes.any,\r\n  onChange: PropTypes.any,\r\n  editorState: PropTypes.any,\r\n  defaultCaption: PropTypes.any,\r\n  getContainerNode: PropTypes.any,\r\n  language: PropTypes.any,\r\n};\r\n\r\nexport default Headings;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nimport './style.scss';\r\n\r\nconst ColorPicker = (props) => (\r\n  <div className=\"bf-colors-wrap\">\r\n    <ul className=\"bf-colors\">\r\n      {props.presetColors.map((item) => {\r\n        const className =\r\n          props.color && item.toLowerCase() === props.color.toLowerCase()\r\n            ? 'color-item active'\r\n            : 'color-item';\r\n        return (\r\n          <li\r\n            role=\"presentation\"\r\n            key={uuidv4()}\r\n            title={item}\r\n            className={className}\r\n            style={{ color: item }}\r\n            data-color={item.replace('#', '')}\r\n            onClick={(e) => {\r\n              props.onChange(e.currentTarget.dataset.color, true);\r\n            }}\r\n          />\r\n        );\r\n      })}\r\n    </ul>\r\n  </div>\r\n);\r\n\r\nColorPicker.propTypes = {\r\n  onChange: PropTypes.any,\r\n  color: PropTypes.any,\r\n  presetColors: PropTypes.any,\r\n  hooks: PropTypes.any,\r\n  editorState: PropTypes.any,\r\n  colorPicker: PropTypes.any,\r\n  autoHide: PropTypes.any,\r\n  theme: PropTypes.any,\r\n  getContainerNode: PropTypes.any,\r\n  enableBackgroundColor: PropTypes.any,\r\n};\r\n\r\nexport default ColorPicker;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ContentUtils } from 'braft-utils';\r\n\r\nimport DropDown from 'components/common/DropDown';\r\nimport BuiltinColorPicker from 'components/common/ColorPicker';\r\n\r\nimport './style.scss';\r\n\r\nclass TextColor extends React.Component {\r\n  state = {\r\n    colorType: 'color',\r\n  };\r\n\r\n  dropDownInstance = React.createRef();\r\n\r\n  switchColorType = ({ currentTarget }) => {\r\n    this.setState({\r\n      colorType: currentTarget.dataset.type,\r\n    });\r\n  };\r\n\r\n  toggleColor = (color, closePicker) => {\r\n    if (color) {\r\n      let newColor = color;\r\n      const hookReturns = this.props.hooks(\r\n        `toggle-text-${this.state.colorType}`,\r\n        newColor,\r\n      )(newColor);\r\n\r\n      if (hookReturns === false) {\r\n        return false;\r\n      }\r\n\r\n      if (typeof hookReturns === 'string') {\r\n        newColor = hookReturns;\r\n      }\r\n\r\n      if (this.state.colorType === 'color') {\r\n        this.props.editor.setValue(\r\n          ContentUtils.toggleSelectionColor(this.props.editorState, newColor),\r\n        );\r\n      } else {\r\n        this.props.editor.setValue(\r\n          ContentUtils.toggleSelectionBackgroundColor(\r\n            this.props.editorState,\r\n            newColor,\r\n          ),\r\n        );\r\n      }\r\n    }\r\n\r\n    if (closePicker) {\r\n      this.dropDownInstance.hide();\r\n      this.props.editor.requestFocus();\r\n    }\r\n    return true;\r\n  };\r\n\r\n  render() {\r\n    const captionStyle = {};\r\n    let currentColor = null;\r\n    const { colorType } = this.state;\r\n\r\n    const selectionStyles = this.props.editorState\r\n      .getCurrentInlineStyle()\r\n      .toJS();\r\n\r\n    selectionStyles.forEach((style) => {\r\n      if (style.indexOf('COLOR-') === 0) {\r\n        captionStyle.color = `#${style.split('-')[1]}`;\r\n        if (colorType === 'color') {\r\n          currentColor = captionStyle.color;\r\n        }\r\n      }\r\n\r\n      if (style.indexOf('BGCOLOR-') === 0) {\r\n        captionStyle.backgroundColor = `#${style.split('-')[1]}`;\r\n        if (colorType === 'background-color') {\r\n          currentColor = captionStyle.backgroundColor;\r\n        }\r\n      }\r\n    });\r\n\r\n    const caption = (\r\n      <i style={captionStyle} className=\"bfi-text-color\">\r\n        <span className=\"path1\" />\r\n        <span className=\"path2\" />\r\n      </i>\r\n    );\r\n\r\n    const ColorPicker = this.props.colorPicker || BuiltinColorPicker;\r\n\r\n    return (\r\n      <DropDown\r\n        caption={caption}\r\n        title={this.props.language.controls.color}\r\n        showArrow={false}\r\n        autoHide={this.props.autoHide}\r\n        theme={this.props.theme}\r\n        getContainerNode={this.props.getContainerNode}\r\n        ref={this.dropDownInstance}\r\n        className=\"control-item dropdown text-color-dropdown\"\r\n      >\r\n        <div className=\"bf-text-color-picker-wrap\">\r\n          <div\r\n            className=\"bf-color-switch-buttons\"\r\n            style={this.props.enableBackgroundColor ? {} : { display: 'none' }}\r\n          >\r\n            <button\r\n              type=\"button\"\r\n              data-type=\"color\"\r\n              className={colorType === 'color' ? 'active' : ''}\r\n              onClick={this.switchColorType}\r\n            >\r\n              {this.props.language.controls.textColor}\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              data-type=\"background-color\"\r\n              className={colorType === 'background-color' ? 'active' : ''}\r\n              onClick={this.switchColorType}\r\n            >\r\n              {this.props.language.controls.backgroundColor}\r\n            </button>\r\n          </div>\r\n          <ColorPicker\r\n            width={200}\r\n            color={currentColor}\r\n            disableAlpha\r\n            presetColors={this.props.colors}\r\n            onChange={this.toggleColor}\r\n          />\r\n        </div>\r\n      </DropDown>\r\n    );\r\n  }\r\n}\r\n\r\nTextColor.propTypes = {\r\n  colors: PropTypes.any,\r\n  editor: PropTypes.any,\r\n  language: PropTypes.any,\r\n  hooks: PropTypes.any,\r\n  editorState: PropTypes.any,\r\n  colorPicker: PropTypes.any,\r\n  autoHide: PropTypes.any,\r\n  theme: PropTypes.any,\r\n  getContainerNode: PropTypes.any,\r\n  enableBackgroundColor: PropTypes.any,\r\n};\r\n\r\nexport default TextColor;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { ContentUtils } from 'braft-utils';\r\n\r\nimport DropDown from 'components/common/DropDown';\r\n\r\nimport './style.scss';\r\n\r\nconst toggleFontSize = (event, props) => {\r\n  let fontSize = event.currentTarget.dataset.size;\r\n  const hookReturns = props.hooks('toggle-font-size', fontSize)(fontSize);\r\n\r\n  if (hookReturns === false) {\r\n    return false;\r\n  }\r\n\r\n  if (!isNaN(fontSize)) {\r\n    fontSize = hookReturns;\r\n  }\r\n\r\n  props.editor.setValue(\r\n    ContentUtils.toggleSelectionFontSize(props.editorState, fontSize),\r\n  );\r\n  props.editor.requestFocus();\r\n  return true;\r\n};\r\n\r\nconst FontSize = (props) => {\r\n  let caption = null;\r\n  let currentFontSize = null;\r\n  let dropDownInstance = null;\r\n\r\n  props.fontSizes.find((item) => {\r\n    if (\r\n      ContentUtils.selectionHasInlineStyle(\r\n        props.editorState,\r\n        `FONTSIZE-${item}`,\r\n      )\r\n    ) {\r\n      caption = item;\r\n      currentFontSize = item;\r\n      return true;\r\n    }\r\n    return false;\r\n  });\r\n\r\n  return (\r\n    <DropDown\r\n      autoHide\r\n      caption={caption || props.defaultCaption}\r\n      getContainerNode={props.getContainerNode}\r\n      title={props.language.controls.fontSize}\r\n      // eslint-disable-next-line no-return-assign\r\n      ref={(instance) => (dropDownInstance = instance)}\r\n      className=\"control-item dropdown bf-font-size-dropdown\"\r\n    >\r\n      <ul className=\"bf-font-sizes\">\r\n        {props.fontSizes.map((item) => {\r\n          return (\r\n            <li\r\n              key={uuidv4()}\r\n              role=\"presentation\"\r\n              className={item === currentFontSize ? 'active' : null}\r\n              data-size={item}\r\n              onClick={(event) => {\r\n                toggleFontSize(event, props);\r\n                dropDownInstance.hide();\r\n              }}\r\n            >\r\n              {item}\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    </DropDown>\r\n  );\r\n};\r\n\r\nFontSize.propTypes = {\r\n  fontSizes: PropTypes.any,\r\n  editorState: PropTypes.any,\r\n  defaultCaption: PropTypes.any,\r\n  getContainerNode: PropTypes.any,\r\n  language: PropTypes.any,\r\n};\r\n\r\nexport default FontSize;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { ContentUtils } from 'braft-utils';\r\n\r\nimport DropDown from 'components/common/DropDown';\r\n\r\nimport './style.scss';\r\n\r\nconst toggleLineHeight = (event, props) => {\r\n  let lineHeight = event.currentTarget.dataset.size;\r\n  const hookReturns = props.hooks('toggle-line-height', lineHeight)(lineHeight);\r\n\r\n  if (hookReturns === false) {\r\n    return false;\r\n  }\r\n\r\n  if (!isNaN(hookReturns)) {\r\n    lineHeight = hookReturns;\r\n  }\r\n\r\n  props.editor.setValue(\r\n    ContentUtils.toggleSelectionLineHeight(props.editorState, lineHeight),\r\n  );\r\n  props.editor.requestFocus();\r\n  return true;\r\n};\r\n\r\nconst LineHeight = (props) => {\r\n  let caption = null;\r\n  let currentLineHeight = null;\r\n  const dropDownInstance = React.createRef();\r\n\r\n  props.lineHeights.find((item) => {\r\n    if (\r\n      ContentUtils.selectionHasInlineStyle(\r\n        props.editorState,\r\n        `LINEHEIGHT-${item}`,\r\n      )\r\n    ) {\r\n      caption = item;\r\n      currentLineHeight = item;\r\n      return true;\r\n    }\r\n    return false;\r\n  });\r\n\r\n  return (\r\n    <DropDown\r\n      autoHide\r\n      caption={caption || props.defaultCaption}\r\n      getContainerNode={props.getContainerNode}\r\n      title={props.language.controls.lineHeight}\r\n      ref={dropDownInstance}\r\n      className=\"control-item dropdown bf-line-height-dropdown\"\r\n    >\r\n      <ul className=\"bf-line-heights\">\r\n        {props.lineHeights.map((item) => {\r\n          return (\r\n            <li\r\n              key={uuidv4()}\r\n              role=\"presentation\"\r\n              className={item === currentLineHeight ? 'active' : null}\r\n              data-size={item}\r\n              onClick={(event) => {\r\n                toggleLineHeight(event, props);\r\n                dropDownInstance.hide();\r\n              }}\r\n            >\r\n              {item}\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    </DropDown>\r\n  );\r\n};\r\n\r\nLineHeight.propTypes = {\r\n  headings: PropTypes.any,\r\n  lineHeights: PropTypes.any,\r\n  current: PropTypes.any,\r\n  onChange: PropTypes.any,\r\n  editorState: PropTypes.any,\r\n  defaultCaption: PropTypes.any,\r\n  getContainerNode: PropTypes.any,\r\n  language: PropTypes.any,\r\n};\r\n\r\nexport default LineHeight;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { ContentUtils } from 'braft-utils';\r\n\r\nimport DropDown from 'components/common/DropDown';\r\n\r\nimport './style.scss';\r\n\r\nconst toggleFontFamily = (event, props) => {\r\n  let fontFamilyName = event.currentTarget.dataset.name;\r\n  const hookReturns = props.hooks('toggle-font-family', fontFamilyName)(\r\n    fontFamilyName,\r\n    props.fontFamilies,\r\n  );\r\n\r\n  if (hookReturns === false) {\r\n    return false;\r\n  }\r\n\r\n  if (typeof hookReturns === 'string') {\r\n    fontFamilyName = hookReturns;\r\n  }\r\n\r\n  props.editor.setValue(\r\n    ContentUtils.toggleSelectionFontFamily(props.editorState, fontFamilyName),\r\n  );\r\n  props.editor.requestFocus();\r\n  return true;\r\n};\r\n\r\nconst FontFamily = (props) => {\r\n  let caption = null;\r\n  let currentIndex = null;\r\n  let dropDownInstance = null;\r\n\r\n  props.fontFamilies.find((item, index) => {\r\n    if (\r\n      ContentUtils.selectionHasInlineStyle(\r\n        props.editorState,\r\n        `FONTFAMILY-${item.name}`,\r\n      )\r\n    ) {\r\n      caption = item.name;\r\n      currentIndex = index;\r\n      return true;\r\n    }\r\n    return false;\r\n  });\r\n\r\n  return (\r\n    <DropDown\r\n      caption={caption || props.defaultCaption}\r\n      getContainerNode={props.getContainerNode}\r\n      title={props.language.controls.fontFamily}\r\n      autoHide\r\n      arrowActive={currentIndex === 0}\r\n      // eslint-disable-next-line no-return-assign\r\n      ref={(instance) => (dropDownInstance = instance)}\r\n      className=\"control-item dropdown font-family-dropdown\"\r\n    >\r\n      <ul className=\"menu\">\r\n        {props.fontFamilies.map((item, index) => {\r\n          return (\r\n            <li\r\n              key={uuidv4()}\r\n              role=\"presentation\"\r\n              className={`menu-item ${index === currentIndex ? 'active' : ''}`}\r\n              data-name={item.name}\r\n              onClick={(event) => {\r\n                toggleFontFamily(event, props);\r\n                dropDownInstance.hide();\r\n              }}\r\n            >\r\n              <span style={{ fontFamily: item.family }}>{item.name}</span>\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    </DropDown>\r\n  );\r\n};\r\n\r\nFontFamily.propTypes = {\r\n  fontFamilies: PropTypes.any,\r\n  editorState: PropTypes.any,\r\n  defaultCaption: PropTypes.any,\r\n  getContainerNode: PropTypes.any,\r\n  language: PropTypes.any,\r\n};\r\n\r\nexport default FontFamily;\r\n","/* eslint-disable camelcase */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { ContentUtils } from 'braft-utils';\r\nimport mergeClassNames from '@maximusft/mergeclassnames';\r\n\r\nimport ControlGroup from 'components/business/ControlGroup';\r\n\r\nclass TextAlign extends React.Component {\r\n  state = {\r\n    currentAlignment: undefined,\r\n  };\r\n\r\n  UNSAFE_componentWillReceiveProps(next) {\r\n    this.setState({\r\n      currentAlignment: ContentUtils.getSelectionBlockData(\r\n        next.editorState,\r\n        'textAlign',\r\n      ),\r\n    });\r\n  }\r\n\r\n  setAlignment = (event) => {\r\n    let { alignment } = event.currentTarget.dataset;\r\n    const hookReturns = this.props.hooks(\r\n      'toggle-text-alignment',\r\n      alignment,\r\n    )(alignment);\r\n\r\n    if (this.props.textAligns.indexOf(hookReturns) > -1) {\r\n      alignment = hookReturns;\r\n    }\r\n\r\n    this.props.editor.setValue(\r\n      ContentUtils.toggleSelectionAlignment(this.props.editorState, alignment),\r\n    );\r\n    this.props.editor.requestFocus();\r\n  };\r\n\r\n  render() {\r\n    const textAlignmentTitles = [\r\n      this.props.language.controls.alignLeft,\r\n      this.props.language.controls.alignCenter,\r\n      this.props.language.controls.alignRight,\r\n      this.props.language.controls.alignJustify,\r\n    ];\r\n\r\n    return (\r\n      <ControlGroup>\r\n        {this.props.textAligns.map((item, index) => (\r\n          <button\r\n            type=\"button\"\r\n            key={uuidv4()}\r\n            data-title={textAlignmentTitles[index]}\r\n            data-alignment={item}\r\n            className={mergeClassNames(\r\n              'control-item button',\r\n              item === this.state.currentAlignment && 'active',\r\n            )}\r\n            onClick={this.setAlignment}\r\n          >\r\n            <i className={`bfi-align-${item}`} />\r\n          </button>\r\n        ))}\r\n      </ControlGroup>\r\n    );\r\n  }\r\n}\r\n\r\nTextAlign.propTypes = {\r\n  textAligns: PropTypes.any,\r\n  editor: PropTypes.any,\r\n  language: PropTypes.any,\r\n  hooks: PropTypes.any,\r\n  editorState: PropTypes.any,\r\n};\r\n\r\nexport default TextAlign;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { ContentUtils } from 'braft-utils';\r\n\r\nimport DropDown from 'components/common/DropDown';\r\n\r\nimport './style.scss';\r\n\r\nconst insertEmoji = (event, props) => {\r\n  let emoji = event.currentTarget.dataset.emoji;\r\n  const hookReturns = props.hooks('insert-emoji', emoji)(emoji);\r\n\r\n  if (hookReturns === false) {\r\n    return false;\r\n  }\r\n\r\n  if (typeof hookReturns === 'string') {\r\n    emoji = hookReturns;\r\n  }\r\n\r\n  props.editor.setValue(ContentUtils.insertText(props.editorState, emoji));\r\n  props.editor.requestFocus();\r\n\r\n  return true;\r\n};\r\n\r\nconst EmojiPicker = (props) => {\r\n  return (\r\n    <DropDown\r\n      caption={props.defaultCaption}\r\n      autoHide\r\n      showArrow={false}\r\n      getContainerNode={props.getContainerNode}\r\n      title={props.language.controls.emoji}\r\n      className=\"control-item dropdown bf-emoji-dropdown\"\r\n    >\r\n      <div className=\"bf-emojis-wrap\">\r\n        <ul className=\"bf-emojis\">\r\n          {props.emojis.map((item) => {\r\n            return (\r\n              <li\r\n                key={uuidv4()}\r\n                data-emoji={item}\r\n                onClick={(event) => insertEmoji(event, props)}\r\n                role=\"presentation\"\r\n              >\r\n                {item}\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      </div>\r\n    </DropDown>\r\n  );\r\n};\r\n\r\nEmojiPicker.propTypes = {\r\n  defaultCaption: PropTypes.any,\r\n  getContainerNode: PropTypes.any,\r\n  emojis: PropTypes.any,\r\n  language: PropTypes.any,\r\n};\r\n\r\nexport default EmojiPicker;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { ContentUtils } from 'braft-utils';\r\n\r\nimport DropDown from 'components/common/DropDown';\r\n\r\nimport './style.scss';\r\n\r\nconst toggleLetterSpacing = (event, props) => {\r\n  let letterSpacing = event.currentTarget.dataset.size;\r\n  const hookReturns = props.hooks(\r\n    'toggle-letter-spacing',\r\n    letterSpacing,\r\n  )(letterSpacing);\r\n\r\n  if (hookReturns === false) {\r\n    return false;\r\n  }\r\n\r\n  if (!isNaN(hookReturns)) {\r\n    letterSpacing = hookReturns;\r\n  }\r\n\r\n  props.editor.setValue(\r\n    ContentUtils.toggleSelectionLetterSpacing(props.editorState, letterSpacing),\r\n  );\r\n  props.editor.requestFocus();\r\n  return true;\r\n};\r\n\r\nconst LetterSpacing = (props) => {\r\n  let caption = null;\r\n  let currentLetterSpacing = null;\r\n  let dropDownInstance = null;\r\n\r\n  props.letterSpacings.find((item) => {\r\n    if (\r\n      ContentUtils.selectionHasInlineStyle(\r\n        props.editorState,\r\n        `LETTERSPACING-${item}`,\r\n      )\r\n    ) {\r\n      caption = item;\r\n      currentLetterSpacing = item;\r\n      return true;\r\n    }\r\n    return false;\r\n  });\r\n\r\n  return (\r\n    <DropDown\r\n      autoHide\r\n      caption={caption || props.defaultCaption}\r\n      getContainerNode={props.getContainerNode}\r\n      title={props.language.controls.letterSpacing}\r\n      // eslint-disable-next-line no-return-assign\r\n      ref={(instance) => (dropDownInstance = instance)}\r\n      className=\"control-item dropdown bf-letter-spacing-dropdown\"\r\n    >\r\n      <ul className=\"bf-letter-spacings\">\r\n        {props.letterSpacings.map((item) => {\r\n          return (\r\n            <li\r\n              key={uuidv4()}\r\n              role=\"presentation\"\r\n              className={item === currentLetterSpacing ? 'active' : null}\r\n              data-size={item}\r\n              onClick={(event) => {\r\n                toggleLetterSpacing(event, props);\r\n                dropDownInstance.hide();\r\n              }}\r\n            >\r\n              {item}\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    </DropDown>\r\n  );\r\n};\r\n\r\nLetterSpacing.propTypes = {\r\n  headings: PropTypes.any,\r\n  letterSpacings: PropTypes.any,\r\n  current: PropTypes.any,\r\n  onChange: PropTypes.any,\r\n  editorState: PropTypes.any,\r\n  defaultCaption: PropTypes.any,\r\n  getContainerNode: PropTypes.any,\r\n  language: PropTypes.any,\r\n};\r\n\r\nexport default LetterSpacing;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ContentUtils } from 'braft-utils';\r\n\r\nimport ControlGroup from 'components/business/ControlGroup';\r\n\r\nclass TextIndent extends React.Component {\r\n  state = {\r\n    currentIndent: 0,\r\n  };\r\n\r\n  // eslint-disable-next-line camelcase\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    this.setState({\r\n      currentIndent:\r\n        ContentUtils.getSelectionBlockData(\r\n          nextProps.editorState,\r\n          'textIndent',\r\n        ) || 0,\r\n    });\r\n  }\r\n\r\n  increaseIndent = () => {\r\n    this.props.editor.setValue(\r\n      ContentUtils.increaseSelectionIndent(this.props.editorState),\r\n    );\r\n    this.props.editor.requestFocus();\r\n  };\r\n\r\n  decreaseIndent = () => {\r\n    this.props.editor.setValue(\r\n      ContentUtils.decreaseSelectionIndent(this.props.editorState),\r\n    );\r\n    this.props.editor.requestFocus();\r\n  };\r\n\r\n  render() {\r\n    const { currentIndent } = this.state;\r\n    const { language } = this.props;\r\n\r\n    return (\r\n      <ControlGroup>\r\n        <button\r\n          key={0}\r\n          type=\"button\"\r\n          data-title={language.controls.increaseIndent}\r\n          disabled={currentIndent >= 6}\r\n          className={`control-item button button-indent-increase${\r\n            currentIndent > 0 && currentIndent < 6 ? ' active' : ''\r\n          }`}\r\n          onClick={this.increaseIndent}\r\n        >\r\n          <i className=\"bfi-indent-increase\" />\r\n        </button>\r\n        <button\r\n          key={1}\r\n          type=\"button\"\r\n          data-title={language.controls.decreaseIndent}\r\n          disabled={currentIndent <= 0}\r\n          className=\"control-item button button-indent-decrease\"\r\n          onClick={this.decreaseIndent}\r\n        >\r\n          <i className=\"bfi-indent-decrease\" />\r\n        </button>\r\n      </ControlGroup>\r\n    );\r\n  }\r\n}\r\n\r\nTextIndent.propTypes = {\r\n  colors: PropTypes.any,\r\n  editor: PropTypes.any,\r\n  language: PropTypes.any,\r\n  hooks: PropTypes.any,\r\n  editorState: PropTypes.any,\r\n  colorPicker: PropTypes.any,\r\n  autoHide: PropTypes.any,\r\n  theme: PropTypes.any,\r\n  getContainerNode: PropTypes.any,\r\n  enableBackgroundColor: PropTypes.any,\r\n};\r\n\r\nexport default TextIndent;\r\n","/* eslint-disable react/no-danger */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { v4 as uuidv4 } from 'uuid';\nimport { ContentUtils } from 'braft-utils';\n\nimport getEditorControls from 'configs/controls';\nimport LinkEditor from 'components/business/LinkEditor';\nimport HeadingPicker from 'components/business/Headings';\nimport TextColorPicker from 'components/business/TextColor';\nimport FontSizePicker from 'components/business/FontSize';\nimport LineHeightPicker from 'components/business/LineHeight';\nimport FontFamilyPicker from 'components/business/FontFamily';\nimport TextAlign from 'components/business/TextAlign';\nimport EmojiPicker from 'components/business/EmojiPicker';\nimport LetterSpacingPicker from 'components/business/LetterSpacing';\nimport TextIndent from 'components/business/TextIndent';\nimport DropDown from 'components/common/DropDown';\nimport { showModal } from 'components/common/Modal';\nimport { getExtensionControls } from 'helpers/extension';\n\nimport './style.scss';\n\nconst commandHookMap = {\n  'inline-style': 'toggle-inline-style',\n  'block-type': 'change-block-type',\n  'editor-method': 'exec-editor-command',\n};\n\nconst exclusiveInlineStyles = {\n  superscript: 'subscript',\n  subscript: 'superscript',\n};\n\nconst mergeControls = (\n  commonProps,\n  builtControls,\n  extensionControls,\n  extendControls,\n) => {\n  const customExtendControls = extendControls.map((item) =>\n    typeof item === 'function' ? item(commonProps) : item,\n  );\n\n  if (extensionControls.length === 0 && customExtendControls.length === 0) {\n    return builtControls;\n  }\n\n  return builtControls\n    .map((item) => {\n      return (\n        customExtendControls.find((subItem) => {\n          return subItem.replace === (item.key || item);\n        }) ||\n        extensionControls.find((subItem) => {\n          return subItem.replace === (item.key || item);\n        }) ||\n        item\n      );\n    })\n    .concat(extensionControls.length ? 'separator' : '')\n    .concat(\n      extensionControls.filter((item) => {\n        return !item.replace;\n      }),\n    )\n    .concat(\n      customExtendControls.filter((item) => {\n        return typeof item === 'string' || !item.replace;\n      }),\n    );\n};\n\nexport default class ControlBar extends React.Component {\n  componentDidUpdate() {\n    const { language } = this.props;\n\n    this.allControls.forEach((item) => {\n      if (item.type === 'modal') {\n        if (item.modal && item.modal.id && this.extendedModals[item.modal.id]) {\n          this.extendedModals[item.modal.id].update({\n            ...item.modal,\n            language,\n          });\n        }\n      }\n    });\n  }\n\n  allControls = [];\n\n  mediaLibiraryModal = null;\n\n  extendedModals = {};\n\n  getControlItemClassName(data) {\n    let className = 'control-item button';\n    const { type, command } = data;\n\n    if (\n      type === 'inline-style' &&\n      ContentUtils.selectionHasInlineStyle(this.props.editorState, command)\n    ) {\n      className += ' active';\n    } else if (\n      type === 'block-type' &&\n      ContentUtils.getSelectionBlockType(this.props.editorState) === command\n    ) {\n      className += ' active';\n    } else if (\n      type === 'entity' &&\n      ContentUtils.getSelectionEntityType(this.props.editorState) === command\n    ) {\n      className += ' active';\n    }\n\n    return className;\n  }\n\n  applyControl(command, type, data = {}) {\n    let hookCommand = command;\n    const hookReturns = this.props.hooks(\n      commandHookMap[type] || type,\n      hookCommand,\n    )(hookCommand);\n    let editorState = this.props.editorState;\n\n    if (hookReturns === false) {\n      return false;\n    }\n\n    if (typeof hookReturns === 'string') {\n      hookCommand = hookReturns;\n    }\n\n    if (type === 'inline-style') {\n      const exclusiveInlineStyle = exclusiveInlineStyles[hookCommand];\n      if (\n        exclusiveInlineStyle &&\n        ContentUtils.selectionHasInlineStyle(editorState, exclusiveInlineStyle)\n      ) {\n        editorState = ContentUtils.toggleSelectionInlineStyle(\n          editorState,\n          exclusiveInlineStyle,\n        );\n      }\n      this.props.editor.setValue(\n        ContentUtils.toggleSelectionInlineStyle(editorState, hookCommand),\n      );\n    }\n    if (type === 'block-type') {\n      this.props.editor.setValue(\n        ContentUtils.toggleSelectionBlockType(editorState, hookCommand),\n      );\n    }\n    if (type === 'entity') {\n      this.props.editor.setValue(\n        ContentUtils.toggleSelectionEntity(editorState, {\n          type: hookCommand,\n          mutability: data.mutability || 'MUTABLE',\n          data: data.data || {},\n        }),\n      );\n    }\n    if (type === 'editor-method' && this.props.editor[hookCommand]) {\n      this.props.editor[hookCommand]();\n    }\n    return this.props.editor;\n  }\n\n  openBraftFinder = () => {\n    if (!this.props.braftFinder || !this.props.braftFinder.ReactComponent) {\n      return false;\n    }\n\n    if (this.props.hooks('open-braft-finder')() === false) {\n      return false;\n    }\n\n    const mediaProps = this.props.media;\n    const MediaLibrary = this.props.braftFinder.ReactComponent;\n\n    this.mediaLibiraryModal = showModal({\n      title: this.props.language.controls.mediaLibirary,\n      language: this.props.language,\n      width: 640,\n      showFooter: false,\n      component: (\n        <MediaLibrary\n          accepts={mediaProps.accepts}\n          onCancel={this.closeBraftFinder}\n          onInsert={this.insertMedias}\n          onChange={mediaProps.onChange}\n          externals={mediaProps.externals}\n          onBeforeSelect={this.bindBraftFinderHook('select-medias')}\n          onBeforeDeselect={this.bindBraftFinderHook('deselect-medias')}\n          onBeforeRemove={this.bindBraftFinderHook('remove-medias')}\n          onBeforeInsert={this.bindBraftFinderHook('insert-medias')}\n          onFileSelect={this.bindBraftFinderHook('select-files')}\n        />\n      ),\n    });\n    return true;\n  };\n\n  bindBraftFinderHook = (hookName) => (...params) => {\n    return this.props.hooks(hookName, params[0])(...params);\n  };\n\n  insertMedias = (medias) => {\n    this.props.editor.setValue(\n      ContentUtils.insertMedias(this.props.editorState, medias),\n    );\n    this.props.editor.requestFocus();\n    if (this.props.media.onInsert) {\n      this.props.media.onInsert(medias);\n    }\n    this.closeBraftFinder();\n  };\n\n  closeBraftFinder = () => {\n    if (this.props.media.onCancel) {\n      this.props.media.onCancel();\n    }\n    if (this.mediaLibiraryModal) {\n      this.mediaLibiraryModal.close();\n    }\n  };\n\n  preventDefault(event) {\n    const tagName = event.target.tagName.toLowerCase();\n\n    if (tagName === 'input' || tagName === 'label') {\n      // ...\n    } else {\n      event.preventDefault();\n    }\n  }\n\n  render() {\n    const {\n      allowInsertLinkText,\n      className,\n      colorPicker,\n      colorPickerAutoHide,\n      colorPickerTheme,\n      colors,\n      controls,\n      defaultLinkTarget,\n      editor,\n      editorId,\n      editorState,\n      emojis,\n      extendControls,\n      fontFamilies,\n      fontSizes,\n      getContainerNode,\n      headings,\n      hooks,\n      language,\n      letterSpacings,\n      lineHeights,\n      media,\n      style,\n      textAligns,\n      textBackgroundColor,\n    } = this.props;\n    const currentBlockType = ContentUtils.getSelectionBlockType(editorState);\n    const commonProps = {\n      editor,\n      editorId,\n      editorState,\n      language,\n      getContainerNode,\n      hooks,\n    };\n\n    const renderedControls = [];\n    const editorControls = getEditorControls(language, editor);\n    const extensionControls = getExtensionControls(editorId);\n    const allControls = mergeControls(\n      commonProps,\n      controls,\n      extensionControls,\n      extendControls,\n    );\n\n    this.allControls = allControls;\n\n    return (\n      <div\n        className={`bf-controlbar ${className || ''}`}\n        style={style}\n        onMouseDown={this.preventDefault}\n        role=\"button\"\n        tabIndex=\"0\"\n      >\n        {allControls.map((item) => {\n          const itemKey = typeof item === 'string' ? item : item.key;\n          if (typeof itemKey !== 'string') {\n            return null;\n          }\n          if (renderedControls.indexOf(itemKey) > -1) {\n            return null;\n          }\n          if (itemKey.toLowerCase() === 'separator') {\n            return <span key={uuidv4()} className=\"separator-line\" />;\n          }\n          let controlItem = editorControls.find((subItem) => {\n            return subItem.key.toLowerCase() === itemKey.toLowerCase();\n          });\n          if (typeof item !== 'string') {\n            controlItem = { ...controlItem, ...item };\n          }\n          if (!controlItem) {\n            return null;\n          }\n          renderedControls.push(itemKey);\n          if (controlItem.type === 'headings') {\n            return (\n              <HeadingPicker\n                key={uuidv4()}\n                headings={headings}\n                current={currentBlockType}\n                onChange={(command) => this.applyControl(command, 'block-type')}\n                {...commonProps}\n              />\n            );\n          }\n          if (controlItem.type === 'text-color') {\n            return (\n              <TextColorPicker\n                key={uuidv4()}\n                colors={colors}\n                colorPicker={colorPicker}\n                theme={colorPickerTheme}\n                autoHide={colorPickerAutoHide}\n                enableBackgroundColor={textBackgroundColor}\n                {...commonProps}\n              />\n            );\n          }\n          if (controlItem.type === 'font-size') {\n            return (\n              <FontSizePicker\n                key={uuidv4()}\n                fontSizes={fontSizes}\n                defaultCaption={controlItem.title}\n                {...commonProps}\n              />\n            );\n          }\n          if (controlItem.type === 'line-height') {\n            return (\n              <LineHeightPicker\n                key={uuidv4()}\n                lineHeights={lineHeights}\n                defaultCaption={controlItem.title}\n                {...commonProps}\n              />\n            );\n          }\n          if (controlItem.type === 'letter-spacing') {\n            return (\n              <LetterSpacingPicker\n                key={uuidv4()}\n                letterSpacings={letterSpacings}\n                defaultCaption={controlItem.title}\n                {...commonProps}\n              />\n            );\n          }\n          if (controlItem.type === 'text-indent') {\n            return (\n              <TextIndent\n                key={uuidv4()}\n                defaultCaption={controlItem.title}\n                {...commonProps}\n              />\n            );\n          }\n          if (controlItem.type === 'font-family') {\n            return (\n              <FontFamilyPicker\n                key={uuidv4()}\n                fontFamilies={fontFamilies}\n                defaultCaption={controlItem.title}\n                {...commonProps}\n              />\n            );\n          }\n          if (controlItem.type === 'emoji') {\n            return (\n              <EmojiPicker\n                key={uuidv4()}\n                emojis={emojis}\n                defaultCaption={controlItem.text}\n                {...commonProps}\n              />\n            );\n          }\n          if (controlItem.type === 'link') {\n            return (\n              <LinkEditor\n                key={uuidv4()}\n                defaultLinkTarget={defaultLinkTarget}\n                allowInsertLinkText={allowInsertLinkText}\n                {...commonProps}\n              />\n            );\n          }\n          if (controlItem.type === 'text-align') {\n            return (\n              <TextAlign\n                key={uuidv4()}\n                textAligns={textAligns}\n                {...commonProps}\n              />\n            );\n          }\n          if (controlItem.type === 'media') {\n            if (!media.image && !media.video && !media.audio) {\n              return null;\n            }\n            return (\n              <button\n                type=\"button\"\n                key={uuidv4()}\n                data-title={controlItem.title}\n                disabled={controlItem.disabled}\n                className=\"control-item media button\"\n                onClick={this.openBraftFinder}\n              >\n                {controlItem.text}\n              </button>\n            );\n          }\n          if (controlItem.type === 'dropdown') {\n            return (\n              <DropDown\n                key={uuidv4()}\n                className={`control-item extend-control-item dropdown ${controlItem.className ||\n                  ''}`}\n                caption={controlItem.text}\n                htmlCaption={controlItem.html}\n                showArrow={controlItem.showArrow}\n                title={controlItem.title}\n                arrowActive={controlItem.arrowActive}\n                theme={controlItem.theme}\n                autoHide={controlItem.autoHide}\n                disabled={controlItem.disabled}\n                ref={controlItem.ref}\n                {...commonProps}\n              >\n                {controlItem.component}\n              </DropDown>\n            );\n          }\n          if (controlItem.type === 'modal') {\n            return (\n              <button\n                type=\"button\"\n                key={uuidv4()}\n                data-title={controlItem.title}\n                disabled={controlItem.disabled}\n                className={`control-item extend-control-item button ${controlItem.className ||\n                  ''}`}\n                dangerouslySetInnerHTML={\n                  controlItem.html ? { __html: controlItem.html } : null\n                }\n                onClick={(event) => {\n                  if (controlItem.modal && controlItem.modal.id) {\n                    if (this.extendedModals[controlItem.modal.id]) {\n                      this.extendedModals[controlItem.modal.id].active = true;\n                      this.extendedModals[controlItem.modal.id].update({\n                        ...controlItem.modal,\n                        language,\n                      });\n                    } else {\n                      this.extendedModals[controlItem.modal.id] = showModal({\n                        ...controlItem.modal,\n                        language,\n                      });\n                      if (controlItem.modal.onCreate) {\n                        controlItem.modal.onCreate(\n                          this.extendedModals[controlItem.modal.id],\n                        );\n                      }\n                    }\n                  }\n                  if (controlItem.onClick) {\n                    controlItem.onClick(event);\n                  }\n                }}\n              >\n                {!controlItem.html ? controlItem.text : null}\n              </button>\n            );\n          }\n          if (controlItem.type === 'component') {\n            return (\n              <div\n                key={uuidv4()}\n                className={`component-wrapper ${controlItem.className || ''}`}\n              >\n                {controlItem.component}\n              </div>\n            );\n          }\n          if (controlItem.type === 'button') {\n            return (\n              <button\n                type=\"button\"\n                key={uuidv4()}\n                data-title={controlItem.title}\n                disabled={controlItem.disabled}\n                className={`control-item button ${controlItem.className || ''}`}\n                dangerouslySetInnerHTML={\n                  controlItem.html ? { __html: controlItem.html } : null\n                }\n                onClick={(event) =>\n                  controlItem.onClick && controlItem.onClick(event)\n                }\n              >\n                {!controlItem.html ? controlItem.text : null}\n              </button>\n            );\n          }\n          if (controlItem) {\n            let disabled = false;\n\n            if (controlItem.command === 'undo') {\n              disabled = editorState.getUndoStack().size === 0;\n            } else if (controlItem.command === 'redo') {\n              disabled = editorState.getRedoStack().size === 0;\n            }\n\n            return (\n              <button\n                type=\"button\"\n                key={uuidv4()}\n                disabled={disabled}\n                data-title={controlItem.title}\n                className={this.getControlItemClassName({\n                  type: controlItem.type,\n                  command: controlItem.command,\n                })}\n                onClick={() =>\n                  this.applyControl(\n                    controlItem.command,\n                    controlItem.type,\n                    controlItem.data,\n                  )\n                }\n              >\n                {controlItem.text}\n              </button>\n            );\n          }\n          return null;\n        })}\n      </div>\n    );\n  }\n}\n\nControlBar.propTypes = {\n  allowInsertLinkText: PropTypes.any,\n  braftFinder: PropTypes.any,\n  className: PropTypes.any,\n  colorPicker: PropTypes.any,\n  colorPickerAutoHide: PropTypes.any,\n  colorPickerTheme: PropTypes.any,\n  colors: PropTypes.any,\n  controls: PropTypes.any,\n  defaultLinkTarget: PropTypes.any,\n  editor: PropTypes.any,\n  editorId: PropTypes.any,\n  editorState: PropTypes.any,\n  emojis: PropTypes.any,\n  extendControls: PropTypes.any,\n  fontFamilies: PropTypes.any,\n  fontSizes: PropTypes.any,\n  getContainerNode: PropTypes.any,\n  headings: PropTypes.any,\n  hooks: PropTypes.any,\n  language: PropTypes.any,\n  letterSpacings: PropTypes.any,\n  lineHeights: PropTypes.any,\n  media: PropTypes.any,\n  style: PropTypes.any,\n  textAligns: PropTypes.any,\n  textBackgroundColor: PropTypes.any,\n};\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport BraftFinder from 'braft-finder';\r\nimport { ColorUtils, ContentUtils } from 'braft-utils';\r\nimport { Editor, EditorState } from 'draft-js';\r\nimport { Map } from 'immutable';\r\nimport mergeClassNames from '@maximusft/mergeclassnames';\r\n\r\nimport languages from 'languages';\r\nimport getKeyBindingFn from 'configs/keybindings';\r\nimport defaultProps from 'configs/props';\r\nimport {\r\n  keyCommandHandlers,\r\n  returnHandlers,\r\n  beforeInputHandlers,\r\n  dropHandlers,\r\n  droppedFilesHandlers,\r\n  copyHandlers,\r\n  pastedFilesHandlers,\r\n  pastedTextHandlers,\r\n  compositionStartHandler,\r\n} from 'configs/handlers';\r\nimport {\r\n  getBlockRendererFn,\r\n  getBlockRenderMap,\r\n  getBlockStyleFn,\r\n  getCustomStyleMap,\r\n  getCustomStyleFn,\r\n  getDecorators,\r\n} from 'renderers';\r\nimport {\r\n  compositeStyleImportFn,\r\n  compositeStyleExportFn,\r\n  compositeEntityImportFn,\r\n  compositeEntityExportFn,\r\n  compositeBlockImportFn,\r\n  compositeBlockExportFn,\r\n  getPropInterceptors,\r\n} from 'helpers/extension';\r\nimport ControlBar from 'components/business/ControlBar';\r\n\r\nimport 'draft-js/dist/Draft.css';\r\nimport 'assets/scss/_base.scss';\r\n\r\nconst buildHooks = (hooks) => (hookName, defaultReturns = {}) => {\r\n  return hooks[hookName] || (() => defaultReturns);\r\n};\r\n\r\nconst filterColors = (colors, colors2) => {\r\n  return colors\r\n    .filter((item) => {\r\n      return !colors2.find(\r\n        (color) => color.toLowerCase() === item.toLowerCase(),\r\n      );\r\n    })\r\n    .filter((item, index, array) => array.indexOf(item) === index);\r\n};\r\n\r\nconst isControlEnabled = (props, controlName) => {\r\n  return (\r\n    [...props.controls, ...props.extendControls].find(\r\n      (item) => item === controlName || item.key === controlName,\r\n    ) && props.excludeControls.indexOf(controlName) === -1\r\n  );\r\n};\r\n\r\nconst getConvertOptions = (props) => {\r\n  const editorId = props.editorId || props.id;\r\n  const convertOptions = {\r\n    ...defaultProps.converts,\r\n    ...props.converts,\r\n    fontFamilies: props.fontFamilies,\r\n  };\r\n\r\n  convertOptions.styleImportFn = compositeStyleImportFn(\r\n    convertOptions.styleImportFn,\r\n    editorId,\r\n  );\r\n  convertOptions.styleExportFn = compositeStyleExportFn(\r\n    convertOptions.styleExportFn,\r\n    editorId,\r\n  );\r\n  convertOptions.entityImportFn = compositeEntityImportFn(\r\n    convertOptions.entityImportFn,\r\n    editorId,\r\n  );\r\n  convertOptions.entityExportFn = compositeEntityExportFn(\r\n    convertOptions.entityExportFn,\r\n    editorId,\r\n  );\r\n  convertOptions.blockImportFn = compositeBlockImportFn(\r\n    convertOptions.blockImportFn,\r\n    editorId,\r\n  );\r\n  convertOptions.blockExportFn = compositeBlockExportFn(\r\n    convertOptions.blockExportFn,\r\n    editorId,\r\n  );\r\n\r\n  return convertOptions;\r\n};\r\n\r\nclass BraftEditor extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.editorProps = this.getEditorProps(props);\r\n    this.editorDecorators = getDecorators(\r\n      this.editorProps.editorId || this.editorProps.id,\r\n    );\r\n    this.controlBarInstance = React.createRef();\r\n    this.isFocused = false;\r\n    this.isLiving = false;\r\n    this.braftFinder = null;\r\n    this.valueInitialized = !!(this.props.defaultValue || this.props.value);\r\n\r\n    const defaultEditorState =\r\n      (this.props.defaultValue || this.props.value) instanceof EditorState\r\n        ? this.props.defaultValue || this.props.value\r\n        : EditorState.createEmpty(this.editorDecorators);\r\n    defaultEditorState.setConvertOptions(getConvertOptions(this.editorProps));\r\n\r\n    let tempColors = [];\r\n\r\n    if (ContentUtils.isEditorState(defaultEditorState)) {\r\n      const colors = ColorUtils.detectColorsFromDraftState(\r\n        defaultEditorState.toRAW(true),\r\n      );\r\n      defaultEditorState.setConvertOptions(getConvertOptions(this.editorProps));\r\n\r\n      tempColors = filterColors(colors, this.editorProps.colors);\r\n    }\r\n\r\n    this.state = {\r\n      tempColors,\r\n      editorState: defaultEditorState,\r\n      isFullscreen: false,\r\n    };\r\n    this.containerNode = null;\r\n  }\r\n\r\n  // eslint-disable-next-line camelcase\r\n  UNSAFE_componentWillMount() {\r\n    if (isControlEnabled(this.editorProps, 'media')) {\r\n      const { language, media } = this.editorProps;\r\n      const { uploadFn, validateFn, items } = {\r\n        ...defaultProps.media,\r\n        ...media,\r\n      };\r\n\r\n      this.braftFinder = new BraftFinder({\r\n        items,\r\n        language,\r\n        uploader: uploadFn,\r\n        validator: validateFn,\r\n      });\r\n\r\n      this.forceUpdate();\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.isLiving = true;\r\n  }\r\n\r\n  // eslint-disable-next-line camelcase\r\n  UNSAFE_componentWillReceiveProps(props) {\r\n    this.editorProps = this.getEditorProps(props);\r\n\r\n    const { value: editorState } = props;\r\n    const { media, language } = this.editorProps;\r\n    const currentProps = this.getEditorProps();\r\n\r\n    if (\r\n      !isControlEnabled(currentProps, 'media') &&\r\n      isControlEnabled(this.editorProps, 'media') &&\r\n      !this.braftFinder\r\n    ) {\r\n      const { uploadFn, validateFn, items } = {\r\n        ...defaultProps.media,\r\n        ...media,\r\n      };\r\n\r\n      this.braftFinder = new BraftFinder({\r\n        items,\r\n        language,\r\n        uploader: uploadFn,\r\n        validator: validateFn,\r\n      });\r\n\r\n      this.forceUpdate();\r\n    }\r\n\r\n    if (media && media.items && this.braftFinder) {\r\n      this.braftFinder.setItems(media.items);\r\n    }\r\n\r\n    let nextEditorState;\r\n\r\n    if (\r\n      !this.valueInitialized &&\r\n      typeof this.props.defaultValue === 'undefined' &&\r\n      ContentUtils.isEditorState(props.defaultValue)\r\n    ) {\r\n      nextEditorState = props.defaultValue;\r\n    } else if (ContentUtils.isEditorState(editorState)) {\r\n      nextEditorState = editorState;\r\n    }\r\n\r\n    if (nextEditorState) {\r\n      if (nextEditorState && nextEditorState !== this.state.editorState) {\r\n        const tempColors = ColorUtils.detectColorsFromDraftState(\r\n          nextEditorState.toRAW(true),\r\n        );\r\n        nextEditorState.setConvertOptions(getConvertOptions(this.editorProps));\r\n\r\n        this.setState(\r\n          (prevState) => ({\r\n            tempColors: filterColors(\r\n              [...prevState.tempColors, ...tempColors],\r\n              currentProps.colors,\r\n            ),\r\n            editorState: nextEditorState,\r\n          }),\r\n          () => {\r\n            if (this.props.onChange) {\r\n              this.props.onChange(nextEditorState);\r\n            }\r\n          },\r\n        );\r\n      } else {\r\n        this.setState({\r\n          editorState: nextEditorState,\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.editorState !== this.state.editorState) {\r\n      this.state.editorState.setConvertOptions(\r\n        getConvertOptions(this.editorProps),\r\n      );\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.isLiving = false;\r\n    if (this.controlBarInstance) {\r\n      this.controlBarInstance.closeBraftFinder();\r\n    }\r\n  }\r\n\r\n  getEditorProps(props = this.props) {\r\n    const { value, defaultValue, onChange, ...restProps } = props; // eslint-disable-line no-unused-vars\r\n    const propInterceptors = getPropInterceptors(\r\n      restProps.editorId || restProps.id,\r\n    );\r\n\r\n    if (propInterceptors.length === 0) {\r\n      return restProps;\r\n    }\r\n\r\n    let porpsMap = Map(restProps);\r\n\r\n    propInterceptors.forEach((interceptor) => {\r\n      porpsMap = porpsMap.merge(Map(interceptor(porpsMap.toJS(), this) || {}));\r\n    });\r\n\r\n    return porpsMap.toJS();\r\n  }\r\n\r\n  onChange = (editorState, callback) => {\r\n    let newEditorState = { ...editorState };\r\n    if (!(editorState instanceof EditorState)) {\r\n      newEditorState = EditorState.set(editorState, {\r\n        decorator: this.editorDecorators,\r\n      });\r\n    }\r\n\r\n    if (!newEditorState.convertOptions) {\r\n      newEditorState.setConvertOptions(getConvertOptions(this.editorProps));\r\n    }\r\n\r\n    this.setState({ editorState: newEditorState }, () => {\r\n      if (this.props.onChange) {\r\n        this.props.onChange(newEditorState);\r\n      }\r\n      if (callback) {\r\n        callback(newEditorState);\r\n      }\r\n    });\r\n  };\r\n\r\n  getDraftInstance = () => {\r\n    return this.draftInstance;\r\n  };\r\n\r\n  getFinderInstance = () => {\r\n    return this.braftFinder;\r\n  };\r\n\r\n  getValue = () => {\r\n    return this.state.editorState;\r\n  };\r\n\r\n  setValue = (editorState, callback) => {\r\n    return this.onChange(editorState, callback);\r\n  };\r\n\r\n  forceRender = () => {\r\n    const selectionState = this.state.editorState.getSelection();\r\n\r\n    this.setValue(\r\n      EditorState.set(this.state.editorState, {\r\n        decorator: this.editorDecorators,\r\n      }),\r\n      () => {\r\n        this.setValue(\r\n          EditorState.forceSelection(this.state.editorState, selectionState),\r\n        );\r\n      },\r\n    );\r\n  };\r\n\r\n  onTab = (event) => {\r\n    if (keyCommandHandlers('tab', this.state.editorState, this) === 'handled') {\r\n      event.preventDefault();\r\n    }\r\n    if (this.editorProps.onTab) {\r\n      this.editorProps.onTab(event);\r\n    }\r\n  };\r\n\r\n  onFocus = () => {\r\n    this.isFocused = true;\r\n    if (this.editorProps.onFocus) {\r\n      this.editorProps.onFocus(this.state.editorState);\r\n    }\r\n  };\r\n\r\n  onBlur = () => {\r\n    this.isFocused = false;\r\n    if (this.editorProps.onBlur) {\r\n      this.editorProps.onBlur(this.state.editorState);\r\n    }\r\n  };\r\n\r\n  requestFocus = () => {\r\n    setTimeout(() => this.draftInstance.focus(), 0);\r\n  };\r\n\r\n  handleKeyCommand = (command, editorState) =>\r\n    keyCommandHandlers(command, editorState, this);\r\n\r\n  handleReturn = (event, editorState) =>\r\n    returnHandlers(event, editorState, this);\r\n\r\n  handleBeforeInput = (chars, editorState) =>\r\n    beforeInputHandlers(chars, editorState, this);\r\n\r\n  handleDrop = (selectionState, dataTransfer) =>\r\n    dropHandlers(selectionState, dataTransfer, this);\r\n\r\n  handleDroppedFiles = (selectionState, files) =>\r\n    droppedFilesHandlers(selectionState, files, this);\r\n\r\n  handlePastedFiles = (files) => pastedFilesHandlers(files, this);\r\n\r\n  handleCopyContent = (event) => copyHandlers(event, this);\r\n\r\n  handlePastedText = (text, html, editorState) =>\r\n    pastedTextHandlers(text, html, editorState, this);\r\n\r\n  handleCompositionStart = (event) => compositionStartHandler(event, this);\r\n\r\n  undo = () => {\r\n    this.setValue(ContentUtils.undo(this.state.editorState));\r\n  };\r\n\r\n  redo = () => {\r\n    this.setValue(ContentUtils.redo(this.state.editorState));\r\n  };\r\n\r\n  removeSelectionInlineStyles = () => {\r\n    this.setValue(\r\n      ContentUtils.removeSelectionInlineStyles(this.state.editorState),\r\n    );\r\n  };\r\n\r\n  insertHorizontalLine = () => {\r\n    this.setValue(ContentUtils.insertHorizontalLine(this.state.editorState));\r\n  };\r\n\r\n  clearEditorContent = () => {\r\n    this.setValue(ContentUtils.clear(this.state.editorState), (editorState) => {\r\n      this.setValue(ContentUtils.toggleSelectionIndent(editorState, 0));\r\n    });\r\n  };\r\n\r\n  toggleFullscreen = (fullscreen) => {\r\n    this.setState(\r\n      (prevState) => ({\r\n        isFullscreen:\r\n          typeof fullscreen !== 'undefined'\r\n            ? fullscreen\r\n            : !prevState.isFullscreen,\r\n      }),\r\n      () => {\r\n        if (this.editorProps.onFullscreen) {\r\n          this.editorProps.onFullscreen(this.state.isFullscreen);\r\n        }\r\n      },\r\n    );\r\n  };\r\n\r\n  lockOrUnlockEditor(editorLocked) {\r\n    this.setState({ editorLocked });\r\n  }\r\n\r\n  setEditorContainerNode = (containerNode) => {\r\n    this.containerNode = containerNode;\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      editorId,\r\n      controls,\r\n      media,\r\n      language,\r\n      hooks,\r\n      placeholder,\r\n    } = this.editorProps;\r\n    const {\r\n      id,\r\n      excludeControls,\r\n      extendControls,\r\n      readOnly,\r\n      disabled,\r\n      colors,\r\n      colorPicker,\r\n      colorPickerTheme,\r\n      colorPickerAutoHide,\r\n      fontSizes,\r\n      fontFamilies,\r\n      emojis,\r\n      fixPlaceholder,\r\n      headings,\r\n      imageControls,\r\n      imageResizable,\r\n      imageEqualRatio,\r\n      lineHeights,\r\n      letterSpacings,\r\n      textAligns,\r\n      textBackgroundColor,\r\n      allowInsertLinkText,\r\n      defaultLinkTarget,\r\n      extendAtomics,\r\n      className,\r\n      style,\r\n      controlBarClassName,\r\n      controlBarStyle,\r\n      contentClassName,\r\n      contentStyle,\r\n      stripPastedStyles,\r\n      componentBelowControlBar,\r\n    } = this.editorProps;\r\n\r\n    const { isFullscreen, editorState } = this.state;\r\n\r\n    editorId = editorId || id;\r\n    hooks = buildHooks(hooks);\r\n    controls = controls.filter((item) => excludeControls.indexOf(item) === -1);\r\n    language =\r\n      (typeof language === 'function'\r\n        ? language(languages, 'braft-editor')\r\n        : languages[language]) || languages[defaultProps.language];\r\n\r\n    const externalMedias = {\r\n      ...defaultProps.media.externals,\r\n      ...(media && media.externals),\r\n    };\r\n\r\n    const accepts = {\r\n      ...defaultProps.media.accepts,\r\n      ...(media && media.accepts),\r\n    };\r\n\r\n    media = { ...defaultProps.media, ...media, externalMedias, accepts };\r\n\r\n    if (!media.uploadFn) {\r\n      media.video = false;\r\n      media.audio = false;\r\n    }\r\n\r\n    const controlBarProps = {\r\n      editor: this,\r\n      editorState,\r\n      braftFinder: this.braftFinder,\r\n      ref: this.controlBarInstance,\r\n      getContainerNode: () => this.containerNode,\r\n      className: controlBarClassName,\r\n      style: controlBarStyle,\r\n      colors: [...colors, ...this.state.tempColors],\r\n      colorPicker,\r\n      colorPickerTheme,\r\n      colorPickerAutoHide,\r\n      hooks,\r\n      editorId,\r\n      media,\r\n      controls,\r\n      language,\r\n      extendControls,\r\n      headings,\r\n      fontSizes,\r\n      fontFamilies,\r\n      emojis,\r\n      lineHeights,\r\n      letterSpacings,\r\n      textAligns,\r\n      textBackgroundColor,\r\n      allowInsertLinkText,\r\n      defaultLinkTarget,\r\n    };\r\n\r\n    const { unitExportFn } = editorState.convertOptions;\r\n\r\n    const commonProps = {\r\n      editor: this,\r\n      editorId,\r\n      hooks,\r\n      editorState,\r\n      containerNode: this.containerNode,\r\n      imageControls,\r\n      imageResizable,\r\n      language,\r\n      extendAtomics,\r\n      imageEqualRatio,\r\n    };\r\n\r\n    const blockRendererFn = getBlockRendererFn(\r\n      commonProps,\r\n      this.editorProps.blockRendererFn,\r\n    );\r\n    const blockRenderMap = getBlockRenderMap(\r\n      commonProps,\r\n      this.editorProps.blockRenderMap,\r\n    );\r\n    const blockStyleFn = getBlockStyleFn(this.editorProps.blockStyleFn);\r\n    const customStyleMap = getCustomStyleMap(\r\n      commonProps,\r\n      this.editorProps.customStyleMap,\r\n    );\r\n    const customStyleFn = getCustomStyleFn(commonProps, {\r\n      fontFamilies,\r\n      unitExportFn,\r\n      customStyleFn: this.editorProps.customStyleFn,\r\n    });\r\n\r\n    const keyBindingFn = getKeyBindingFn(this.editorProps.keyBindingFn);\r\n\r\n    const mixedProps = {};\r\n\r\n    if (\r\n      this.state.editorLocked ||\r\n      this.editorProps.disabled ||\r\n      this.editorProps.readOnly ||\r\n      this.editorProps.draftProps.readOnly\r\n    ) {\r\n      mixedProps.readOnly = true;\r\n    }\r\n\r\n    if (\r\n      placeholder &&\r\n      fixPlaceholder &&\r\n      editorState.isEmpty() &&\r\n      editorState\r\n        .getCurrentContent()\r\n        .getFirstBlock()\r\n        .getType() !== 'unstyled'\r\n    ) {\r\n      placeholder = '';\r\n    }\r\n\r\n    const draftProps = {\r\n      ref: (instance) => {\r\n        this.draftInstance = instance;\r\n      },\r\n      editorState,\r\n      handleKeyCommand: this.handleKeyCommand,\r\n      handleReturn: this.handleReturn,\r\n      handleBeforeInput: this.handleBeforeInput,\r\n      handleDrop: this.handleDrop,\r\n      handleDroppedFiles: this.handleDroppedFiles,\r\n      handlePastedText: this.handlePastedText,\r\n      handlePastedFiles: this.handlePastedFiles,\r\n      onChange: this.onChange,\r\n      onTab: this.onTab,\r\n      onFocus: this.onFocus,\r\n      onBlur: this.onBlur,\r\n      blockRenderMap,\r\n      blockRendererFn,\r\n      blockStyleFn,\r\n      customStyleMap,\r\n      customStyleFn,\r\n      keyBindingFn,\r\n      placeholder,\r\n      stripPastedStyles,\r\n      ...this.editorProps.draftProps,\r\n      ...mixedProps,\r\n    };\r\n\r\n    return (\r\n      <div\r\n        style={style}\r\n        ref={this.setEditorContainerNode}\r\n        className={mergeClassNames(\r\n          'bf-container',\r\n          className,\r\n          disabled && 'disabled',\r\n          readOnly && 'read-only',\r\n          isFullscreen && 'fullscreen',\r\n        )}\r\n      >\r\n        <ControlBar {...controlBarProps} />\r\n        {componentBelowControlBar}\r\n        <div\r\n          onCompositionStart={this.handleCompositionStart}\r\n          className={`bf-content ${contentClassName}`}\r\n          onCopy={this.handleCopyContent}\r\n          style={contentStyle}\r\n        >\r\n          <Editor {...draftProps} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nBraftEditor.defaultProps = defaultProps;\r\n\r\nBraftEditor.propTypes = {\r\n  value: PropTypes.any,\r\n  onChange: PropTypes.any,\r\n  defaultValue: PropTypes.any,\r\n};\r\n\r\nexport default BraftEditor;\r\n\r\nexport { EditorState };\r\n","import {\r\n  convertRawToEditorState,\r\n  convertHTMLToEditorState,\r\n  convertEditorStateToRaw,\r\n  convertEditorStateToHTML,\r\n} from 'braft-convert';\r\n\r\nimport {\r\n  createExtensibleEditor,\r\n  compositeStyleImportFn,\r\n  compositeStyleExportFn,\r\n  compositeEntityImportFn,\r\n  compositeEntityExportFn,\r\n  compositeBlockImportFn,\r\n  compositeBlockExportFn,\r\n} from 'helpers/extension';\r\nimport { getDecorators } from 'renderers';\r\nimport BraftEditor, { EditorState } from 'editor';\r\n\r\nEditorState.prototype.setConvertOptions = function setConvertOptions(\r\n  options = {},\r\n) {\r\n  this.convertOptions = options;\r\n};\r\n\r\nEditorState.prototype.toHTML = function toHTML(options = {}) {\r\n  const convertOptions = this.convertOptions || {};\r\n  return convertEditorStateToHTML(this, { ...convertOptions, ...options });\r\n};\r\n\r\nEditorState.prototype.toRAW = function toRAW(noStringify) {\r\n  return noStringify\r\n    ? convertEditorStateToRaw(this)\r\n    : JSON.stringify(convertEditorStateToRaw(this));\r\n};\r\n\r\nEditorState.prototype.toText = function toText() {\r\n  return this.getCurrentContent().getPlainText();\r\n};\r\n\r\nEditorState.prototype.isEmpty = function isEmpty() {\r\n  return !this.getCurrentContent().hasText();\r\n};\r\n\r\nEditorState.createFrom = (content, options = {}) => {\r\n  const customOptions = { ...options };\r\n  customOptions.unitExportFn =\r\n    customOptions.unitExportFn ||\r\n    BraftEditor.defaultProps.converts.unitExportFn;\r\n  customOptions.styleImportFn = compositeStyleImportFn(\r\n    customOptions.styleImportFn,\r\n    customOptions.editorId,\r\n  );\r\n  customOptions.entityImportFn = compositeEntityImportFn(\r\n    customOptions.entityImportFn,\r\n    customOptions.editorId,\r\n  );\r\n  customOptions.blockImportFn = compositeBlockImportFn(\r\n    customOptions.blockImportFn,\r\n    customOptions.editorId,\r\n  );\r\n\r\n  let editorState = null;\r\n\r\n  if (content instanceof EditorState) {\r\n    editorState = content;\r\n  }\r\n  if (\r\n    typeof content === 'object' &&\r\n    content &&\r\n    content.blocks &&\r\n    content.entityMap\r\n  ) {\r\n    editorState = convertRawToEditorState(\r\n      content,\r\n      getDecorators(customOptions.editorId),\r\n    );\r\n  }\r\n  if (typeof content === 'string') {\r\n    try {\r\n      if (/^(-)?\\d+$/.test(content)) {\r\n        editorState = convertHTMLToEditorState(\r\n          content,\r\n          getDecorators(customOptions.editorId),\r\n          customOptions,\r\n          'create',\r\n        );\r\n      } else {\r\n        editorState = EditorState.createFrom(\r\n          JSON.parse(content),\r\n          customOptions,\r\n        );\r\n      }\r\n    } catch (error) {\r\n      editorState = convertHTMLToEditorState(\r\n        content,\r\n        getDecorators(customOptions.editorId),\r\n        customOptions,\r\n        'create',\r\n      );\r\n    }\r\n  }\r\n  if (typeof content === 'number') {\r\n    editorState = convertHTMLToEditorState(\r\n      content.toLocaleString().replace(/,/g, ''),\r\n      getDecorators(customOptions.editorId),\r\n      customOptions,\r\n      'create',\r\n    );\r\n  } else {\r\n    editorState = EditorState.createEmpty(\r\n      getDecorators(customOptions.editorId),\r\n    );\r\n  }\r\n\r\n  customOptions.styleExportFn = compositeStyleExportFn(\r\n    customOptions.styleExportFn,\r\n    customOptions.editorId,\r\n  );\r\n  customOptions.entityExportFn = compositeEntityExportFn(\r\n    customOptions.entityExportFn,\r\n    customOptions.editorId,\r\n  );\r\n  customOptions.blockExportFn = compositeBlockExportFn(\r\n    customOptions.blockExportFn,\r\n    customOptions.editorId,\r\n  );\r\n\r\n  editorState.setConvertOptions(customOptions);\r\n\r\n  return editorState;\r\n};\r\n\r\nBraftEditor.createEditorState = EditorState.createFrom;\r\n\r\nexport default createExtensibleEditor(BraftEditor);\r\nexport { EditorState, getDecorators };\r\n\r\n// 2.1 version development plan\r\n// [] Optimizing the selection of multiple lines of text is an error when inserting a link\r\n// [] Add a new image delete hook in the editor\r\n\r\n// 2.2 development plan\r\n// [] table function\r\n// [] Beautify the UI, including icons and interface style\r\n\r\n// version 2.3 development plan\r\n// [] Primary md shortcut input support\r\n// [] simple editing functions such as picture cropping\r\n// [] allows custom shortcuts\r\n","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin"],"sourceRoot":""}